<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Getting_Started/de&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:17:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for Getting Started/de - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Getting_Started/de","wgTitle":"Getting Started/de","wgCurRevisionId":17861,"wgRevisionId":0,"wgArticleId":1937,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Getting_Started/de","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Getting_Started_de skin-vector action-edit vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for Getting Started/de</span></h1>
						<div id="bodyContent">
								<div id="contentSub">← <a href="http://wiki.qt.io/Getting_Started/de" title="Getting Started/de">Getting Started/de</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="http://wiki.qt.io/index.php?title=Qt_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Qt Wiki:Users (page does not exist)">Users</a>, KnowledgeBase, QtWS.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">diese Seite in: [http://doc.qt.io/qt-4.8/gettingstartedqt.html en], [http://wiki.qt.io/GettingStartedQt_Spanish es], [http://wiki.qt.io/GettingStartedWithQtRussian ru], [http://wiki.qt.io/GettingStartedQtPolish pl], [http://wiki.qt.io/gettingStartedPortuguese pt], [http://wiki.qt.io/GettingStartedQtDutch nl]


= Schnelleinstieg in die Programmierung mit Qt =

Willkommen in der Welt von Qt des plattformübergreifenden GUI Framework. In dieser "Schnelleinstiegs"-anleitung lehren wir grundlegendes Qt Wissen durch das Implementieren einer einfachen Notepad Anwendung. Nach dem Durchlesen dieser Anleitung sind Sie soweit in die Übersichten und API Dokumentation einzutauchen und die Informationen zu finden, die Sie für die Anwendung brauchen, die Sie entwickeln.

== Hallo Notepad ==

In diesem ersten Beispiel werden wir ein einfaches Texteingabefeld erstellen und in einem Fenster auf dem Desktop anzeigen. Das stellt das einfachste Qt Programm mit einer Benutzeroberfläche dar.

[[Image:http://doc.qt.io/qt-4.8/images/gs1.png|Texteingabefenster]]

Hier ist der Code:
&lt;code>
#include &lt;QApplication>
#include &lt;QTextEdit>

int main(int argc, char *argv[])
{
 QApplication app(argc, argv);

QTextEdit textEdit;
 textEdit.show();

return app.exec();
}
&lt;/code>

Lassen Sie uns mal Zeile für Zeile durch den Code gehen. In den ersten beiden Zeilen binden wir die Headerdateien für [http://doc.qt.io/qt-4.8/qapplication.html QApplication] und [http://doc.qt.io/qt-4.8/qtextedit.html QTextEdit] ein, die beide Klassen darstellen, die wir für dieses Beispiel benötigen. Alle Qt Klassen haben eine Headerdatei, die den Namen der Klasse trägt.

Zeile 6 erstellt ein QApplication Objekt. Dieses Objekt behandelt anwendungsweit Ressourcen und ist notwendig für eine Qt Anwendung mit einer grafischen Benutzeroberfläche. Der Konstruktor benötigt argc und argv, weil Qt ein Paar Kommandozeilenargumente entgegen nehmen kann.

Zeile 8 erstellt ein QTextEdit Objekt. Eine Texteingabefeld ist ein visuelles Element einer Benutzeroberfläche. In Qt nennen wir solche Elemente Widgets. Beispiele anderer Widgets sind Scrollbalken, Labels und Radiobuttons. Ein Widget kann auch ein Container für andere Widgets sein; ein Dialog oder ein Hauptanwendungsfenster zum Beispiel.

Zeile 9 zeigt das Texteingabefeld auf dem Bildschirm in seinem eigenen Fenster. Da Widgets auch als Container verwendet werden können (z.B. ein [http://doc.qt.io/qt-4.8/qmainwindow.html QMainWindow], das Toolbars, Menüs, Statuszeile und ein paar andere Widgets), ist es möglich ein einzelnes Widget in eigenem Fenster anzuzeigen. Widgets sind standardmäßig nicht sichtbar; die Funktion [http://doc.qt.io/qt-4.8/qwidget.html#show show()] macht sie sichtbar.

Zeile 11 lässt [http://doc.qt.io/qt-4.8/qapplication.html QApplication] in die Ereignisschleife eintreten. Solange eine Qt Anwendung läuft werden Ereignisse generiert und an die Widgets der Anwendung gesendet. Beispiele solcher Ereignisse sind Mausklicks oder Tastatureingaben. Wenn Sie einen Text in das Texteingabefeld eintippen empfängt es Tastatureingabe Ereignisse und beantwortet diese in dem es den eingegebenen Text darstellt.

Um die Anwendung auszuführen öffnen Sie die Kommandozeile und gehen zum Verzeichnis in dem Sie die .cpp Dateien des Programms liegen haben. Folgende Shell Kommandos übersetzen und erstellen das Programm.

&lt;code>
qmake -project
qmake
make
&lt;/code>

Das wird eine ausführbare Datei im part1 Verzeichnis erstellen (unter Windows werden Sie u. U. nmake anstatt make verwenden müssen. Ferner wird die ausführbare Datei in part1/debug oder part1/release erstellt). qmake is Qts Erstellprogramm, das eine Konfigurationsdatei entgegen nimmt. qmake erstellt diese für uns, wenn das Argument -project übergeben wird. Mit der Konfigurationsdatei (mit der Endung .pro) erstellt qmake eine make Datei, das das Programm für Sie erstellt. Wir werden uns später ansehen wie man eigene .pro Datei schreibt.

=== Mehr erfahren ===
|''. Über |''. Hier |
| Widgets und Fenstergeometrie | [http://doc.qt.io/qt-4.8/application-windows.html Window and Dialog Widgets] |
| Ereignisse und ihre Behandlung | [http://doc.qt.io/qt-4.8/eventsandfilters.html The Event System] |

== Einen Beenden Knopf hinzufügen ==
In einer echten Anwendung werden Sie mehr als nur ein Widget benötigen. Wir werden nun einen [http://doc.qt.io/qt-4.8/qpushbutton.html QPushButton] unter das Texteingabefeld anbringen. Der Knopf wird die Notepad Anwendung beim Betätigen (z. B. durch das Klicken mit der Maus) beenden.

[[Image:http://doc.qt.io/qt-4.8/images/gs2.png|Eingabefeld mit Beenden Knopf]]

Lassen Sie uns mal einen Blick auf den Code werfen:
&lt;code>
#include &lt;QApplication>
#include &lt;QLayout>
#include &lt;QTextEdit>
#include &lt;QPushButton>

int main(int argc, char *argv[])
{
 QApplication app(argc, argv);

 QTextEdit *textEdit = new QTextEdit;
 QPushButton *quitButton = new QPushButton("&amp;Quit");

 QObject::connect(quitButton, SIGNAL (clicked()), qApp, SLOT (quit()));

 QVBoxLayout *layout = new QVBoxLayout;
 layout->addWidget(textEdit);
 layout->addWidget(quitButton);

 QWidget window;
 window.setLayout(&amp;layout);

 window.show();

 return app.exec();
}
&lt;/code>

Zeile 13 verwendet Qts Signals and Slots Mechanismus um die Anwendung beim Drücken des '''Beenden Knopf''' zu schließen. Ein Slot ist eine Funktion, die durch die Verwendung ihres Namens (in Form einer Zeichenkette) zu Laufzeit aufgerufen werden kann. Ein Signal ist eine Funktion die, wenn aufgerufen, alle dazu registrierten Slots aufruft; wir nennen es einen Slot mit einem Signal verbinden und ein Signal erzeugen.

[http://doc.qt.io/qt-4.8/qcoreapplication.html#quit quit()] ist ein Slot der [http://doc.qt.io/qt-4.8/qapplication.html QApplication], der die Anwendung beendet. [http://doc.qt.io/qt-4.8/qabstractbutton.html#clicked clicked()] ist ein Signal, das [http://doc.qt.io/qt-4.8/qpushbutton.html QPushButton] erzeugt, wenn der Knopf gedrückt wird. Die statische [http://doc.qt.io/qt-4.8/qobject.html#connect QObject::connect()] Funktion sorgt für die Verbindung des Slots und des Signals. SIGNAL () und SLOT() sind zwei Makros, die die Funktionssignatur des Signal bzw. Slot entgegennehmen, die verbunden werden sollen. Ferner müssen wir die Zeiger der Objekte übergeben, das das Signal sendet bzw. empfängt.

Zeile 15 erzeugt ein [http://doc.qt.io/qt-4.8/qvboxlayout.html QVBoxLayout]. Wie bereits erwähnt, können Widgets auch andere Widgets enthalten. Es ist möglich die Abgrenzungen (Größe und Position) eines Kindwidgets direkt zu setzen. Jedoch ist es einfacher ein Layout zu verwenden. Ein Layout verwaltet die Abgrenzungen der Kindwidgets. Beispielsweise positioniert [http://doc.qt.io/qt-4.8/qvboxlayout.html QVBoxLayout] die Kindelemente vertikal untereinander.

Zeile 16 und 17 fügen das Texteingabefeld und den Knopf dem Layout hinzu. In Zeile 20 setzen wir das Layout eines Widgets.

=== Mehr erfahren ===
|''. Über |''. Hier |
| Signale und Slots | [http://doc.qt.io/qt-4.8/signalsandslots.html Signals &amp; Slots] |
| Layouts | [http://doc.qt.io/qt-4.8/layout.html Layout Management], [http://doc.qt.io/qt-4.8/widgets-and-layouts.html Widgets and Layouts], [http://doc.qt.io/qt-4.8/examples-layouts.html Layout Examples] |
| Widgets die Qt bereitstellt | [http://doc.qt.io/qt-4.8/gallery.html Qt Widget Gallery], [http://doc.qt.io/qt-4.8/examples-widgets.html Widget Examples] |

== QWidget Unterklassen erstellen ==
Wenn der Benutzer die Anwendung beenden will ist es u. U. erwünscht einen Dialog anzuzeigen, der sicherstellt, dass der Benutzer die Anwendung tatsächlich beenden möchte. In diesem Beispiel erstellen wir eine [http://doc.qt.io/qt-4.8/qwidget.html QWidget] Unterklasse und fügen einen Slot der Klasse hinzu, den wir mit dem '''Beenden Knopf''' verknüpfen.

[[Image:http://doc.qt.io/qt-4.8/images/gs3.png|QWidget Unterklasse]]

Lassen Sie uns einen Blick auf den Code werfen:
&lt;code>
#include &lt;QWidget>
#include &lt;QTextEdit>
#include &lt;QPushButton>

class Notepad : public QWidget
{
 Q_OBJECT

public:
 Notepad();

private slots:
 void quit();

private:
 QTextEdit   *textEdit;
 QPushButton *quitButton;
};
&lt;/code>

Das Q_OBJECT Makro muss an erster Stelle einer Klassendefinition stehen; es deklariert unsere Klasse als [http://doc.qt.io/qt-4.8/qobject.html QObject] (natürlich muss sie auch vom QObject abgeleitet werden). Ein [http://doc.qt.io/qt-4.8/qobject.html QObject] reichert eine gewöhnlichen C++ Klasse mit einigen Fähigkeiten an. Beachtenswert ist die Möglichkeit den Klassen- und die Slotnamen zur Laufzeit abfragen zu können. Darüber hinaus ist es möglich die Parametertypen eines Slots abzufragen und den Slot aufzurufen.

Zeile 13 deklariert den Slot quit(). Einfach durch das Benutzen des Slot Makros. Der quit() Slot kann nun mit den Signalen verbunden werden, die eine passende Signatur besitzen (Jedes Signal, das keine Argumente erwartet).

Anstatt in der main() Funktion die Benutzeroberfläche zu erstellen und den Slot zu verbinden, benutzen wir Notepads Konstruktor.
&lt;code>
#include "notepad.h"
#include &lt;QApplication>

Notepad::Notepad()
{
 textEdit = new QTextEdit;
 quitButton = new QPushButton(tr("Quit"));

connect(quitButton, SIGNAL (clicked()), this, SLOT (quit()));

QVBoxLayout *layout = new QVBoxLayout;
 layout->addWidget(textEdit);
 layout->addWidget(quitButton);

 setLayout(layout);

 setWindowTitle(tr("Notepad"));
}
&lt;/code>

&lt;code>
void Notepad::quit()
{
 qApp->quit();
}
&lt;/code>

Wie Sie in der Klassendefinition sehen konnten, benutzen wir Zeiger unserer QObjects (textEdit und quitButton). In der Regel sollten Sie QObjects Objekte immer auf dem Heap erstellen und diese nie kopieren.

Nun benutzen wir die [http://doc.qt.io/qt-4.8/qobject.html#tr tr()] Funktion um unsere sichtbaren Bezeichner. Diese Funktion ist notwendig falls Sie vorhaben Ihre Anwendung in mehreren Sprachen (z. B. Englisch und Chinesisch) bereit zu stellen. Wir werden hier jedoch nicht ins Detail gehen. Sie können dem Qt Linguist Link folgen um mehr darüber zu erfahren.

=== Mehr erfahren ===
|''. Über |''. Hier |
| tr() und Internationalisierung | [http://doc.qt.io/qt-4.8/linguist-manual.html Qt Linguist Manual], [http://doc.qt.io/qt-4.8/i18n-source-translation.html Writing Source Code for Translation], [http://doc.qt.io/qt-4.8/linguist-hellotr.html Hello tr()] Example, [http://doc.qt.io/qt-4.8/internationalization.html Internationalization with Qt] |
| [http://doc.qt.io/qt-4.8/qobject.html QObjects] und das Qt Object Model (Essenziell um Qt zu verstehen) | [http://doc.qt.io/qt-4.8/object.html Object Model] |
| qmake und das Qt Erstellungssystem | [http://doc.qt.io/qt-4.8/qmake-manual.html qmake Manual] |

== Eine .pro Datei erstellen ==
In diesem Beispiel erstellen wir unsere eigene .pro Datei, anstatt uns eine durch
qmake -project Option generieren zu lassen.
&lt;code>
HEADERS = notepad.h
SOURCES = notepad.cpp main.cpp
&lt;/code>

Die folgenden Kommandozeilen Kommandos erstellen die Beispielanwendung.
&lt;code>
qmake
make
&lt;/code>

== Die Verwendung eines QMainWindow ==
Viele Anwendungen werden durch die Verwendung von [http://doc.qt.io/qt-4.8/qmainwindow.html QMainWindow] profitieren, das ihr eigenes Layout hat dem Sie eine Menüleiste, Dockwidgets, Werkzeugleisten und eine Statusleiste hinzufügen können. [http://doc.qt.io/qt-4.8/qmainwindow.html QMainWindow] besitzt einen zentralen Bereich, der durch beliebiges Widget besetzt werden kann. In unserem Fall werden wir unser Texteingabefeld dort platzieren.

[[Image:http://doc.qt.io/qt-4.8/images/gs4.png|QMainWindow]]

Lassen Sie uns einen Blick auf die neue Notepad Klassendefinition werfen:
&lt;code>
#include &lt;QMainWindow>
#include &lt;QTextEdit>
#include &lt;QAction>
#include &lt;QMenu>

class Notepad : public QMainWindow
{
 Q_OBJECT

public:
 Notepad();

private slots:
 void open();
 void save();
 void quit();

private:
 QTextEdit *textEdit;

 QAction *openAction;
 QAction *saveAction;
 QAction *exitAction;

 QMenu *fileMenu;
};
&lt;/code>

Wir fügen zwei weitere Slots hinzu, die ein Dokument speichern und schließen. Wir werden diese im nächsten Abschnitt implementieren.

In einem Hauptfenster soll der gleiche Slot oft mehrfach, durch verschiedene Widgets, aufgerufen werden können. Beispiele dafür sind Menüeinträge und Knöpfe in der Werkzeugleiste. Um dieses zu vereinfachen stellt Qt [http://doc.qt.io/qt-4.8/qaction.html QAction] bereit, die mehreren Widgets zugewiesen werden kann und mit einem Slot verbunden werden. Es können zum Beispiel sowohl [http://doc.qt.io/qt-4.8/qmenu.html QMenu] als auch [http://doc.qt.io/qt-4.8/qtoolbar.html QToolBar] Menüeinträge erzeugen unter Verwendung der gleichen [http://doc.qt.io/qt-4.8/qaction.html QActions]. Wir werden in Kürze sehen wie das funktioniert.

Wie zuvor benutzen wir Notepads Konstruktur um die Benutzeroberfläche zu erstellen.
&lt;code>
#include "notepad.h"
#include &lt;QMenuBar>

Notepad::Notepad()
{
 openAction = new QAction(tr("&amp;Open"), this);
 saveAction = new QAction(tr("&amp;Save"), this);
 exitAction = new QAction(tr("E&amp;xit"), this);

 connect(openAction, SIGNAL (triggered()), this, SLOT (open()));
 connect(saveAction, SIGNAL (triggered()), this, SLOT (save()));
 connect(exitAction, SIGNAL (triggered()), this, SLOT (quit()));

 fileMenu = menuBar()->addMenu(tr("&amp;File"));
 fileMenu->addAction(openAction);
 fileMenu->addAction(saveAction);
 fileMenu->addSeparator();
 fileMenu->addAction(exitAction);

 textEdit = new QTextEdit;
 setCentralWidget(textEdit);

 setWindowTitle(tr("Notepad"));
}
&lt;/code>
[http://doc.qt.io/qt-4.8/qaction.html QActions] werden mit dem Text erstellt, der auf dem Widget erscheinen soll, dem wir es zuweisen (in unserem Fall Menüeinträge). Falls wir sie zusätzlich auch einer Werkzeugleiste zuweisen wollten, hätten wir den Aktionen auch ein [http://doc.qt.io/qt-4.8/qicon.html Icon] zuweisen können.

Wenn nun ein Menüeintrag geklickt wird, löst der Eintrag die Aktion aus und der dazugehörige Slot wird aktiviert.

=== Mehr erfahren ===
|''. Über |''. Hier |
| Hauptanwendungsfenster und Hauptfensterklassen | [http://doc.qt.io/qt-4.8/mainwindow.html Application Main Window], [http://doc.qt.io/qt-4.8/examples-mainwindow.html Main Window Examples] |
| MDI applications | [http://doc.qt.io/qt-4.8/qmdiarea.html QMdiArea], [http://doc.qt.io/qt-4.8/mainwindows-mdi.html MDI Example] |

== Speichern und Laden ==
In diesem Beispiel werden wir die Funktionalität der open() und save() Slots implementieren, die wir im vorherigen Beispiel eingeführt haben.

[[Image:http://doc.qt.io/qt-4.8/images/gs5.png|Öffnen Dialog]]

Wir werden mit dem open() Slot beginnen:
&lt;code>
#include &lt;QFileDialog>
#include &lt;QMessageBox>
 
void Notepad::open()
{
QString fileName = QFileDialog::getOpenFileName(this, tr("Open File"), "",
 tr("Text Files (*.txt);;C++ Files (*.cpp *.h)"));

if (fileName != "") {
 QFile file(fileName);
 if (!file.open(QIODevice::ReadOnly)) {
 QMessageBox::critical(this, tr("Error"),
 tr("Could not open file"));
 return;
 }
 QString contents = file.readAll().constData();
 textEdit->setPlainText(contents);
 file.close();
 }
}
&lt;/code>

Der erste Schritt ist den Benutzer nach dem Dateinamen der Datei zu fragen, die er öffnen möchte. Qt stellt dafür ein [http://doc.qt.io/qt-4.8/qfiledialog.html QFileDialog] bereit, der einen Dialog darstellt in dem der Benutzer eine Datei auswählen kann. Das obere Bild zeigt den Dialog unter Kubuntu. Die statische [http://doc.qt.io/qt-4.8/qfiledialog.html#getOpenFileName getOpenFileName()] Funktion zeigt einen modalen Dateidialog bis der Benutzer eine Datei ausgewählt hat. Es liefert den Dateipfad der ausgesuchten Datei zurück oder eine leere Zeichenkette, falls der Dialog abgebrochen wurde.

Sobald wir einen Dateinamen haben versuchen wir die Datei mittels [http://doc.qt.io/qt-4.8/qiodevice.html#open open()] zu öffnen. Die open() Funktion liefert true im Erfolgsfall. Wir werden hier nicht auf die Fehlerbehandlung eingehen, auf die mehr in den "Mehr erfahren" Verknüpfungen eingegangen wird. Im Fehlerfall benutzen wir [http://doc.qt.io/qt-4.8/qmessagebox.html QMessageBox] um einen Dialog mit einer Fehlermeldung anzuzeigen (siehe die [http://doc.qt.io/qt-4.8/qmessagebox.html QMessageBox] Klassen Beschreibung für weitere Details).

Es ist recht einfach die Daten mit der Funktion [http://doc.qt.io/qt-4.8/qiodevice.html#readAll readAll()] einzulesen, die alle Daten einer Datei in einem [http://doc.qt.io/qt-4.8/qbytearray.html QByteArray] zurück gibt. Die [http://doc.qt.io/qt-4.8/qbytearray.html#constData constData()] Funktion gibt alle Daten in einem const char''' Array zurück, zu dem [http://doc.qt.io/qt-4.8/qstring.html QString] einen Konstruktor bereit stellt. Der Inhalt kann danach im Texteingabefeld angezeigt werden. Danach schließen wir die Datei mittels [http://doc.qt.io/qt-4.8/qiodevice.html#close close()] Funktion, um den Dateidescriptor an das Betriebssystem zu übergeben.

Lassen Sie uns nun zum save() Slot übergehen.
&lt;code>
#include &lt;QFileDialog>
#include &lt;QTextStream>
 
void Notepad::save()
{
QString fileName = QFileDialog::getSaveFileName(this, tr("Save File"), "",
 tr("Text Files (*.txt);;C++ Files (*.cpp *.h)"));

if (fileName != "") {
 QFile file(fileName);
 if (!file.open(QIODevice::WriteOnly)) {
 // error message
 } else {
 QTextStream stream(&amp;file);
 stream &lt;&lt; textEdit->toPlainText();
 stream.flush();
 file.close();
 }
}
}
&lt;/code>

Um den Inhalt des Texteingabefeldes zurück in die Datei zu schreiben verwenden wir die [http://doc.qt.io/qt-4.8/qtextstream.html QTextStream] Klasse, die das [http://doc.qt.io/qt-4.8/qfile.html QFile] Objekt umhüllt. Textstream kann QStrings direkt in eine Datei schreiben; [http://doc.qt.io/qt-4.8/qfile.html QFile] akzeptiert nur rohe Daten (char*) mit der [http://doc.qt.io/qt-4.8/qiodevice.html#write write()] Funktion des [http://doc.qt.io/qt-4.8/qiodevice.html QIODevice].


&lt;code>
#include &lt;QApplication>
#include &lt;QMessageBox>
 
void Notepad::quit()
{
 QMessageBox messageBox;
 messageBox.setWindowTitle(tr("Notepad"));
 messageBox.setText(tr("Do you really want to quit?"));
 messageBox.setStandardButtons(QMessageBox::Yes | QMessageBox::No);
 messageBox.setDefaultButton(QMessageBox::No);
 
 if (messageBox.exec() == QMessageBox::Yes)
  qApp->quit();
}
&lt;/code>

main.cpp
&lt;code>
#include "notepad.h"
#include &lt;QApplication>
 
int main(int argc, char *argv[])
{
 QApplication app(argc, argv);
 
 Notepad notepad;
 notepad.show();
 
 return app.exec();
}
&lt;/code>


=== Mehr erfahren ===
|''. Über |''. Hier |
| Dateien und E/A-Geräte | [http://doc.qt.io/qt-4.8/qfile.html QFile], [http://doc.qt.io/qt-4.8/qiodevice.html QIODevice] | ===

[[Category:Learning]]
[[Category:HowTo]]
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="http://wiki.qt.io/Getting_Started/de" title="Getting Started/de">Getting Started/de</a>.</p>
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/Getting_Started/de">http://wiki.qt.io/Getting_Started/de</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Getting+Started%2Fde" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Getting_Started/de"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Getting_Started/de&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="http://wiki.qt.io/Getting_Started/de" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="http://wiki.qt.io/index.php?title=Getting_Started/de&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Getting_Started/de&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Getting_Started/de" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Getting_Started/de" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Getting_Started/de&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":219});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Getting_Started/de&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:17:29 GMT -->
</html>
