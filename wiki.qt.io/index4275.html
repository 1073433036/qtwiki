<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=PySide_Engineering_Application&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:31:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for PySide Engineering Application - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"PySide_Engineering_Application","wgTitle":"PySide Engineering Application","wgCurRevisionId":15049,"wgRevisionId":0,"wgArticleId":1269,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"PySide_Engineering_Application","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-PySide_Engineering_Application skin-vector action-edit vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for PySide Engineering Application</span></h1>
						<div id="bodyContent">
								<div id="contentSub">← <a href="http://wiki.qt.io/PySide_Engineering_Application" title="PySide Engineering Application">PySide Engineering Application</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="http://wiki.qt.io/index.php?title=Qt_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Qt Wiki:Users (page does not exist)">Users</a>, KnowledgeBase, QtWS.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">


[[Category:LanguageBindings]]
[[Category:LanguageBindings::PySide]]



I've started this section similarly to other sections - listing of programs first of all. However, on reflection It is my belief that it would be more useful to do away with the listing of programs, once the listing becomes extensive. I will simply refer you to the '''tuts4pyside''' repository for source code.
&lt;code> git clone https://github.com/OldAl/tuts4pyside&lt;/code>
Please download it a in a convenient directory. The program is in two parts: the GUI programming in PySide and the '''number crunching''' module. In fact, the two have been so designed that the "number cruncher" can be run as a simple CLI text program. This is very useful in the development stage, as it is possible to work with the two parts separately. As far as the extent goes, the GUI part ('''truss.py''')is at least twice as big as '''the ncrunch.py''' module. The truss.py is some 380 lines long, though quite a large part of it is the book keeping and other notes. This is not large as far as programs are concerned, but it is too large to display here. It was a mistake in my planning to think that it could still be displayed.

Actually, many parts of the GUI program are paralleled in the earlier exercises: the about box is almost identical, as is the display of the licence. The GUI consists of two plainTextEdit widgets that are placed in a form with two tabs. One of these is for input, the other for the output. The output tab and the text editor are read only. The read only text edit widget can not be written to by hand, but will accept program output. We also do not want to allow loading of data or other information in the output text editor, so the program allows only Save As - saving of analysis results.

The analysis is of the simplest engineering structure - statically determinate truss which consists of pin jointed members, or members that are deemed to be pin jointed.. One of the ways that a simple statically determinate truss is analysed is by determining its external forces (including the reactions) by considering the whole truss as a '''freebody''', then from equlibrium of pins of the joints member actions are determined. Because generally the coupling of the simultaneous equations is rather weak, it usually is possible to solve for memeber actions considering pins that are affected by only two unknown member forces. As there are two equilibrium equations at each joint (sum x  0 and sum y  0), the equations are usually solved by hand. There are however trusses with a peculiar set up of members that such simple solution is not possible. They are called '''complex trusses'''. We are limiting ourselves to statically determinate trusses only, which by definition means that the trusses can be solved solely by statics! In principle, for such structures we can always write equations for all pins of the structure, so that if the number of pins, or joints is '''j''', the number of members is '''m''' and the number of reactions is '''r''', then for the structure to be solvable by statics, the equation
&lt;code>
j * 2 == m + r
&lt;/code>
must apply. However, this is a necessary but not a sufficient condition, as it is possible for the structure to be a mechanism, unable to carry any external loads, in spite of the equation being satisfied. In computer analysis we callect all the equilibrium equations of the individual pins in to structure to a '''Connection Matrix'''.

Whilst it is easy for an experienced eye to recognise mechanisms, a strict more objective criterion for instability is that the '''Connection Matrix''' becomes singular. Some interesting investigation of this behaviour is possible with this program and you are encouraged to try it.

The program computes the '''condition number''' of the '''Connection Matrix'''. This is well outside the scope of this exercise, particularly in view of the fact that there are different "condition numbers" for the same matrix, depending on the norm that is used to derive the '''condition number'''. An interested reader is referred to texts on '''Linear Algebra''' for a more comprehensive treatment of this fascinating topic. Suffice it here to note that as the matrix approaches singularity, the condition number becomes much greater. The inverse of Connection Matrix and the condition number are calculated by numpy linearalgebra module.

Let us have a quick look at some parts of GUI program.
&lt;code>
 def qprintline(self, line):
 '''Append one line to Solution Page.'''
 self.plainTextEdit_2.appendPlainText(line.rstrip())
&lt;/code>
This method appends one line to the Solution (Output) page and is passed to ncrunch module, so that ncrunch can print the results directly on the GUI page. Let us have a quick look at the part of the GUI that passes all data to ncrunch module and the qprintline method:
&lt;code>
 def trussSolve(self):
 '''Solve a statically determinate truss, specified in
 Data Page and display the results in the Solution Page.
 To start, make a copy of the Data Page with a header all
 shown on the Data Page.'''
 printline = self.qprintline
 self.plainTextEdit_2.clear()
 printline('')
 flbase = os.path.basename(self.filename)
 printline('SOLUTION FOR ' + flbase)
 printline('')
 dataBall = self.plainTextEdit.toPlainText()
 ncrunch.main(printline, self.filename, dataBall)
&lt;/code>

Notice that an alias '''printline''' is created for the qprintline method. The dataBall takes all the data from the Data Page. The TextEdit_2 - Solution Page is cleared and a header printed. To document the problem so as to avoid the confusion of "good solution for A" and another "good solution for B". It quickly became apparent that the echo data check was confusing visually, so that a header needed to be printed.
As already mentioned, the header is indeed printed at the start of the '''trussSolve(self)''' method.

It is reasonable to wish to separate the '''GUI''' part of the program and the '''number crunching'''. It was already mentioned that in this program the '''number crunching''' part can run separately from the GUI. How this is done is shown in the next code snippet:
&lt;code>
if ''name'' == '''main''':

def printline(line):
 print line
&lt;/code>
This dummy function ensures that '''printline(line)''' prints on the console rather than on the Output Sheet in the tab2 of the GUI. The rest of the code is the normal CLI program to start the analysis. When the '''ncrunch.py'''
is used as a module, all after the coding after '''if ''name'' == '''main''':''' is ignored. Conversely, when the '''ncrunch.py''' is run as the mainline, the '''truss.py''' is ignored. Thus, during the development the programmer deals with the two aspects - GUI and execution - separately, thereby substantially simplifying the work.

The rest of the code follows:
&lt;code>
 print 'Usage: Give a name for data in the "dat" subdirectory'
 print 'as program parameter. Default is "sdtruss1.dat"'
 if len(sys.argv) > 1:
 name = sys.argv[1]
 else:
 name = 'sdtruss1.dat'
 try:
 finput = open('dat/' + name, 'r')
 dataBall = finput.read()
 finput.close()
 except IOError:
 print 'Failed to open given file name.'
 sys.exit(1)
 main(printline, name, dataBall)
&lt;/code>
A reasonable question that needs to be answered is: would the alternative of outputting the whole output in one operation be simpler? The answer is an emphatic '''NO'''. When the data preparation is more than a trivial task, mistakes must be expected. Outputting in piece meal manner the results as they become available helps to discover those mistakes early in the data preparation process and simplifies the mistake elimination.

Finally, one would hope that you will want to try this analysis with your own data. We would recommend to use an extant example as a template and substitute your own data. As the reactions are replaced by auxiliary members, ensure that all those members start at the structure itself, rather than the support. Also, number first the node on the structure, so that the numbers of nodes on the structure are contiguous and the "far" node of any auxiliary member is ignored as far as equilibrium equations are concerned.
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="http://wiki.qt.io/PySide_Engineering_Application" title="PySide Engineering Application">PySide Engineering Application</a>.</p>
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/PySide_Engineering_Application">http://wiki.qt.io/PySide_Engineering_Application</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=PySide+Engineering+Application" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/PySide_Engineering_Application"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:PySide_Engineering_Application&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="http://wiki.qt.io/PySide_Engineering_Application" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="http://wiki.qt.io/index.php?title=PySide_Engineering_Application&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=PySide_Engineering_Application&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/PySide_Engineering_Application" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/PySide_Engineering_Application" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=PySide_Engineering_Application&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":267});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=PySide_Engineering_Application&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:31:20 GMT -->
</html>
