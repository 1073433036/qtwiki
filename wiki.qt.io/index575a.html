<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Mingw-64-bit&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:37:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for Mingw-64-bit - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Mingw-64-bit","wgTitle":"Mingw-64-bit","wgCurRevisionId":13847,"wgRevisionId":0,"wgArticleId":2408,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Mingw-64-bit","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Mingw-64-bit skin-vector action-edit vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for Mingw-64-bit</span></h1>
						<div id="bodyContent">
								<div id="contentSub">← <a href="http://wiki.qt.io/Mingw-64-bit" title="Mingw-64-bit">Mingw-64-bit</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="http://wiki.qt.io/index.php?title=Qt_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Qt Wiki:Users (page does not exist)">Users</a>, KnowledgeBase, QtWS.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">{{Cleanup | reason=Auto-imported from ExpressionEngine.}}

[[Category:MinGW]]

'''''I suggest to merge the (important) content from here with the article on [[MinGW]]. Please feel free to help out.'''''

== [[MinGW-64-bit]] ==

This is about MinGW-w64, MinGW, MSYS, MSYS2 and Qt 5.

== Executive Summary ==

We recommend a MinGW-w64 based distribution with a recent gcc. Starting with Qt 5.0.1 there are also binary installers that ship a Mingw-w64 based toolchain + pre-built Qt libraries. The MinGW-builds repo includes MinGW-w64 toolchains.

Recommended package for 32 bit (also tested in CI system + used by installer for 5.1):
http://sourceforge.net/projects/mingwbuilds/files/host-windows/releases/4.8.1/32-bit/threads-posix/dwarf/x32-4.8.1-release-posix-dwarf-rev5.7z/download

Recommended package for 64 bit:
http://sourceforge.net/projects/mingwbuilds/files/host-windows/releases/4.8.1/64-bit/threads-posix/seh/x64-4.8.1-release-posix-seh-rev5.7z/download

Community member George Edison has cross-compiled Qt 5.0.1 for Windows using the Mingw-w64 compilers and is hosting the archives here:
http://files.quickmediasolutions.com/qt5/

== Background ==

The MinGW from http://www.mingw.org/ does only support gcc 32 bit (host and target). The independent minGW-w64 project provides support for 64 bit, and also supports a much larger part of the Windows API. The MinGW-w64 project however does not provide official binary builds: These can be grabbed either from the personal build directories of the developers (the most popular being rubenvb), or from associated but independent projects like tdm-gcc or mingw-builds or msys2.

=== RubenVB personal builds ===

"RubenVB personal builds": For [http://sourceforge.net/projects/mingw-w64/files/Toolchains 32-bit Windows target] targetting Win32/Personal Builds/rubenvb/ and [http://sourceforge.net/projects/mingw-w64/files/Toolchains for 64-bit Windows target] targetting Win64/Personal Builds/rubenvb/ :
Features different packages with cygwin, win32, win64, linux as host. Target is either win32 or win64. Packages are built with every GCC release, experimental and prerelease packages are built on request.

=== MinGW-builds ===

"MinGW-builds": http://sourceforge.net/projects/mingwbuilds/ : a binary package by developer: niXman, lexx83 (Alexpux). Provides both packages with a 32-bit and a 64-bit compiler (Windows host), that can also cross-compile to 32-bit or 64-bit. Packages are available with both "posix" and "win32" threading libraries, for 32 bit also with sjlj or dwarf exception variants. See also MSYS2.

=== [[MSYS2]] ===

"MSYS2": http://sourceforge.net/projects/msys2/ : MSYS2 (Minimal SYStem 2) is an independent rewrite of MSYS, a (command-line) shell for development usage, and based on modern Cygwin (POSIX compatibility layer) and MinGW-w64 (from "MinGW-builds"), with the aim of better interoperability with native Windows software. It includes: MSYS2-shell and MinGW-w64 Win32 shell &amp; MinGW-w64 Win64 shell. It supports &amp; can work with both 32bit &amp; 64bit multiple toolchains &amp; targets, (for 64bit a 64bit operating system is needed). MSYS2 is a successor of MSYS and MinGW-builds. MSYS2-shell uses "pacman" for downloading packages, and these are GPG signed &amp; verified. Packages are by developer: lexx83 (Alexpux), mingwandroid, niXman. MSYS2 is a complete opensource development environment/shell solution/system. It can obtain related all toolchains &amp; packages from "MinGW-builds" and MSYS2 repo, (and it also obtains related all dependency packages), for compiling/building other software. It can also obtain various tools &amp; language support &amp; compilers, like: perl, python, ruby, openssl, etc. A user has these options to choose from : by using MSYS2-shell &amp; MinGW-w64 Win64 shell, (option-A), either download Qt or QtCreator source from MSYS2 repo and compile/build, or (option-B), a user can get official Qt source or QtCreator source, and then compile/build using mingw-w64 toolchains obtained/available via MSYS2, from the windows Cmd-shell, or (option-C), a user can download pre-built binary files of Qt &amp; QtCreator (dynamic/shared built edition and/or static built edition) inside MSYS2 and run+use them instantly without compiling.

=== Exception handling: SJLJ, DWARF, and SEH ===

Some packages like MinGW-builds and TDM-GCC let you choose which exception implementation you want to use. You must ensure you use the same compiler used to build the Qt you use in order to avoid linker errors. If you choose to change the exception handling mechanism, you will need to rebuild all code, mostly because the libgcc shared library name is different between the exception handling settings.

SJLJ (setjmp/longjmp):
* available for 32 bit and 64 bit
* not "zero-cost": even if an exception isn't thrown, it incurs a minor performance penalty (~15% in exception heavy code) but sometimes the penalty can be more significant: https://bugreports.qt.io/browse/QTBUG-29653
* allows exceptions to traverse through e.g. windows callbacks

DWARF (DW2, dwarf-2)
* available for 32 bit only
* no permanent runtime overhead
* needs whole call stack to be dwarf-enabled, which means exceptions cannot be thrown over e.g. Windows system DLLs.

SEH (zero overhead exception)
* will be available for 64-bit GCC 4.8.
* rubenvb release is [http://sourceforge.net/projects/mingw-w64/files/Toolchains available] targetting Win64/Personal Builds/rubenvb/gcc-4.8-release/x86_64-w64-mingw32-gcc-4.8.0-win64_rubenvb.7z/download
* MinGW-builds release is [https://sourceforge.net/projects/mingwbuilds/files/host-windows/releases/4.8.1/64-bit/ available]

From TDM-GCC readme:

"GCC currently supports two methods of stack frame unwinding: Dwarf-2 (DW2) or
SJLJ (setjmp/longjmp). Until recently, only SJLJ has been available for the
Windows platform. This affects you, the end user, primarily in programs that
throw and catch exceptions. Programs which utilize the DW2 unwind method
generally execute more quickly than programs which utilize the SJLJ method,
because the DW2 method incurs no runtime overhead until an exception is thrown.
However, the DW2 method does incur a size penalty on code that must handle
exceptions, and more importantly the DW2 method cannot yet unwind (pass
exceptions) through "foreign" stack frames: stack frames compiled by another
non-DW2-enabled compiler, such as OS DLLs in a Windows callback.

This means that you should in general choose the SJLJ version of the TDM-GCC
builds unless you know you need faster exception-aware programs and can be
certain you will never throw an exception through a foreign stack area.

As distributed, the SJLJ and DW2 packages of TDM-GCC can coexist peacefully
extracted to the same directory (i.e. any files in common are for all intents
and purposes identical), because the driver executables (the ones in the "bin"
directory) are suffixed with "-dw2" for the DW2 build, and the libraries and
other executables hide in another "-dw2" directory in "lib(exec)/gcc/mingw32".
This allows you to use the same single addition to your PATH, and use DW2
exceptions only when you need them by calling "gcc-dw2", etc. If you truly want
DW2 exceptions as the default when calling "gcc" (from Makefiles or configury
systems, for example), you can rename or copy the suffixed executables to their
original names."

==== DW2 Issues ====

* If a library that uses DW2 exception handling (e.g. libgcc_s_dw2-1.dll) is loaded using LoadLibrary and FreeLibrary is not called, the program will crash. See http://comments.gmane.org/gmane.comp.gnu.mingw.user/41724
* Calling FreeLibrary to unload a dll that links to both dynamic libgcc_s_dw2 and a library that links to static libgcc_s_dw2 results in a crash 

=== GCC Threading model (posix vs win32) ===

Mingw-Builds (and the experimental rubenvb packages) also let you choose between the threading model internally used by (lib)gcc:

* posix (built upon MinGW-w64's winpthreads)
** "an implementation of POSIX threads for win32 is also available under the experimental directory. Its main goal is to support C+''11 standard threading, which supports only using POSIX threads at the moment." http://mingw-w64.sourceforge.net/
'''''' enables C11 library features contained in the headers &lt;thread>, &lt;mutex>, and &lt;future>.
'''''' Performance degradation in specific scenarios. C11 functionality is significantly slower than native Win32 implementation or even MSVS2012's implementation.

* win32
'''''' uses native Win32 threading functions.
'''''' no C11 &lt;thread>, &lt;mutex>, or &lt;future>
'''''' best performance

More reading: http://sourceforge.net/mailarchive/message.php?msg_id=28014658

== Criteria for original decision on toolchain ==
Following criteria for selecting the mingw package have been brought up on the mailing list . ''The comments about mingw-builds, rubenvb might not be up to date any more.''
* Ease of installation
'''''' rubenvb: different packages (host x target etc) can be confusing. no additional configuration needed when not cross-compiling.
'''''' mingw-builds: 32 bit binaries do not have prefix, but requires additions to configure / mkspecs (to switch to 64 bit target)
* Stability/Quality
'''''' mingw-builds: no issues in latest packages
'''''' rubenvb: no issues in latest packages
* most recent compilers (GCC 4.7 preferably, GCC 4.6 if not)
'''''' mingw-builds: GCC 4.7.2 (and GCC 4.8 prerelease in [http://sourceforge.net/projects/mingwbuilds/files/host-windows/testing/ testing])
'''''' rubenvb: GCC 4.7.2 (and GCC 4.8 prerelease in unstable) and a [http://sourceforge.net/projects/mingw-w64/files/Toolchains 32-bit Clang 3.2] targetting Win32/Personal Builds/rubenvb/clang-3.2-release/
* '''working''' GDB and tested with Creator (with required Python support)
'''''' mingw-builds: 7.5.1
'''''' rubenvb: 7.5
* large file support (aka _FILE_OFFSET_BITS=64)
'''''' mingw-builds: yes (_FILE_OFFSET_BITS in headers, also e.g. lseek64 symbol defined)
'''''' rubenvb: yes (_FILE_OFFSET_BITS in headers, also e.g. lseek64 symbol defined)
* threading
'''''' mingw-builds: gcc -v says 'posix' or 'win32' depending on which build you download
'''''' rubenvb: gcc -v says 'win32' . std::thread support in [http://sourceforge.net/projects/mingw-w64/files/Toolchains experimental package] targetting Win64/Personal Builds/rubenvb/gcc-4.7-experimental-stdthread//Personal Builds/rubenvb/gcc-4.7-experimental-stdthread/
* zero-overhead exceptions (no SJLJ exceptions)
'''''' rubenvb: 32-bit GCC dw2 builds provided, and GCC 4.8 prerelease is 64-bit seh.
'''''' mingw-builds: 32-bit GCC dw2 builds provided, and GCC 4.8 prerelease is 64-bit seh.
* standard win32 headers, if possible using the Platform SDK headers
'''''' rubenvb: Win32 API, DirectX (from WINE project), and DDK (from ReactOS project)
'''''' mingw-builds: Win32 API, DirectX (from WINE project) and DDK (from ReactOS project)
* large set of included libraries
'''''' rubenvb: none, only Win32 and GCC libraries provided.
'''''' mingw-builds: libcharset, libiconv, libksguid, libportabledeviceguids, libsensorsapi, libwindowscodecs, libwinhttp
* 32 and 64-bit in one package
'''''' rubenv: 64 bit or 32 bit are seperate packages
'''''' mingw-builds: both 32 bit and 64 bit host, 32 bit and 64 bit target
* make with -j support
'''''' rubenvb: -j seems to work
'''''' mingw-builds: -j seems to work
'''''' NOTE: Qt's own "jom" tool can be used to build Qt and CMake "MinGW Makefiles" with much better performance than mingw32-make

== MinGW-builds (with OpenSSL, ICU and QtWebKit) ==
=== Notes ===
* The "MinGW-builds" uses toolchains from "MinGW-w64" project.
* We compile our own OpenSSL and ICU binaries instead of using prebuilt binaries to avoid additional dependencies on the Visual C++ 2008/2010 runtimes

=== Prerequisites ===
* Either follow Option-A, or follow Option-B. Don't follow both options at same time (unless you know what you are doing).

==== Option-A Prerequisites ====
* Strawberry Perl >= 5.14 ([http://strawberryperl.com/ http://strawberryperl.com/])
* Python 2.7 ([http://www.python.org/ http://www.python.org/])
* Ruby >= 1.9.3 ([http://rubyinstaller.org/ http://rubyinstaller.org/])- needed to build QtWebKit
* Microsoft DirectX SDK June 2010 ([http://www.microsoft.com/en-us/download/details.aspx?id=6812 http://www.microsoft.com/en-us/download/details.aspx?id=6812]) - needed if you want ANGLE
* MinGW-builds GCC 4.8.2 64-bit ([http://sourceforge.net/projects/mingw-w64/files/Toolchains http://sourceforge.net/projects/mingw-w64/files/Toolchains targetting Win64/Personal Builds/mingw-builds/4.8.2/threads-posix/seh/] targetting Win64/Personal Builds/mingw-builds/4.8.2/threads-posix/seh/)
* msysgit ([http://code.google.com/p/msysgit/ http://code.google.com/p/msysgit/])
* MSYS ([http://www.mingw.org/wiki/MSYS http://www.mingw.org/wiki/MSYS]), or, [[MSYS2]] ([https://msys2.github.io/ https://msys2.github.io/]). If you are installing MSYS, install in C:drive in "msys" folder. If you are installing MSYS2, install in C:drive in "msys2" folder.
* Git checkout or extracted source archive of Qt 5 at C:5 or /c/Qt/qt5

==== Option-B Prerequisites ====
* Microsoft DirectX SDK June 2010 ([http://www.microsoft.com/en-us/download/details.aspx?id=6812 http://www.microsoft.com/en-us/download/details.aspx?id=6812]) - needed if you want ANGLE
* [[MSYS2]] ([https://msys2.github.io/ https://msys2.github.io/]). MSYS2-shell can load all other components &amp; dependencies &amp; tools, other than DirectX, shown in above Option-A, see msys2 related option below. Install MSYS2 in C:drive in "msys2" folder.
* Git checkout or extracted source archive of Qt 5 at C:5 or /c/Qt/qt5

=== Initial Setup ===
Either use option-A, or, use option-B. Don't use both options at same time (unless you know what you are doing).

* Initial stage option-A: Obtain &amp; Extract MinGW-builds GCC 4.8.2 64-bit to this folder: C:64-4.8.2

* Initial stage option-B: Obtain MSYS2, install in C:2, then prepare MSYS2 for Qt related build development environment:
 Run MSYS2 shell (C:2\msys2_shell.bat). First update msys2 core components (if you have not done it already):
&lt;code>
pacman -Sy
pacman —needed -S bash pacman pacman-mirrors msys2-runtime
&lt;/code>
 You must exit out from MSYS2-shell, restart MSYS2-shell, then run below command, to complete rest of other components update:
&lt;code>
pacman -Su
&lt;/code>
 Exit out again from MSYS2-shell, restart MSYS2-shell, now you are ready to use this shell, prepare it for building/compiling environment : run below command to load MinGW-w64 SEH (64bit/x86_64) and Dwarf-2 (32bit/i686) posix toolchains, dependencies &amp; other required tools from MSYS2 REPO:
&lt;code>
pacman -S base-devel git mercurial cvs wget p7zip
pacman -S perl ruby python2 mingw-w64-i686-toolchain mingw-w64-x86_64-toolchain
&lt;/code>

=== Building OpenSSL ===
See also [[Compiling-OpenSSL-with-MinGW]]

* Download latest+stable edition of [https://www.openssl.org/ OpenSSL] from https://www.openssl.org/source/openssl-1.0.1e.tar.gz to C:5_deps\openssl-1.0.1e.tar.gz
* Start a MSYS (or MSYS2) shell command prompt
&lt;code>
unset MAKE_COMMAND MAKEFLAGS
&lt;/code>
 If you are using MSYS, only then run below command. If you are using MSYS2, then do not run below command.
&lt;code>
export PATH="/c/Qt/mingw64-4.8.2/bin:$PATH"
&lt;/code>
 If you are using MSYS2, only then run below command. If you are using MSYS, then do not run below command.
&lt;code>
export PATH="/c/msys2/mingw64/bin:$PATH"
&lt;/code>
 Run these commands (if you are using either MSYS or MSYS2):
&lt;code>
cd /c/Qt/qt5_deps
tar -zxvf openssl-1.0.1e.tar.gz
cd openssl-1.0.1e
./Configure —prefix=/c/Qt/qt5_deps/openssl-1.0.1e/dist no-idea no-mdc2 no-rc5 shared mingw64
make depend &amp;&amp; make &amp;&amp; make install
cp /c/Qt/qt5_deps/openssl-1.0.1e/dist/bin/*.dll /c/Qt/qt5/qtbase/bin
&lt;/code> 

=== Building ICU (Unicode support) ===
See also [[Compiling-ICU-with-MinGW]]

* Download ICU from http://download.icu-project.org/files/icu4c/52.1/icu4c-52_1-src.zip to C:5_deps\icu4c-52_1-src.zip
* Start a MSYS (or MSYS2) shell command prompt
&lt;code>
unset MAKE_COMMAND
&lt;/code>
 If you are using MSYS, only then run below command. If you are using MSYS2, then do not run below command.
&lt;code>
export PATH="/c/Qt/mingw64-4.8.2/bin:$PATH"
&lt;/code>
 If you are using MSYS2, only then run below command. If you are using MSYS, then do not run below command.
&lt;code>
export PATH="/c/msys2/mingw64/bin:$PATH"
&lt;/code>
 Run these commands (if you are using either MSYS or MSYS2):
&lt;code>
cd /c/Qt/qt5_deps
unzip icu4c-52_1-src.zip
cd /c/Qt/qt5_deps/icu/Source
./runConfigureICU MinGW —prefix=/c/Qt/qt5_deps/icu/dist
make &amp;&amp; make install
cp /c/Qt/qt5_deps/icu/dist/lib/icu*52.dll /c/Qt/Qt5_src/qtbase/bin
&lt;/code>

=== Building Qt ===
* Note: If you are using the Qt 5 source .tar.gz, you need to do the following for configure.exe to build properly:
'''''' Start a Windows command prompt (Cmd-shell)
&lt;code>
cd C:5_src
if not exist qtbaseitignore type nul>qtbaseitignore
&lt;/code>

* Start a Windows command prompt (Cmd-shell), and run/execute below commands:
&lt;code>
cd C:5_src
set INCLUDE=C:5_deps\icu\dist\include;C:5_deps\openssl-1.0.1e\dist\include
set LIB=C:5_deps\icu\dist\lib;C:5_deps\openssl-1.0.1e\dist\lib
set QMAKESPEC=
set QTDIR=
&lt;/code>
 If you have downloaded perl, ruby, python separately from their official websites &amp; installed in separate folders, then adjust &amp; execute/run below command:
&lt;code>
cd C:5_src
set PATH=%CD%;%CD%32\bin;C:64-4.8.2\bin;C:;C:27;C:193\bin;C:5_deps\icu\dist\lib;C:5_deps\openssl-1.0.1e\dist\bin;C:Files (x86);%SystemRoot%32
&lt;/code>
 If you have installed/loaded perl, ruby, python inside MSYS2, using "pacman" command, then adjust &amp; execute/run below command:
&lt;code>
cd /c/Qt/Qt5_src
windows2unix() { local pathPcs=() split pathTmp IFS=\;; read -ra split &lt;&lt;&lt; "$'''"; for pathTmp in "${split[@],}"; do pathPcs+=( "/${pathTmp//+([:\\])//}" ); done; echo "${pathPcs[''']}"; }; systemrootP=$(windows2unix "$SYSTEMROOT"); export PATH="$PWD/qtbase/bin:$PWD/gnuwin32/bin:/c/msys2/mingw64/bin:/c/msys2/usr/bin:/c/Qt/qt5_deps/icu/dist/lib:/c/Qt/qt5_deps/openssl-1.0.1e/dist/bin:$systemrootP/system32:$PATH"
&lt;/code>
 Run below commands, (if you have installed perl, ruby, python from their official sites, or, if you have installed perl, ruby, python via pacman inside MSYS2-shell):
&lt;code>
set MAKE_COMMAND=

configure -debug-and-release -opensource -confirm-license -platform win32-g''+ -developer-build -c+''11 -icu -opengl desktop -openssl -plugin-sql-odbc -qt-style-windowsxp -qt-style-windowsvista -nomake tests

mingw32-make
&lt;/code>
 Note: If you want to build using ANGLE instead of desktop OpenGL, remove "-opengl desktop" from configure.

=== Errors ===
* If you run into
&lt;code>
…/qtbase/src/3rdparty/angle/src/libGLESv2/Blit.cpp:18:42: fatal error: libGLESv2/shaders/standardvs.h: No such file or directory
Makefile.Debug:683: recipe for target '.obj/debug_shared/Blit.o' failed
mingw32-make[6]: '''* [.obj/debug_shared/Blit.o] Error 1
&lt;/code>
 or alike see https://bugreports.qt.io/browse/QTBUG-28845

== Qt-builds ==
=== Notes ===
* This is the set of scripts to build Qt : either with "MinGW-builds" based toolchains under MSYS, or, to build Qt : with MSYS2 repo (also based on "MinGW-builds") based toolchains under MSYS2.
* If you want to use pre-compiled or pre-built Qt &amp; QtCreator binary files, then follow one of these:
''' The "MinGW-builds" based Qt binary builds (pre-built) can be downloaded from [https://sourceforge.net/projects/mingwbuilds/files/external-binary-packages/Qt-Builds/ https://sourceforge.net/projects/mingwbuilds/files/external-binary-packages/Qt-Builds/] Note: it is not updated after Qt v5.2.1 (as of today: Feb 2nd 2015).
'''''' The "MSYS2" based Qt binary builds (pre-built) can be downloaded from [https://github.com/Alexpux/MINGW-packages https://github.com/Alexpux/MINGW-packages] (MSYS2 REPO)
 or, use below simple command inside MSYS2-shell to get+install Qt &amp; QtCreator binary pre-builts, for developing &amp; releasing opensource or closedsource projects:
&lt;code>
pacman -S mingw-w64-i686-qt-creator mingw-w64-x86_64-qt-creator
&lt;/code>
 If you also need+want static binary builds, for compiling &amp; releasing opensource projects, then use below command:
&lt;code>
pacman -S mingw-w64-i686-qt5-static mingw-w64-x86_64-qt5-static
&lt;/code>

=== Prerequisites ===
To build Qt, these are required:

* Internet connection
* Either use MSYS or MSYS2. Do not use both, (unless you know what you are doing).
'''''' MSYS ([http://www.mingw.org/wiki/MSYS http://www.mingw.org/wiki/MSYS])
 Recommended version is [http://sourceforge.net/projects/mingwbuilds/files/external-binary-packages/msys+7za+wget+svn+git+mercurial+cvs-rev11.7z/download msys+7za+wget+svn+git+mercurial+cvs-rev11.7z]. It contain updated packages: autoconf, automake, libtool, m4, make. And has integrated cvs, svn, git, mercurial, 7z.
'''''' [[MSYS2]] ([https://msys2.github.io/ https://msys2.github.io/])
 If you are using MSYS2 then follow 1st this http://sourceforge.net/p/msys2/wiki/MSYS2 installation/ page to update MSYS2 core components, then run this below command:
&lt;code>
pacman -S base-devel git mercurial cvs wget p7zip
&lt;/code>
* Git checkout or extracted Qt-builds scripts ([https://github.com/Alexpux/Qt-builds/ https://github.com/Alexpux/Qt-builds/])
* Microsoft DirectX SDK June 2010 ([http://www.microsoft.com/en-us/download/details.aspx?id=6812 http://www.microsoft.com/en-us/download/details.aspx?id=6812])- needed if you want ANGLE

=== Initial Setup ===
* Either use MSYS, or MSYS2. Do not use both, (unless you know what you are doing).
'''''' If you are going to use MSYS: extract or install MSYS into C:directory
'''''' If you are going to use MSYS2: extract or install MSYS2 into C:2 directory
* Prepare MSYS or MSYS2 for development environment: pre-install build related required dependencies &amp; components.
'''''' See inside MinGW-builds section (in above), on how you can prepare MSYS or [[MSYS2]] for building/compiling.
* Run MSYS (or MSYS2)
* run git checkout scripts:
&lt;code>
mkdir -p /c/QtSDK
cd /c/QtSDK
git clone https://github.com/Alexpux/Qt-builds.git Qt-build
&lt;/code>

=== Building Qt ===
Now scripts provide building '''Qt-4.8.4''', '''Qt-5.0.0''', '''Qt-5.0.1''', '''Qt-5.0.2''', '''Qt5 from git''' with latest release of QtCreator, qbs(from git). Buildinq Qt is simple by run:
&lt;code>
./buildall &lt;x32|x64> —qt-version=&lt;version>
&lt;/code>
For example,
&lt;code>
./buildall x32 —qt-version=5.0.0
&lt;/code>
build 32-bit Qt-5.0.0 with QtCreator-2.7.0 and install them into C:/QtSDK/Qt32-5.0.0, Qt dependencies and prerequisites will be installed into C:/QtSDK/ported32.

For building Qt5 from git you need specify branch what you want to build. If you don't specify branch then by default building stable branch.
&lt;code>
./buildall x32 —qt-version=git —qt-git-branch=stable
&lt;/code>
This command download qt5 from git stable branch and try to build 32-bit version of Qt5.

'''Note:''' If you want to move Qt directory elsewhere than after moving you need to execute from QTDIR:
&lt;code>
qtbinpatcher —nobackups
&lt;/code>

'''Other useful options are:'''
&lt;code>
—opengl-desktop
 Use option "-opengl desktop" instead of "-angle" during configure Qt5 sources.
—no-qtcreator
 Tell build script to exclude Qt-Creator from building.
—qtquickcontrols
 Tell build script to build qtquickcontrols.
—static-qt
 Build Qt as static libraries. Qt5 now has many issues with static build and now I possible to build it without Webkit, ANGLE, ICU.
—extra-stuff
 Build some 3rdparty apps (poppler, cmake) with dependencies
&lt;/code>

Notes: Do not use (or try to avoid using) different type of toolchains for building different sub-components for the same/main project, when targeted for same platform/OS. If you are using MinGW-w64 based toolchains from MSYS2\mingw32 or MSYS2\mingw64, then for all sub-components build and for main project build, use same MSYS2 toolchains. If you are using MinGW toolchain, then for all of your sub-components &amp; main project build, use same MinGW toolchain. If you are using MinGW-w64 toolchains from "MinGW-builds", then for all sub-components and for main project build, use same MinGW-builds toolchains.

== See also ==
[[Building_Qt_Desktop_for_Windows_with_MinGW]]
[[How-to-build-a-static-Qt-for-Windows-MinGW]]
[[Building-Qt-5-from-Git]]
[http://www.qtcentre.org/wiki/index.php?title=Building_static_Qt_on_Windows Buildint static Qt on Windows]
[http://www.qtcentre.org/wiki/index.php?title=Building_static_applications Building static applications]
[[How_to_build_a_static_Qt_version_for_Windows_with_gcc]]
[[Build_Standalone_Qt_Application_for_Windows]]
[http://developer.qt.nokia.com/wiki/How_to_build_a_static_Qt_version_for_Windows_with_gcc How to build a static Qt version for Windows with GCC]
[[Setting-up-Qt-on-Ubuntu-in-VirtualBox]]
[[Building-Qt-Package]]
[[How_To_Build_Qt_Creator_From_Source]]
[[Building-Qt-Creator-from-Git]]
[[Compiling-ICU-with-MinGW]]
[[Compiling-OpenSSL-with-MinGW]]
[[MSYS2]]
[[Qt_shadow_builds]]
[http://doc.qt.io/qt-5/shadow.html Using Shadow Builds- Windows CE]
[[Building_Qt_Desktop_for_Windows_with_MSVC]]
http://msdn.microsoft.com/en-us/library/ms235591(v=VS.80).aspx : How to: Embed a Manifest Inside a C/C''+ Application
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="http://wiki.qt.io/Template:Ambox" title="Template:Ambox">Template:Ambox</a> (<a href="http://wiki.qt.io/index.php?title=Template:Ambox&amp;action=edit" title="Template:Ambox">view source</a>) </li><li><a href="http://wiki.qt.io/Template:Cleanup" title="Template:Cleanup">Template:Cleanup</a> (<a href="http://wiki.qt.io/index.php?title=Template:Cleanup&amp;action=edit" title="Template:Cleanup">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="http://wiki.qt.io/Mingw-64-bit" title="Mingw-64-bit">Mingw-64-bit</a>.</p>
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/Mingw-64-bit">http://wiki.qt.io/Mingw-64-bit</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Mingw-64-bit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Mingw-64-bit"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Mingw-64-bit&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="http://wiki.qt.io/Mingw-64-bit" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="http://wiki.qt.io/index.php?title=Mingw-64-bit&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Mingw-64-bit&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Mingw-64-bit" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Mingw-64-bit" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Mingw-64-bit&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":280});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Mingw-64-bit&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:37:23 GMT -->
</html>
