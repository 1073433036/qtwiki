<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=How-to-build-a-static-qt-for-windows-mingw&printable=yes by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 13:27:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>How-to-build-a-static-qt-for-windows-mingw - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,follow" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load6077.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;printable=1&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load8b5e.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load041f.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"How-to-build-a-static-qt-for-windows-mingw","wgTitle":"How-to-build-a-static-qt-for-windows-mingw","wgCurRevisionId":15957,"wgRevisionId":15957,"wgArticleId":2906,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Delete"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"How-to-build-a-static-qt-for-windows-mingw","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-How-to-build-a-static-qt-for-windows-mingw skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">How-to-build-a-static-qt-for-windows-mingw</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 20px;border: 1px solid #C00; border-left: 10px solid #C00; background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> Duplicate of <a href="Building_a_static_Qt_for_Windows_using_MingW-2.html" title="Building a static Qt for Windows using MingW" class="mw-redirect">Building a static Qt for Windows using MingW</a>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#How_to_build_a_static_Qt_for_Windows.2FMinGW"><span class="tocnumber">1</span> <span class="toctext">How to build a static Qt for Windows/MinGW</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Dynamic_and_static_versions_of_Qt"><span class="tocnumber">1.1</span> <span class="toctext">Dynamic and static versions of Qt</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Prerequisites"><span class="tocnumber">1.2</span> <span class="toctext">Prerequisites</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Building_the_Qt_static_environment"><span class="tocnumber">1.3</span> <span class="toctext">Building the Qt static environment</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Using_the_Qt_static_environment"><span class="tocnumber">1.4</span> <span class="toctext">Using the Qt static environment</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="How_to_build_a_static_Qt_for_Windows.2FMinGW">How to build a static Qt for Windows/MinGW</span></h1>
<h2><span class="mw-headline" id="Dynamic_and_static_versions_of_Qt">Dynamic and static versions of Qt</span></h2>
<h3><span class="mw-headline" id="Why_a_static_Qt.3F">Why a static Qt?</span></h3>
<p>On Windows, the pre-built environments from <a rel="nofollow" class="external text" href="http://qt.io/download">qt.io</a> are dynamically linked. This means that your Qt application dynamically references the Qt DLL's which are installed with the pre-built environment.
</p><p>This is probably the preferred environment for developing and debugging since everything is there and ready to use. However, when it comes to deploying an application on systems without pre-installed Qt environments, it becomes complicated. There are several DLL’s to deploy with the application. Even using the classical <a rel="nofollow" class="external text" href="http://www.dependencywalker.com/">DLL Dependency Walker</a> tool, you cannot find all required DLL’s since some of them are dynamically loaded at execution. So, when the application is ready to deploy, it is easier to build a static version of it. But building a static version of the application requires a static version of the Qt environment in addition to the pre-built dynamic Qt environment.
</p><p>This article describes an automated way of downloading, building and installing a static Qt development environment using a Windows PowerShell script.
</p><p>Note that building and installing a static version of Qt on Windows was somewhat problematic up to Qt 4. But Qt 5 has now a much better support for static builds on Windows and this article takes advantage of that.
</p>
<h3><span class="mw-headline" id="MinGW_vs._MSVC">MinGW vs. MSVC</span></h3>
<p>On Windows, two pre-built environments can be downloaded: one using MinGW and one using Microsoft Visual Studio. The two environments are incompatible and cannot be mixed. You have to choose one.
</p><p>This article describes how to build a static version of Qt in a MinGW environment. If you need a static Qt for MSVC, you may probably find some ideas here but there is definitely some extra work.
</p>
<h3><span class="mw-headline" id="Target_environment">Target environment</span></h3>
<p>When you develop Qt applications on Windows and need to deploy them later on "general purpose" Windows machines, the recommended Qt environment contains two distinct builds of the same version of Qt:
</p>
<ul>
<li> A dynamic version, installed in <b>C: from a pre-built package.</b>
</li>
</ul>
<p><b> A static version, installed in </b>C: using the procedure which is described in this article.
</p><p>The pre-built dynamic environment shall be used for development and debugging. In addition to the Qt command line tools (qmake, moc, uic, lupdate, lrelease, etc.), it contains the high-level GUI tools such as Qt Creator, Assistant, Linguist, etc. The installation is straightforward, everything is here, well integrated, working like a charm.
</p><p>The static environment shall be used to release the deployment version of the application, after it has been fully developed and debugged using the dynamic environment. The static environment contains only the Qt command line tools. There are at least two reasons for not building static versions of the GUI tools. First, releasing a new version of an application is typically a task that you automate using a script and there is no need for GUI tools at this stage. Second, it is probably impossible to build a static version of Qt Creator because of the lack of support for plugins in a static environment.
</p>
<h3><span class="mw-headline" id="Restrictions_in_a_static_environment">Restrictions in a static environment</span></h3>
<p>Although building a static version of your application makes it easier to deploy, there are some restrictions in a static environment. Be sure to check that your application complies with these constraints before going further.
</p>
<ol>
<li> There are licensing issues in distributing applications embedding Qt code in a static link. See <a rel="nofollow" class="external text" href="http://qt.io/products/licensing">here</a> and <a rel="nofollow" class="external text" href="https://blog.qt.io/blog/2009/11/30/qt-making-the-right-licensing-decision/">here</a> for more details. While you are probably safe if your application is distributed according to the terms of a recognized free and open-source license, you should definitely check the licensing issue for proprietary or closed-source applications.
</li>
<li> The application cannot use a dynamic modular approach using plugins. But you cannot both ask for a static environment and for a dynamic loading of your own DLL's.
</li>
</ol>
<p>Also note the following points:
</p><p><b> The static executable file of the application is bigger than the dynamic one since all used Qt code is copied into the executable. However, if your application has only one executable, the total deployed size is smaller since only the Qt code which is actually used is linked. When deploying a dynamic version of the application, you have to install all required Qt DLL's with the application and the overall size of all these DLL's is larger than the static application.</b>
</p>
<ul>
<li> A Qt static build means that no Qt or MinGW DLL's are used. However, the static executable file of the application still references the Windows DLL's such as kernel32.dll or user32.dll. These DLL's, however, are installed with Windows and do not need to be deployed with the application.
</li>
</ul>
<h2><span class="mw-headline" id="Prerequisites">Prerequisites</span></h2>
<h3><span class="mw-headline" id="Dynamic_pre-built_Qt_environment">Dynamic pre-built Qt environment</span></h3>
<p>Install the dynamic pre-built package from <a rel="nofollow" class="external text" href="http://qt.io/download">qt.io</a>. Select the package named "Qt for Windows 32-bit (MinGW, OpenGL)". The exact name and version may vary. You can also <a rel="nofollow" class="external text" href="http://download.qt.io/official_releases/qt/">browse the tree of installation packages</a>.
</p><p>Preferably plan the installation of the same version of Qt for the dynamic and static builds. This is not a strict requirement but it is a safe configuration. At the time of writing of this article, the latest Qt version is <a rel="nofollow" class="external text" href="http://download.qt.io/official_releases/qt/5.2/5.2.0/qt-windows-opensource-5.2.0-mingw48_opengl-x86-offline.exe"><b>5.2.0</b></a>.
</p><p>During installation, select the default installation location (<b>C:). Be sure to add the MinGW environment in the installation (selectable in the "Tools" branch of the installation options).</b>
</p><p>If you have a separated MinGW environment that you prefer to use and do not install the one from the Qt package installer, be sure to specify the option<b>-MingwDir* in the static build script (see below).</b>
</p>
<h3><span class="mw-headline" id="Windows_PowerShell">Windows PowerShell</span></h3>
<p>The script which builds the static Qt environment is a PowerShell script.
</p><p>The PowerShell version 3.0 or higher is required. PowerShell 3.0 comes with Windows 8 but it can be installed on Windows 7 as well from <a rel="nofollow" class="external text" href="http://www.microsoft.com/en-us/download/details.aspx?id=34595">Microsoft download</a>. It is probably impossible to install PowerShell 3.0 on Windows XP or Vista. This article consequently applies to Windows 7 and higher only.
</p>
<h3><span class="mw-headline" id="7-Zip">7-Zip</span></h3>
<p>The build script also requires <a rel="nofollow" class="external text" href="http://www.7-zip.org/">7-Zip</a> to uncompress the downloaded Qt source code. Be sure to install it first.
</p>
<h2><span class="mw-headline" id="Building_the_Qt_static_environment">Building the Qt static environment</span></h2>
<h3><span class="mw-headline" id="Download_and_run.2C_all_done">Download and run, all done</span></h3>
<p>Download the script named <a rel="nofollow" class="external text" href="https://sourceforge.net/p/qtlmovie/code/ci/master/tree/build/windows-build-qt-static.ps1?format=raw">windows-build-qt-static.ps1</a> and execute it.
</p><p>The above link fetches the script directly from the git repository of a small open-source project named <a rel="nofollow" class="external text" href="http://sourceforge.net/projects/qtlmovie/">QtlMovie</a>. You may want to have a look at the various build scripts in this project for sample application builds and installations.
</p><p>The <b>windows-build-qt-static.ps1</b> script can be directly invoked from the Windows Explorer if you are ok with the default parameter values (see below). If you are not familiar with PowerShell, simply right-click on the file and select "Run with PowerShell".
</p><p>The script performs the following steps:
</p>
<ol>
<li> Download Qt source code.
</li>
<li> Build a static version of Qt using the MinGW compiler in the pre-built dynamic environment. It builds the libraries and the command line tools (qmake, moc, uic, lupdate, lrelease, etc.)
</li>
<li> Install the static version of Qt in C:by default.
</li>
</ol>
<p>The execution of this script may take a couple of hours to complete, depending on your processing power. So you have to be patient. Qt is a complex framework with a very large amount of code.
</p>
<h3><span class="mw-headline" id="Command_line_syntax">Command line syntax</span></h3>
<p>Alternatively, you can invoke the script from the PowerShell prompt using the following syntax:
</p><p><b>windows-build-qt-static.ps1 [-QtSrcUrl <i>url</i>] [-QtStaticDir <i>directory</i>] [-QtVersion <i>string</i>] [-MingwDir <i>directory</i>] [-NoPause]</b>
</p>
<h3><span class="mw-headline" id="Command_line_parameters">Command line parameters</span></h3>
<p><b>-QtSrcUrl <i>url</i></b>
</p><p>Specify the URL of the Qt source file archive. By default, the latest identified version is hardcoded (<a rel="nofollow" class="external text" href="http://download.qt.io/official_releases/qt/5.2/5.2.0/single/qt-everywhere-opensource-src-5.2.0.7z">Qt 5.2.0</a> at the time of this article was written).
</p><p>Instead of using the parameter on the command line, you may want to modify the default value in the script using another URL / version. Update the following line:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> $QtSrcUrl <span class="sy0">=</span> <span class="st0">&quot;http://download.qt.io/official_releases/qt/5.2/5.2.0/single/qt-everywhere-opensource-src-5.2.0.7z&quot;</span><span class="sy0">,</span></pre></div></div>
<p><b>-QtStaticDir <i>directory</i></b>
</p><p>Specify the root directory where the static versions of Qt are installed. By default: <b>C:.</b>
</p><p><b>-QtVersion <i>string</i>*</b>
</p><p>Specify the Qt version. By default, the script tries to extract the version number from the Qt source file name. Usually, this is sufficient, the script will find "5.2.0" or "5.0.0-rc1" for instance. If the naming scheme of the Qt source file changes one day, you may need to specify an explicit value to this parameter.
</p><p><b>-MingwDir <i>directory</i></b>
</p><p>Specify the root directory of the MinGW environment. By default, use the version which was installed by the prebuilt Qt environment.
</p><p>When the prebuilt environment for Qt 5.2.0 is installed for instance, the script locates MinGW in <b>C:5.2.0\Tools\mingw48_32</b>. If you chose not to install MinGW as part of the prebuilt environment for Qt, you have to specify the root directory of your MinGW installation.
</p><p><b>-NoPause</b>
</p><p>Do not wait for the user to press <i>enter</i> at the end of execution. By default, the scripts executes a <i>pause</i> instruction at the end of execution, which is useful when the script was run from the Windows Explorer.
</p>
<h2><span class="mw-headline" id="Using_the_Qt_static_environment">Using the Qt static environment</span></h2>
<h3><span class="mw-headline" id="Command_line">Command line</span></h3>
<p>This section describes how to use the static Qt environment from the command line, either the traditional Windows command shell (cmd.exe) or the Windows PowerShell.
</p><p>Simply add the <i>bin</i> subdirectory of the static Qt environment in front of the <i>Path</i> environment variable. For Qt 5.2.0, this is <b>C:.2.0\bin</b>.
</p><p>Do not forget to also include the MinGW environment in the path. With the dynamic pre-built Qt environment, you may want to add Qt Creator also.
</p><p>The following commands summarize the command line setups for the various environments.
</p><p>Dynamic pre-built Qt with the traditional Windows command shell:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">set Path<span class="sy0">=</span>C<span class="sy0">:</span>5.2.0\5.2.0\mingw48_32\bin<span class="sy0">;</span>C<span class="sy0">:</span>5.2.0\Tools\mingw48_32\bin<span class="sy0">;</span>C<span class="sy0">:</span>5.2.0\Tools\QtCreator\bin<span class="sy0">;</span>C<span class="sy0">:</span><span class="nu0">32</span><span class="sy0">;</span>C<span class="sy0">:</span></pre></div></div>
<p>Dynamic pre-built Qt with the Windows PowerShell:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">$env<span class="sy0">:</span>Path<span class="sy0">=</span>C<span class="sy0">:</span>5.2.0\5.2.0\mingw48_32\bin<span class="sy0">;</span>C<span class="sy0">:</span>5.2.0\Tools\mingw48_32\bin<span class="sy0">;</span>C<span class="sy0">:</span>5.2.0\Tools\QtCreator\bin<span class="sy0">;</span>C<span class="sy0">:</span><span class="nu0">32</span><span class="sy0">;</span>C<span class="sy0">:</span></pre></div></div>
<p>Static Qt build with the traditional Windows command shell:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">set Path<span class="sy0">=</span>C<span class="sy0">:</span>.2.0\bin<span class="sy0">;</span>C<span class="sy0">:</span>5.2.0\Tools\mingw48_32\bin<span class="sy0">;</span>C<span class="sy0">:</span><span class="nu0">32</span><span class="sy0">;</span>C<span class="sy0">:</span></pre></div></div>
<p>Static Qt build with the Windows PowerShell:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">$env<span class="sy0">:</span>Path<span class="sy0">=</span>C<span class="sy0">:</span>.2.0\bin<span class="sy0">;</span>C<span class="sy0">:</span>5.2.0\Tools\mingw48_32\bin<span class="sy0">;</span>C<span class="sy0">:</span><span class="nu0">32</span><span class="sy0">;</span>C<span class="sy0">:</span></pre></div></div>
<h3><span class="mw-headline" id="Using_the_Qt_static_environment_with_Qt_Creator">Using the Qt static environment with Qt Creator</span></h3>
<p>This section describes how to use the static Qt environment from Qt Creator. Note that Qt Creator itself is part of the dynamic pre-built environment. By default, it builds the applications for this dynamic environment. But it is possible to configure it to additionally use the static Qt environment.
</p><p>The following description is based on a vanilla Qt 5.2.0 / Qt Creator 3.0.0 installation, without additional customization of Qt Creator. Change the version numbers to adapt to your configuration.
</p>
<h4><span class="mw-headline" id="Qt_Creator_setup">Qt Creator setup</span></h4>
<p>Open the Qt Creator options edit box (menu "Tools" then "Options…"). Select "Build &amp; Run".
</p><p>Go to tab "Qt Versions". In the "qmake location" table, there must be an "Auto-detected" part and a "Manual" part. In the "Auto-detected" part, there should be one line named "Qt 5.2.0 MinGW 32bit C:5.2.0\5.2.0\mingw48_32\bin\qmake.exe". The "Manual" part is initially empty.
</p><p>Click "Add", browse to C:.2.0\bin and select "qmake.exe". The version name is automatically set to "Qt 5.2.0 (5.2.0)". You should set a more meaningful name such as "Qt 5.2.0 MinGW Static 32bit"
</p><p>Then go to tab "Kits". Again, there must be an "Auto-detected" part and an initially empty "Manual" part. Click "Add". Set a meaningful name such as "Desktop Qt 5.2.0 MinGW Static 32bit". In the "Qt version" field, select your static environment, named "Qt 5.2.0 MinGW Static 32bit" if you followed the above advice.
</p><p>Then click "OK" to terminate the options setup.
</p>
<h4><span class="mw-headline" id="Project_setup">Project setup</span></h4>
<p>In each project you want to deploy with a static build, edit the project setup (select "Projects" in the left vertical pane).
</p><p>Click "Add Kit" in the upper left corner and select your static kit, named "Desktop Qt 5.2.0 MinGW Static 32bit" if you followed the above advice.
</p><p>The new kit for your project is configured. Note that, by default, there are distinct build directories for the dynamic and static versions of your project.
</p><p>Now you can build your application in any combination of static vs. dynamic and release vs. debug. In the bottom part of the left pane, the project selector (the computer icon with the name of your project and either "Release" or "Debug") lets you select the combination you want.
</p><p>Note that it is recommended to build only release versions of the application with the static environment. Avoid building a debug version of the application with the static environment. There are several reasons for that:
</p>
<ul>
<li> The recommended environment for the development, debug and test phase is the pre-built dynamic environment, not the static one.
</li>
<li> The size of a static application in debug mode is insanely huge. For a given application, the following sizes have been observed for the application executable file:
<ul>
<li> Dynamic + Release: 1 MB
</li>
<li> Dynamic + Debug: 33 MB
</li>
<li> Static + Release: 16 MB
</li>
<li> Static + Debug: 297 MB
</li>
</ul>
</li>
</ul>

<!-- 
NewPP limit report
CPU time usage: 0.097 seconds
Real time usage: 0.100 seconds
Preprocessor visited node count: 127/1000000
Preprocessor generated node count: 206/1000000
Post‐expand include size: 239/2097152 bytes
Template argument size: 61/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:2906-0!*!0!!en!*!* and timestamp 20151105104148 and revision id 15957
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="index2da7.html?title=How-to-build-a-static-qt-for-windows-mingw&amp;oldid=15957">http://wiki.qt.io/index.php?title=How-to-build-a-static-qt-for-windows-mingw&amp;oldid=15957</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Delete.html?title=Category:Delete&amp;action=edit&amp;redlink=1" class="new" title="Category:Delete (page does not exist)">Delete</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=01b3b4a5aa036f58&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="How-to-build-a-static-qt-for-windows-mingw-2.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="Talk_How-to-build-a-static-qt-for-windows-mingw-2.html?title=Talk:How-to-build-a-static-qt-for-windows-mingw&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="How-to-build-a-static-qt-for-windows-mingw-2.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="indexe134.html?title=How-to-build-a-static-qt-for-windows-mingw&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="index40cf.html?title=How-to-build-a-static-qt-for-windows-mingw&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/How-to-build-a-static-qt-for-windows-mingw-2.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/How-to-build-a-static-qt-for-windows-mingw-2.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-permalink"><a href="index2da7.html?title=How-to-build-a-static-qt-for-windows-mingw&amp;oldid=15957" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="index11c7.html?title=How-to-build-a-static-qt-for-windows-mingw&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 17 April 2015, at 12:23.</li>
											<li id="footer-info-viewcount">This page has been accessed 370 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load2f85.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;printable=1&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":157});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=How-to-build-a-static-qt-for-windows-mingw&printable=yes by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 13:27:23 GMT -->
</html>
