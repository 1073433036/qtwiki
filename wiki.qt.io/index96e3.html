<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&oldid=19119 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:58:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Getting Started with Qt/sl - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Getting_Started_with_Qt/sl","wgTitle":"Getting Started with Qt/sl","wgCurRevisionId":19119,"wgRevisionId":19119,"wgArticleId":2452,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup","Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Getting_Started_with_Qt/sl","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Getting_Started_with_Qt_sl skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Getting Started with Qt/sl</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><div id="mw-revision-info">Revision as of 16:53, 18 August 2015 by <a href="http://wiki.qt.io/index.php?title=User:AutoSpider&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:AutoSpider (page does not exist)">AutoSpider</a>  <span class="mw-usertoollinks">(<a href="http://wiki.qt.io/index.php?title=User_talk:AutoSpider&amp;action=edit&amp;redlink=1" class="new" title="User talk:AutoSpider (page does not exist)">Talk</a> | <a href="http://wiki.qt.io/Special:Contributions/AutoSpider" title="Special:Contributions/AutoSpider">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;diff=prev&amp;oldid=19119" title="Getting Started with Qt/sl">diff</a>) <a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;direction=prev&amp;oldid=19119" title="Getting Started with Qt/sl">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="http://wiki.qt.io/Updated_pages" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Pri.C4.8Detek_programiranja_s_Qt-om"><span class="tocnumber">1</span> <span class="toctext">Pričetek programiranja s Qt-om</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Pozdravljen_Urejevalnik"><span class="tocnumber">1.1</span> <span class="toctext">Pozdravljen Urejevalnik</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Dodajanje_gumba_Kon.C4.8Daj"><span class="tocnumber">1.2</span> <span class="toctext">Dodajanje gumba Končaj</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Izdelava_podrazreda_QWidget"><span class="tocnumber">1.3</span> <span class="toctext">Izdelava podrazreda QWidget</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Uporaba_QMainWindow"><span class="tocnumber">1.4</span> <span class="toctext">Uporaba QMainWindow</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Odpiranje_in_shranjevanje"><span class="tocnumber">1.5</span> <span class="toctext">Odpiranje in shranjevanje</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Pri.C4.8Detek_programiranja_s_Qt-om">Pričetek programiranja s Qt-om</span></h1>
<p>Dobrodošli v svetu Qt-a – ogrodja za grafično programiranje za več platform. V tem začetnem vodiču se boste skozi implementacijo preprostega urejevalnika besedil naučili osnov Qt-a. Po zaključku branja tega vodiča boste pripravljeni, da se poglobite v branje pregledov tehnologij in dokumentacije programskega vmesnika ter tako najdete podatke, ki jih potrebujete za razvoj svoje aplikacije.
</p>
<h2><span class="mw-headline" id="Pozdravljen_Urejevalnik">Pozdravljen Urejevalnik</span></h2>
<p>V prvem primeru preprosto ustvarimo in prikažemo polje za urejanje besedila, ki se nahaja v oknu na namizju. To predstavlja najpreprostejši možni program Qt z grafičnim uporabniškim vmesnikom.
</p><p>p=. <a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/latest/images/gs1.png" class="new" title="File:Http://doc.qt.nokia.com/latest/images/gs1.png">Zaslonski posnetek urejevalnika</a>
</p><p>Tukaj je koda:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QTextEdit&gt;</span>
&#160;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argv<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span><span class="st0">''</span><span class="st0">'args)
{
 QApplication app(argv, args);
&#160;
 QTextEdit textEdit;
 textEdit.show();
&#160;
 return app.exec();
}</span></pre></div></div>
<p>Pa se sprehodimo po vsaki vrstici kode. V prvih dveh vrsticah vstavimo datoteki z glavo za razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qapplication.html">QApplication</a> in <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qtextedit.html">QTextEdit</a>, ki ju potrebujemo za ta primer. Vsi razredi v Qt imajo datoteko z glavo, ki ima enako ime kot ustrezen razred.
</p><p>V 6. vrstici ustvarimo objekt razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qapplication.html">QApplication</a>. Ta objekt upravlja z viri za aplikacijo in je potreben za delovanje kateregakoli programa Qt, ki ima grafični uporabniški vmesnik. Parametra argv in args sta potrebna, ker Qt sprejme nekaj argumentov iz ukazne vrstice.
</p><p>V 8. vrstici ustvarimo objekt razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qtextedit.html">QTextEdit</a>. Polje za urejanje besedila je v grafičnem uporabniškem vmesniku viden element. V Qt-u take elemente imenujemo gradniki. Primeri drugih gradnikov so drsniki, oznake in gumbi. Gradnik je lahko tudi vsebnik za druge gradnike. Tako je na primer pogovorno okno ali pa glavno okno programa.
</p><p>V 9. vrstici polje za urejanje besedila prikažemo na zaslonu in sicer v svojem oknu. Ker gradniki služijo tudi kot vsebniki (npr. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmainwindow.html">QMainWindow</a>, ki vsebuje orodjarne, menije, vrstico stanja in druge gradnike), je posamezen gradnik moč prikazati v svojem oknu. Gradniki privzeto niso vidni. S klicem funkcije <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qwidget.html#show">show()</a> postane gradnik viden.
</p><p>V 11. vrstici zaženemo dogodkovno zanko objekta app, ki je razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qapplication.html">QApplication</a>. Med tekom programa Qt se sprožajo dogodki, ki se pošiljajo gradnikom programa. Primera dogodkov sta pritisk na gumb miške in pritisk tipke. Ko v gradnik polja za urejanje besedila tipkate besedilo, le-ta prejme dogodke pritiskov tipk in se odzove z izrisom natipkanega besedila.
</p><p>Da zaženete program, odprite ukazno vrstico in se postavite v mapo, ki vsebuje datoteko<b>.cpp z izvorno kodo programa. Naslednji ukazi zgradijo program:</b>
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake <span class="sy0">-</span>project
qmake
make</pre></div></div>
<p>Po tem bo v mapi ustvarjena izvršljiva datoteka (v Windows morate morda namesto make uporabiti nmake, izvršljiva datoteka pa bo v mapi debug ali release). qmake je Qt-ovo orodje za gradnjo, ki kot vhod sprejme nastavitveno datoteko (s končnico <b>.pro). qmake le-to ustvari za nas,če mu podamo možnost -project. Pisanje lastnih nastavitvenih datotek si bomo ogledali kasneje.</b>
</p>
<h3><span class="mw-headline" id="Nau.C4.8Dite_se_ve.C4.8D">Naučite se več</span></h3>
<p>|<i>. Tema|</i>. Tu|
|Gradniki in geometrija oken|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/application-windows.html%7C">Window and Dialog Widgets</a>
|Dogodki in ravnanje z dogodki|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/eventsandfilters.html%7C">The Event System</a>
</p><p><br />
</p>
<h2><span class="mw-headline" id="Dodajanje_gumba_Kon.C4.8Daj">Dodajanje gumba Končaj</span></h2>
<p>V pravi aplikaciji boste običajno potrebovali več kot en gradnik. Sedaj bomo pod polje za urejanje besedila dodali gumb razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qpushbutton.html">QPushButton</a>. Ko uporabnik pritisne (klikne z miško) na gumb, se bo program končal.
</p><p>p=. <a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/latest/images/gs2.png" class="new" title="File:Http://doc.qt.nokia.com/latest/images/gs2.png">Urejevalnik s gumbom Končaj</a>
</p><p>Pa si oglejmo kodo:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QtGui&gt;</span>
&#160;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argv<span class="sy0">,</span> <span class="kw4">char</span><span class="st0">''</span><span class="st0">'*args)
{
 QApplication app(argv, args);
&#160;
QTextEdit textEdit;
 QPushButton quitButton(&quot;Končaj&quot;);
&#160;
QObject::connect(&amp;quitButton, SIGNAL (clicked()), qApp, SLOT (quit()));
&#160;
QVBoxLayout layout;
 layout.addWidget(&amp;textEdit);
 layout.addWidget(&amp;quitButton);
&#160;
QWidget window;
 window.setLayout(&amp;layout);
&#160;
window.show();
&#160;
return app.exec();
}</span></pre></div></div>
<p>V 1. vrstici vstavimo <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qtgui.html">QtGui</a>, ki vsebuje vse Qt-ove razrede za grafični uporabniški vmesnik.
</p><p>V 10. vrstici uporabimo Qt-ov mehanizem signalov in rež, s čimer omogočimo da se ob pritisku gumba Končaj aplikacija konča. Reža je funkcija, ki jo lahko prek njenega imena (kot literalenega niza) sprožimo med izvajanjem. Signal je funkcija, ki bo ob klicu sprožila reže, ki so registrirane pri njej. To imenujemo povezovanje reže s signalom in oddajanje signala.
</p><p>Funkcija <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qcoreapplication.html#quit">quit()</a> je reža razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qapplication.html">QApplication</a>, ki konča aplikacijo. Funkcija <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qabstractbutton.html#clicked">clicked()</a> je signal, ki je del razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qpushbutton.html">QPushButton</a> in se odda, ko je gumb pritisnjen. Statična funkcija <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qobject.html#connect">QObject::connect()</a> poskrbi za povezavo reže s signalom. SIGNAL () in SLOT() sta dva nakra, ki sprejmeta podpisa funkcij signala in reže, ki bosta povezana. Podati moramo tudi kazalca na objekta, ki bosta poslala in prejela signal.
</p><p>V 12. vrstici ustvarimo razpored razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qvboxlayout.html">QVBoxLayout</a>. Kot smo že omenili, lahko gradniki vsebujejo druge gradnike. Omejitve (položaj in velikost) vsebovanih gradnikov je moč nastaviti neposredno, vendar je običajno preprosteje uporabiti razpored. Razpored upravlja z omejitvami gradnikovih podgradnikov. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qvboxlayout.html">QVBoxLayout</a> podgradnike razporedi v stolpec.
</p><p>V 13. in 14. vrstici urejevalno polje in gumb dodamo v razpored. V 17. razpored nastavimo na glavnem gradniku.
</p><p>=== Naučite se več
|<i>. Tema|</i>. Tu|
|Signali in reže|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/signalsandslots.html%7C">Signals and Slots</a>
|Razporedi|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/layout.html">Layout Management</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/widgets-and-layouts.html">Widgets and Layouts</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/examples-layouts.html%7C">Layout Examples</a>
|Gradniki, ki pridejo s Qt|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/gallery.html">Qt Widget Gallery</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/examples-widgets.html%7C">Widget Examples</a> ===
</p>
<h2><span class="mw-headline" id="Izdelava_podrazreda_QWidget">Izdelava podrazreda QWidget</span></h2>
<p>Morda bi želeli, da se, ko uporabnik želi končati program, prikaže pogovorno okno, ki ga vpraša, če to res želi storiti. V tem primeru bomo izdelali podrazred razreda <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qwidget.html">QWidget</a> in dodali režo, ki jo bomo povezali z gumbom Končaj.
</p><p>p=. <a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/latest/images/gs3.png" class="new" title="File:Http://doc.qt.nokia.com/latest/images/gs3.png">Urejevalnik z dedovanjem od QWidget</a>
</p><p>Pa si oglejmo kodo:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> Notepad <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QWidget</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
<span class="kw2">public</span><span class="sy0">:</span>
 Notepad<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">private</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QTextEdit</span> <span class="sy0">*</span>textEdit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span> <span class="sy0">*</span>quitButton<span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></div></div>
<p>Macro Q_OBJECT mora biti v definiciji razreda prvi in določa, da je naš razred <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qobject.html">QObject</a> (seveda mora tudi dedovati od QObject). <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qobject.html">QObject</a> običajnemu razredu C++ doda množico zmožnosti. Na primer, v času izvajanja lahko poizvedujemo po imenu razreda in imenih rež. Poizvedovati je možno tudi po tipih parametrov reže in jo izvesti.
</p><p>V 13. vrstici deklariramo režo quit(). To je s pomočjo makra slots preprosto. Režo quit() lahko sedaj povežemo s signali, ki imajo ustrezen podpis (vsak signal, ki ne potrebuje nobenega parametra).
</p><p>Namesto da bi postavili grafični uporabniški vmesnik in povezali režo v funkciji main(), uporabimo konstruktor razreda Notepad.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Notepad<span class="sy0">::</span><span class="me2">Notepad</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 textEdit <span class="sy0">=</span> <span class="kw1">new</span> QTextEdit<span class="sy0">;</span>
 quitButton <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QPushButton</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Končaj&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">connect</span><span class="br0">&#40;</span>quitButton<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw5">QVBoxLayout</span> <span class="st0">''</span><span class="st0">'layout = new QVBoxLayout;
 layout-&gt;addWidget(textEdit);
 layout-&gt;addWidget(quitButton);
&#160;
 setLayout(layout);
&#160;
 setWindowTitle(tr(&quot;Urejevalnik&quot;));
 }</span></pre></div></div>
<p>Kot smo videli v definiciji razreda, uporabljamo kazalce do naših <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qobject.html-ov">QObject</a> (textEdit in quitButton). Kot splošno pravilo: <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qobject.html-e">QObject</a> naj bi vedno ustvarjali na kopici in jih nikoli kopirali.
</p><p>Sedaj okoli uporabniku vidnih nizov uporabimo funkcijo <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qobject.html#tr">tr()</a>. Ta funkcija je potrebna, če želite svoj program ponuditi v več jezikih (npr. še v angleščini in kitajščini). Tu se ne bomo spuščali v podrobnosti, lahko pa sledite povezavi Qt Linguist v tabeli Naučite se več.
</p>
<h3><span class="mw-headline" id="Ustvaritev_datoke_.pro">Ustvaritev datoke .pro</span></h3>
<p>Za ta primer bomo napisali datoteko .pro po meri in ne bomo uporabili qmake-ove možnosti -project.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> HEADERS <span class="sy0">=</span> notepad.<span class="me1">h</span>
 SOURCES <span class="sy0">=</span> notepad.<span class="me1">cpp</span>  main.<span class="me1">cpp</span></pre></div></div>
<p>Naslednji ukazi zgradijo primer:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> qmake
 make</pre></div></div>
<h3><span class="mw-headline" id="Nau.C4.8Dite_se_ve.C4.8D:">Naučite se več:</span></h3>
<p>|<i>. Tema|</i>. Tu|
|tr() in internacionalizacija|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/linguist-manual.html">Qt Linguist Manual</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/i18n-source-translation.html">Writing Source Code for Translation</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/linguist-hellotr.html">Hello tr() Example</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/internationalization.html%7C">Internationalization with Qt</a>
|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qtwebkit-bridge.html#qobjects-i">QObject</a> in Qt-ov objektni model (to je osnovno za razumevanje Qt-a)|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/object.html%7C">Object Model</a>
|qmake in Qt-ov sistem za gradnjo|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmake-manual.html%7C">qmake Manual</a>
</p><p><br />
</p>
<h2><span class="mw-headline" id="Uporaba_QMainWindow">Uporaba QMainWindow</span></h2>
<p>Za veliko programov bo koristno, če uporabite <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmainwindow.html">QMainWindow</a>, ki ima svoj lasten razpored, v katerega lahko dodate menijsko vrstico, podokna, orodjarne in vrstico stanja. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmainwindow.html">QMainWindow</a> ima osrednje področje, ki ga lahko zapolnjuje katerikoli gradnik. V našem primeru bo to naše urejevalno polje.
</p><p>p=. <a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/latest/images/gs4.png" class="new" title="File:Http://doc.qt.nokia.com/latest/images/gs4.png">Urejevalnik s QMainWindow</a>
</p><p>Pa si oglejmo novo definicijo razreda Notepad:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="co2">#include &lt;QtGui&gt;</span>
&#160;
 <span class="kw2">class</span> Notepad <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QMainWindow</span>
 <span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 Notepad<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> open<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> save<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QTextEdit</span> <span class="sy0">*</span>textEdit<span class="sy0">;</span>
&#160;
 <span class="kw5">QAction</span> <span class="sy0">*</span>openAction<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>saveAction<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>exitAction<span class="sy0">;</span>
&#160;
 <span class="kw5">QMenu</span> <span class="st0">''</span><span class="st0">'fileMenu;
 };</span></pre></div></div>
<p>Dodamo dve novi reži za odpiranje in shranjevanje dokumenta. Reži bomo implementirali v naslednjem razdelku.
</p><p>Pogosto se zgodi, da želimo v glavnem oknu isto režo izvesti iz več gradnikov. Primera sta menijski vnos in gumb orodjarne. Da bi bilo to čim lažje, Qt ponuja razred <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qaction.html">QAction</a>, ki ga lahko podamo več gradnikom in je povezan z režo. Na primer, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmenu.html">QMenu</a> in <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qtoolbar.html">QToolBar</a> lahko menijske vnose in gumbe orodjarne ustvarita iz istih <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qaction.html-ov">QAction</a>. Kmalu bomo videli, kako to deluje.
</p><p>Kot prej bomo za postavitev uporabniškega vmesnika uporabili konstruktor Notepad-a
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Notepad<span class="sy0">::</span><span class="me2">Notepad</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 saveAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Odpri …&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
 saveAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Shrani&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
 exitAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Konča&amp;j&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">connect</span><span class="br0">&#40;</span>openAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>open<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>saveAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>save<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>exitAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> qApp<span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 fileMenu <span class="sy0">=</span> menuBar<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">addMenu</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Datoteka&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>openAction<span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>saveAction<span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addSeparator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>exitAction<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 textEdit <span class="sy0">=</span> <span class="kw1">new</span> QTextEdit<span class="sy0">;</span>
 setCentralWidget<span class="br0">&#40;</span>textEdit<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 setWindowTitle<span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Urejevalnik&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qaction.html-e">QAction</a> ustvarimo z besedilom, ki se pojavi na gradnikih, za katere uporabimo QAction-e (v našem primeru so to menijski vnosi). Če bi jih želeli uporabiti tudi za orodjarne, bi dejanjem lahko dodali tudi <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qicon.html">ikone</a>.
</p><p>Ko sedaj uporabnik klikne na menijski vnos, bo vnos sprožil dejanje in izvedla se bo ustrezna reža.
</p>
<h3><span class="mw-headline" id="Nau.C4.8Dite_se_ve.C4.8D:_2">Naučite se več:</span></h3>
<p>|<i>. Tema|</i>. Tu|
|Glavna okna in razredi glavnih oken|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/mainwindow.html">Application Main Window</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/examples-mainwindow.html%7C">Main Window Examples</a>
|Program z vmesnikom z več dokumenti|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmdiarea.html">QMdiArea</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/mainwindows-mdi.html%7C">MDI Example</a>
</p><p><br />
</p>
<h2><span class="mw-headline" id="Odpiranje_in_shranjevanje">Odpiranje in shranjevanje</span></h2>
<p>V tem primeru bomo implementirali delovanje rež open() in save(), ki smo ju dodali v prejšnjem primeru.
</p><p>p=. <a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/latest/images/gs5.png" class="new" title="File:Http://doc.qt.nokia.com/latest/images/gs5.png">Pogovorno okno za odpiranje datotek</a>
</p><p>Zaželi bomo z režo open():
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw5">QString</span> fileName <span class="sy0">=</span> <span class="kw5">QFileDialog</span><span class="sy0">::</span><span class="me2">getOpenFileName</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Odpiranje datoteke&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Besedilne datoteke ('''.txt);;Datoteke C++ ('''.cpp'''.h)&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">if</span> <span class="br0">&#40;</span>fileName <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>fileName<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">ReadOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">critical</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Napaka&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Datoteke ni bilo moč odpreti&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw5">QString</span> contents <span class="sy0">=</span> file.<span class="me1">readAll</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">constData</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 textEdit<span class="sy0">-&gt;</span><span class="me3">setPlainText</span><span class="br0">&#40;</span>contents<span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>V prvem koraku uporabnika vprašamo po imenu datoteke, ki bo odprta. Qt prihaja s <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qfiledialog.html">QFileDialog</a>, ki je pogovorno okno, iz katerega lahko uporabnik izbere datoteko. Gornja slika prikazuje pogovorno okno na namizju KDE Plasma na Linuxu. Statična funkcija <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qfiledialog.html#getOpenFileName">getOpenFileName()</a> prikaže pogovorno okno, ki je vedno nad vsemi programovimi okni in ne vrne nič, dokler uporabnik ne izbere datoteke. Pogovorno okno vrne polno pot do izbrane datoteke ali pa prazen niz, če je uporabnik preklical pogovorno okno.
</p><p>Če imamo ime datoteke, datoteko poskušamo odpreti z <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qiodevice.html#open">open()</a>, ki vrne true, če je bilo datoteko moč odpreti. V podrobnosti rokovanja z napakami se tu ne bomo spuščali, lahko pa sledite povezavam v tabeli Naučite se več. Če datoteke ni bilo moč odpreti, uporabimo <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmessagebox.html">QMessageBox</a> in prikažemo pogovorno okno s sporočilom o napaki (za nadaljnje podrobnosti si oglejte opis <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qmessagebox.html-a">QMessageBox</a>).
</p><p>Dejanjsko branje podatkov je zahvaljujoč funkciji <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qiodevice.html#readAll">readAll()</a> preprosto. Funkcija vse podatke iz datoteke vrne v objektu <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qbytearray.html">QByteArray</a>. Funkcija <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qbytearray.html#constData">constData()</a> vse podatke vrne kot const char<b>, za kar ima <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qstring.html">QString</a> konstruktor. Vsebino potem lahko prikažemo v urejevalnem polju. Nazadnje še zapremo datoteko s klicem funkcije <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qiodevice.html#close">close()</a> in tako opisovalnik datoteke vrnemo operacijskemu sistemu.</b>
</p><p>Nadaljujmo še z režo save():
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw5">QString</span> fileName <span class="sy0">=</span> <span class="kw5">QFileDialog</span><span class="sy0">::</span><span class="me2">getSaveFileName</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Shranjevanje datoteke&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Besedilne datoteke ('''.txt);;Datoteke C++ ('''.cpp '''.h)&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">if</span> <span class="br0">&#40;</span>fileName <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>fileName<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">WriteOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="co1">// sporočilo o napaki</span>
 <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
 <span class="kw5">QTextStream</span> stream<span class="br0">&#40;</span><span class="sy0">&amp;</span>file<span class="br0">&#41;</span><span class="sy0">;</span>
 stream <span class="sy0">&lt;&lt;</span> textEdit<span class="sy0">-&gt;</span><span class="me3">toPlainText</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 stream.<span class="me1">flush</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Za zapisovanje vsebine urejevalnega polja v datoteko uporabimo razred <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qtextstream.html">QTextStream</a>, ki ovija objekt <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qfile.html">QFile</a>. Besedilni tok lahko nize <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qstring.html">QString</a> zapisuje neposredno v datoteko. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qfile.html">QFile</a> s funkcijo <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qiodevice.html#write">write()</a> iz <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qiodevice.html">QIODevice</a> sprejema le surove podatke (char<b>).</b>
</p><p>=== Naučite se več
|<i>. Tema|</i>. Tu|
|Datoteke in V/I naprave|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qfile.html">QFile</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/latest/qiodevice.html%7C">QIODevice</a> ===
</p>
<!-- 
NewPP limit report
CPU time usage: 0.229 seconds
Real time usage: 0.253 seconds
Preprocessor visited node count: 144/1000000
Preprocessor generated node count: 336/1000000
Post‐expand include size: 1312/2097152 bytes
Template argument size: 423/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:2452-0!*!0!!en!2!* and timestamp 20151104121927 and revision id 19119
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;oldid=19119">http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;oldid=19119</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.qt.io/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://wiki.qt.io/Category:Articles_needing_cleanup" title="Category:Articles needing cleanup">Articles needing cleanup</a></li><li><a href="http://wiki.qt.io/index.php?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Getting+Started+with+Qt%2Fsl" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Getting_Started_with_Qt/sl"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Getting_Started_with_Qt/sl&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://wiki.qt.io/Getting_Started_with_Qt/sl" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Getting_Started_with_Qt/sl" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Getting_Started_with_Qt/sl" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;oldid=19119&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;oldid=19119" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 18 August 2015, at 16:53.</li>
											<li id="footer-info-viewcount">This page has been accessed 495 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":240});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Getting_Started_with_Qt/sl&oldid=19119 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:58:34 GMT -->
</html>
