<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Qt_Quick_Carousel&oldid=16039 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:14:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Qt Quick Carousel - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Qt_Quick_Carousel","wgTitle":"Qt Quick Carousel","wgCurRevisionId":16039,"wgRevisionId":16039,"wgArticleId":1531,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup","Developing with Qt::Qt Quick","Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Qt_Quick_Carousel","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Qt_Quick_Carousel skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Qt Quick Carousel</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><div id="mw-revision-info">Revision as of 12:30, 17 April 2015 by <a href="http://wiki.qt.io/index.php?title=User:AutoSpider&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:AutoSpider (page does not exist)">AutoSpider</a>  <span class="mw-usertoollinks">(<a href="http://wiki.qt.io/index.php?title=User_talk:AutoSpider&amp;action=edit&amp;redlink=1" class="new" title="User talk:AutoSpider (page does not exist)">Talk</a> | <a href="http://wiki.qt.io/Special:Contributions/AutoSpider" title="Special:Contributions/AutoSpider">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;diff=prev&amp;oldid=16039" title="Qt Quick Carousel">diff</a>) <a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;direction=prev&amp;oldid=16039" title="Qt Quick Carousel">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="http://wiki.qt.io/Updated_pages" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<p><b>English</b> <a href="http://wiki.qt.io/Qt_Quick_Carousel_Bulgarian" title="Qt Quick Carousel Bulgarian" class="mw-redirect">Български</a>
</p><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#The_Qt_Quick_Carousel_Tutorial"><span class="tocnumber">1</span> <span class="toctext">The Qt Quick Carousel Tutorial</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Getting_to_know_the_PathView"><span class="tocnumber">1.2</span> <span class="toctext">Getting to know the PathView</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#The_quadrature_of_the_circle"><span class="tocnumber">1.3</span> <span class="toctext">The quadrature of the circle</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Hiding_complexity"><span class="tocnumber">1.4</span> <span class="toctext">Hiding complexity</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Adding_the_artwork"><span class="tocnumber">1.5</span> <span class="toctext">Adding the artwork</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Adding_keyboard_interaction"><span class="tocnumber">1.6</span> <span class="toctext">Adding keyboard interaction</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Fine_tuning"><span class="tocnumber">1.7</span> <span class="toctext">Fine tuning</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Internationalization"><span class="tocnumber">1.8</span> <span class="toctext">Internationalization</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Credits"><span class="tocnumber">1.9</span> <span class="toctext">Credits</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="The_Qt_Quick_Carousel_Tutorial">The Qt Quick Carousel Tutorial</span></h1>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>This tutorial will show you how to create an animated menu with items rotating in a pseudo 3D space. You will also be shown how to break up a QML project into several modules as well as how to add support for different languages using Qt Linguist.
</p><p>All you need is the <b>qmlviewer</b> tool in order to follow this tutorial. If you are running a recent version of Linux, simply install the <b>qt4-qmlviewer</b> and <b>libqt4-dev</b> packages. All files in this tutorial are available from <a rel="nofollow" class="external text" href="https://www.gitorious.org/qt-training/qml-demos/trees/master/carousel">gitorious</a> .
</p><p>The minimum required Qt Quick version is 1.0, which has been shipping with Qt since version 4.7.1.
</p>
<h2><span class="mw-headline" id="Getting_to_know_the_PathView">Getting to know the PathView</span></h2>
<p>The <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/qml-pathview.html">PathView</a> element takes items out of a model and lays them out along a path. The path geometry is defined by a series of segments. There are three different types of segments: lines, quadratic and cubic <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Bezier_curve">Bézier</a> curves. To develop an understanding of how to construct a path, let us start with a single line segment:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Carousel0.qml</span>
import QtQuick <span class="nu16">1.0</span>
&#160;
PathView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> view
 width<span class="sy0">:</span> <span class="nu0">640</span>
 height<span class="sy0">:</span> <span class="nu0">360</span>
 model<span class="sy0">:</span> <span class="nu0">32</span>
 delegate<span class="sy0">:</span> Text <span class="br0">&#123;</span> text<span class="sy0">:</span> index <span class="br0">&#125;</span>
 path<span class="sy0">:</span> Path <span class="br0">&#123;</span>
 startX<span class="sy0">:</span> <span class="nu0">0</span>
 startY<span class="sy0">:</span> <span class="nu0">0</span>
 PathLine <span class="br0">&#123;</span> x<span class="sy0">:</span> view.<span class="me1">width</span><span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">height</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>The <i>PathView</i> is our top-level element. Providing just an item count 32 as model automatically generates model indexes ranging from 0 to 31. For each item a delegate is instantiated to display that item. We start with simple text elements to display the index numbers. We will see later how to create more meaningful delegates — for now let us focus on how to create paths. The path specification requires at least a starting point and a single segment. In our case we start at (0, 0) and draw a single line segment to the bottom right. Loading this file with the <b>qmlviewer</b> gives you an output similar to:
<a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://www.gitorious.org/qt-training/qml-demos/blobs/raw/4ef3dccc2be296484845628880c5abcebbbceb1e/carousel/Carousel0.png" class="new" title="File:Http://www.gitorious.org/qt-training/qml-demos/blobs/raw/4ef3dccc2be296484845628880c5abcebbbceb1e/carousel/Carousel0.png">Carousel0.png</a>
</p><p>When you drag the items, the path view will kinematically scroll. Notice how it locks back into a fixed position. By default, the first item is centered at the starting point, while the rest of the items are distributed evenly along the path.
</p><p>OK, let's add some complexity and draw a full rectangle. Replace the path specification from the previous example and add the following:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Carousel1.qml</span>
…
property <span class="kw4">int</span> pathMargin<span class="sy0">:</span> <span class="nu0">50</span>
path<span class="sy0">:</span> Path <span class="br0">&#123;</span>
 startX<span class="sy0">:</span> pathMargin
 startY<span class="sy0">:</span> pathMargin
 PathLine <span class="br0">&#123;</span> x<span class="sy0">:</span> view.<span class="me1">width</span> <span class="sy0">-</span> pathMargin<span class="sy0">;</span> y<span class="sy0">:</span> pathMargin <span class="br0">&#125;</span>
 PathLine <span class="br0">&#123;</span> x<span class="sy0">:</span> view.<span class="me1">width</span> <span class="sy0">-</span> pathMargin<span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">height</span> <span class="sy0">-</span> pathMargin <span class="br0">&#125;</span>
 PathLine <span class="br0">&#123;</span> x<span class="sy0">:</span> pathMargin<span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">height</span> <span class="sy0">-</span> pathMargin <span class="br0">&#125;</span>
 PathLine <span class="br0">&#123;</span> x<span class="sy0">:</span> path.<span class="me1">startX</span><span class="sy0">;</span> y<span class="sy0">:</span> path.<span class="me1">startY</span> <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
…</pre></div></div>
<p>You will see a rectangle. Each <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/qml-pathline.html">PathLine</a> starts at the end point of the previous segment, so we only need to specify the end point for each line segment. For the last segment, we just reference the starting point to close the loop. We've introduced the custom property <i>pathMargin</i> to help define the path's geometry. Using custom properties is the easiest way to introduce helper variables in Qt Quick, but use this feature wisely because all properties in Qt Quick are public.
</p><p>You might have wanted to write:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">…
path<span class="sy0">:</span> Path <span class="br0">&#123;</span>
 property <span class="kw4">int</span> pathMargin<span class="sy0">:</span> <span class="nu0">50</span>
 startX<span class="sy0">:</span> pathMargin
…</pre></div></div>
<p>…but this is not possible as the <i>Path</i> component is already defined elsewhere and we are not allowed to add new properties on the fly.
</p>
<h2><span class="mw-headline" id="The_quadrature_of_the_circle">The quadrature of the circle</span></h2>
<p>Now that we've learned how to create a rectangle, let's try something a bit more difficult: a circle. The <i>Path</i> element itself does not support circular curves and therefore we have to approximate using one of the less favorable choices: lines, quadratic or cubic Bézier splines. As this is not a discussion about analytical geometry, let's jump to the best result in an instant: 4 cubic Bézier splines using the <a rel="nofollow" class="external text" href="http://www.tinaja.com/glib/ellipse4.pdf">magic number 0.551784</a>. Take a look at the code:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Carousel2.qml</span>
…
property <span class="kw4">int</span> pathMargin<span class="sy0">:</span> <span class="nu0">50</span>
property real rx<span class="sy0">:</span> ry <span class="co1">// view.width / 2 - pathMargin</span>
property real ry<span class="sy0">:</span> view.<span class="me1">height</span> <span class="sy0">/</span> <span class="nu0">2</span> <span class="sy0">-</span> pathMargin
property real magic<span class="sy0">:</span> <span class="nu16">0.551784</span>
property real mx<span class="sy0">:</span> rx <span class="sy0">*</span> magic
property real my<span class="sy0">:</span> ry <span class="sy0">*</span> magic
property real cx<span class="sy0">:</span> view.<span class="me1">width</span> <span class="sy0">/</span> <span class="nu0">2</span>
property real cy<span class="sy0">:</span> view.<span class="me1">height</span> <span class="sy0">/</span> <span class="nu0">2</span>
path<span class="sy0">:</span> Path <span class="br0">&#123;</span>
 startX<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">+</span> view.<span class="me1">rx</span><span class="sy0">;</span> startY<span class="sy0">:</span> view.<span class="me1">cy</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// first quadrant arc</span>
 control1X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">+</span> view.<span class="me1">rx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">+</span> view.<span class="me1">my</span>
 control2X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">+</span> view.<span class="me1">mx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">+</span> view.<span class="me1">ry</span>
 x<span class="sy0">:</span> view.<span class="me1">cx</span><span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">+</span> view.<span class="me1">ry</span>
 <span class="br0">&#125;</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// second quadrant arc</span>
 control1X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">-</span> view.<span class="me1">mx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">+</span> view.<span class="me1">ry</span>
 control2X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">-</span> view.<span class="me1">rx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">+</span> view.<span class="me1">my</span>
 x<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">-</span> view.<span class="me1">rx</span><span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">cy</span>
 <span class="br0">&#125;</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// third quadrant arc</span>
 control1X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">-</span> view.<span class="me1">rx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">-</span> view.<span class="me1">my</span>
 control2X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">-</span> view.<span class="me1">mx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">-</span> view.<span class="me1">ry</span>
 x<span class="sy0">:</span> view.<span class="me1">cx</span><span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">-</span> view.<span class="me1">ry</span>
 <span class="br0">&#125;</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// forth quadrant arc</span>
 control1X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">+</span> view.<span class="me1">mx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">-</span> view.<span class="me1">ry</span>
 control2X<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">+</span> view.<span class="me1">rx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> view.<span class="me1">cy</span> <span class="sy0">-</span> view.<span class="me1">my</span>
 x<span class="sy0">:</span> view.<span class="me1">cx</span> <span class="sy0">+</span> view.<span class="me1">rx</span><span class="sy0">;</span> y<span class="sy0">:</span> view.<span class="me1">cy</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
…</pre></div></div>
<p>Which gives us a picture-perfect circle:
<a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Http://www.gitorious.org/qt-training/qml-demos/blobs/raw/4ef3dccc2be296484845628880c5abcebbbceb1e/carousel/Carousel2.png" class="new" title="File:Http://www.gitorious.org/qt-training/qml-demos/blobs/raw/4ef3dccc2be296484845628880c5abcebbbceb1e/carousel/Carousel2.png">Carousel2.png</a>
</p><p>As you can see, we need two control points for each cubic Bézier path segment. (All points are given in absolute coordinates.) If we had gone with quadratic Bézier curves, we only would have needed one single control point per segment. The control points lie outside the curvature, but influence its shape. You should be familiar with the concept from popular vector graphics tools.
</p>
<h2><span class="mw-headline" id="Hiding_complexity">Hiding complexity</span></h2>
<p>A QML file <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qml-extending-types.html#defining-new-components">can be defined to be a re-usable component</a>. When you grow your code, you commonly want to split out generic elements into separate files to enable reuse and increase readability. In our example we would want to write:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Carousel3.qml</span>
import QtQuick <span class="nu16">1.0</span>
&#160;
PathView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> view
 width<span class="sy0">:</span> <span class="nu0">640</span>
 height<span class="sy0">:</span> <span class="nu0">360</span>
 model<span class="sy0">:</span> <span class="nu0">32</span>
 delegate<span class="sy0">:</span> Text <span class="br0">&#123;</span> text<span class="sy0">:</span> index <span class="br0">&#125;</span>
 path<span class="sy0">:</span> Ellipse <span class="br0">&#123;</span>
 width<span class="sy0">:</span> view.<span class="me1">width</span>
 height<span class="sy0">:</span> view.<span class="me1">height</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Our self-defined <i>Ellipse</i> component hides all the complexity of the circle approximation and scaling. When we define our own components derived from exiting ones, we can also introduce new properties. The <i>Ellipse</i> component contains the following code, which is a slightly generalized version of our earlier circle approximation:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Ellipse.qml</span>
import QtQuick <span class="nu16">1.0</span>
&#160;
Path <span class="br0">&#123;</span>
 id<span class="sy0">:</span> p
 property real width<span class="sy0">:</span> <span class="nu0">200</span>
 property real height<span class="sy0">:</span> <span class="nu0">200</span>
 property real margin<span class="sy0">:</span> <span class="nu0">50</span>
 property real cx<span class="sy0">:</span> width <span class="sy0">/</span> <span class="nu0">2</span>
 property real cy<span class="sy0">:</span> height <span class="sy0">/</span> <span class="nu0">2</span>
 property real rx<span class="sy0">:</span> width <span class="sy0">/</span> <span class="nu0">2</span> <span class="sy0">-</span> margin
 property real ry<span class="sy0">:</span> height <span class="sy0">/</span> <span class="nu0">2</span> <span class="sy0">-</span> margin
 property real mx<span class="sy0">:</span> rx <span class="sy0">*</span> magic
 property real my<span class="sy0">:</span> ry <span class="sy0">*</span> magic
 property real magic<span class="sy0">:</span> <span class="nu16">0.551784</span>
 startX<span class="sy0">:</span> p.<span class="me1">cx</span><span class="sy0">;</span> startY<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">+</span> p.<span class="me1">ry</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// second quadrant arc</span>
 control1X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">-</span> p.<span class="me1">mx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">+</span> p.<span class="me1">ry</span>
 control2X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">-</span> p.<span class="me1">rx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">+</span> p.<span class="me1">my</span>
 x<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">-</span> p.<span class="me1">rx</span><span class="sy0">;</span> y<span class="sy0">:</span> p.<span class="me1">cy</span>
 <span class="br0">&#125;</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// third quadrant arc</span>
 control1X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">-</span> p.<span class="me1">rx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">-</span> p.<span class="me1">my</span>
 control2X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">-</span> p.<span class="me1">mx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">-</span> p.<span class="me1">ry</span>
 x<span class="sy0">:</span> p.<span class="me1">cx</span><span class="sy0">;</span> y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">-</span> p.<span class="me1">ry</span>
 <span class="br0">&#125;</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// forth quadrant arc</span>
 control1X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">+</span> p.<span class="me1">mx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">-</span> p.<span class="me1">ry</span>
 control2X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">+</span> p.<span class="me1">rx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">-</span> p.<span class="me1">my</span>
 x<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">+</span> p.<span class="me1">rx</span><span class="sy0">;</span> y<span class="sy0">:</span> p.<span class="me1">cy</span>
 <span class="br0">&#125;</span>
 PathCubic <span class="br0">&#123;</span> <span class="co1">// first quadrant arc</span>
 control1X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">+</span> p.<span class="me1">rx</span><span class="sy0">;</span> control1Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">+</span> p.<span class="me1">my</span>
 control2X<span class="sy0">:</span> p.<span class="me1">cx</span> <span class="sy0">+</span> p.<span class="me1">mx</span><span class="sy0">;</span> control2Y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">+</span> p.<span class="me1">ry</span>
 x<span class="sy0">:</span> p.<span class="me1">cx</span><span class="sy0">;</span> y<span class="sy0">:</span> p.<span class="me1">cy</span> <span class="sy0">+</span> p.<span class="me1">ry</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>As you can see, we've decided to start in the second quadrant. The idea is to have the first item on the path shown in the bottom-most position, which is also the position of the current item.
</p>
<h2><span class="mw-headline" id="Adding_the_artwork">Adding the artwork</span></h2>
<p>At this point, you should have developed a basic understanding of how to manage paths. This leaves us with doing the real magic: bringing the artwork to life. We have chosen a small <a rel="nofollow" class="external text" href="http://www.dirtydogicons.com/en/icons/7-tron-basic">tron-style</a> icon set and we will directly go ahead and make it appear in 3D. It is astonishingly simple in QML to do so.
</p><p>First, let's create the necessary model. We've started with a simple dummy model and will now replace it with a real model. Here's the code:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Model0.qml</span>
import QtQuick <span class="nu16">1.0</span>
&#160;
ListModel <span class="br0">&#123;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> <span class="st0">&quot;Calendar&quot;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/calendar.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> <span class="st0">&quot;Setup&quot;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/develop.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> <span class="st0">&quot;Internet&quot;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/globe.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> <span class="st0">&quot;Messages&quot;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/mail.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> <span class="st0">&quot;Music&quot;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/music.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> <span class="st0">&quot;Call&quot;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/phone.png&quot;</span> <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>We've chosen to use a <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/qml-listmodel.html">ListModel</a> and we populate it with our custom list elements. We are free to define our own properties for the items. We'll use the <i>iconSource</i> to display the menu icon and the <i>title</i> to add a title display later-on. Our new delegate is based on the <i>Image</i> component and looks like the following:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Carouse5.qml</span>
import QtQuick <span class="nu16">1.0</span>
&#160;
Rectangle <span class="br0">&#123;</span>
 width<span class="sy0">:</span> <span class="nu0">640</span>
 height<span class="sy0">:</span> <span class="nu0">360</span>
 color<span class="sy0">:</span> <span class="st0">&quot;black&quot;</span>
 PathView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> view
 width<span class="sy0">:</span> parent.<span class="me1">width</span>
 height<span class="sy0">:</span> parent.<span class="me1">height</span> <span class="sy0">+</span> y
 y<span class="sy0">:</span> –<span class="nu0">33</span>
 model<span class="sy0">:</span> Menu0 <span class="br0">&#123;</span><span class="br0">&#125;</span>
 delegate<span class="sy0">:</span> Image <span class="br0">&#123;</span>
 source<span class="sy0">:</span> iconSource
 width<span class="sy0">:</span> <span class="nu0">64</span>
 height<span class="sy0">:</span> <span class="nu0">64</span>
 scale<span class="sy0">:</span> <span class="nu0">4</span>. <span class="sy0">*</span> y <span class="sy0">/</span> parent.<span class="me1">height</span>
 z<span class="sy0">:</span> y
 smooth<span class="sy0">:</span> <span class="kw2">true</span>
 opacity<span class="sy0">:</span> scale <span class="sy0">/</span> <span class="nu0">2</span>.
 <span class="br0">&#125;</span>
 path<span class="sy0">:</span> Ellipse <span class="br0">&#123;</span>
 width<span class="sy0">:</span> view.<span class="me1">width</span>
 height<span class="sy0">:</span> view.<span class="me1">height</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Not much code, right? But it already has everything needed for a gorgeous 3D menu. We trick the eye into believing it is 3D by scaling the icons down towards the top. Reducing opacity in the distance also helps the depth perception. If you open <i>Carousel4.qml</i> in <b>qmlviewer</b> it gives you:
</p><p><a href="http://wiki.qt.io/index.php?title=Special:Upload&amp;wpDestFile=Https://www.gitorious.org/qt-training/qml-demos/blobs/raw/b0cdec015684c0d2a7042f11ff53eca683c3dc52/carousel/Carousel4.png" class="new" title="File:Https://www.gitorious.org/qt-training/qml-demos/blobs/raw/b0cdec015684c0d2a7042f11ff53eca683c3dc52/carousel/Carousel4.png">Carousel4.png</a>
</p>
<h2><span class="mw-headline" id="Adding_keyboard_interaction">Adding keyboard interaction</span></h2>
<p>Adding keyboard interaction is quite simple and straight forward. First we have to add the following three lines of code to process the keyboard events:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Carousel5.qml</span>
…
PathView <span class="br0">&#123;</span>
 …
 focus<span class="sy0">:</span> <span class="kw2">true</span>
 Keys.<span class="me1">onLeftPressed</span><span class="sy0">:</span> decrementCurrentIndex<span class="br0">&#40;</span><span class="br0">&#41;</span>
 Keys.<span class="me1">onRightPressed</span><span class="sy0">:</span> incrementCurrentIndex<span class="br0">&#40;</span><span class="br0">&#41;</span>
 …
<span class="br0">&#125;</span>
…</pre></div></div>
<p>All the visual elements have a focus property. Only one element at a time should have it set to true and this element is the one that receives keyboard input events. We use the attached <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/qml-keys.html">Keys</a> properties to implement the event handlers. We could also have used the more elaborate keyboard event handler:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Keys.<span class="me1">onPressed</span><span class="sy0">:</span> <span class="br0">&#123;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>event.<span class="me1">key</span>  <span class="kw5">Qt</span>.<span class="me1">Key_Left</span><span class="br0">&#41;</span> decrementCurrentIndex<span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>event.<span class="me1">key</span>  <span class="kw5">Qt</span>.<span class="me1">Key_Right</span><span class="br0">&#41;</span> incrementCurrentIndex<span class="br0">&#40;</span><span class="br0">&#41;</span>
 event.<span class="me1">accepted</span> <span class="sy0">=</span> <span class="kw2">true</span>
<span class="br0">&#125;</span></pre></div></div>
<p>As you can see, we are counting the current index up or down when a key is pressed. But which one is actually the current item? As the path view can take up any abstract shape, how can it know which one should be the currently active item if any? The current item is also called the highlighted item and you have to add the following lines to tell the <i>PathView</i> which item to highlight:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">…
PathView <span class="br0">&#123;</span>
 …
 preferredHighlightBegin<span class="sy0">:</span> <span class="nu0">0</span>
 preferredHighlightEnd<span class="sy0">:</span> <span class="nu0">0</span>
 highlightRangeMode<span class="sy0">:</span> PathView.<span class="me1">StrictlyEnforceRange</span>
 …
<span class="br0">&#125;</span>
…</pre></div></div>
<p>In our case, we decided to make the first item on the path the current item. Now, as we have defined the current item, we should be able to navigate the menu by either incrementing or decrementing the current index. Try it out by opening <i>Carousel5.qml</i> in the <b>qmlviewer</b>.
</p>
<h2><span class="mw-headline" id="Fine_tuning">Fine tuning</span></h2>
<p>Finally we'd like to display the title of the current item. The <i>PathView</i> has a <i>highlightItem</i> which we could use to create a highlight, but we will simply bind a <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/qml-text.html">Text</a> item to the geometry of the root element to display the title. This also shows how you can link up components from different places.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">…
PathView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> view
 …
<span class="br0">&#125;</span>
Text <span class="br0">&#123;</span>
 id<span class="sy0">:</span> label
 text<span class="sy0">:</span> view.<span class="me1">model</span>.<span class="me1">get</span><span class="br0">&#40;</span>view.<span class="me1">currentIndex</span><span class="br0">&#41;</span>.<span class="me1">title</span>
 color<span class="sy0">:</span> <span class="st0">&quot;paleturquoise&quot;</span>
 font.<span class="me1">pixelSize</span><span class="sy0">:</span> <span class="nu0">16</span>
 font.<span class="me1">bold</span><span class="sy0">:</span> <span class="kw2">true</span>
 anchors.<span class="me1">horizontalCenter</span><span class="sy0">:</span> parent.<span class="me1">horizontalCenter</span>
 anchors.<span class="me1">bottom</span><span class="sy0">:</span> parent.<span class="me1">bottom</span>
<span class="br0">&#125;</span>
…</pre></div></div>
<p>Qt Quick provides a rich set of attributes for text styling. The color value <i>paleturquoise</i> is one of the <a rel="nofollow" class="external text" href="http://www.w3.org/TR/SVG/types.html#ColorKeywords">SVG color names</a>.
As you can see, we've bound the text directly to the title stored in our model. This type of binding is quick and easy. Whenever the <i>currentIndex</i> changes, QML will automatically reevaluate the text. But beware the risks here. Do not over-use direct bindings across different object hierarchies. For instance when we decide to rename the model attribute <i>title</i> to something else, we are breaking all property bindings which include the title and we won't get a warning until the component is actually instantiated.
</p>
<h2><span class="mw-headline" id="Internationalization">Internationalization</span></h2>
<p>There are many topics we could have talked about in this small tutorial, which was meant to be provide a quick tour through Qt Quick, but talking about things like C++ bindings, packaging or deployment would certainly have made us depart far from our initial goal of keeping things simple. There is, however, one important point we can still include here and that is internationalization. Usually a quite complex topic, Qt makes translating applications astonishingly simple.
</p><p>Qt includes <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/linguist-manual.html">Qt Linguist</a>, which is a powerful tool for translating applications. The same procedures used for C++ code also apply for QML with the exception of a <a rel="nofollow" class="external text" href="http://developer.qt.nokia.com/doc/qt-4.7/qdeclarative.html">few differences</a>
</p><p>Strings that should be translated into QML need to be wrapped with the <i>qsTr()</i> function. The <b>lupdate</b> tool is then able to extract those strings and generate XML translation files (.ts extension). The interpreter can then add translations using <b>Qt Linguist</b> and, once they have been added, the resulting .ts files are compiled into .qm files using <b>lrelease</b>. To test a translation simply pass the .qm file to the <b>qmlviewer</b> with the <i>-translation</i> command line option.
</p><p>There are a few tricky parts along the road you have to know about, so let's walk through the process with our small carousel menu and translate the title texts shown below the current item. You might think you could just wrap the title text in the model like this:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">ListModel <span class="br0">&#123;</span>
 ListElement <span class="br0">&#123;</span> title<span class="sy0">:</span> qsTr<span class="br0">&#40;</span><span class="st0">&quot;Calendar&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/calendar.png&quot;</span> <span class="br0">&#125;</span>
 …</pre></div></div>
<p>But that's not going to work, because script expressions are not allowed for the property values of a list element. There are few obvious choices on how to work around that issue. As JavaScript functions are allowed practically everywhere we have chosen to rewrite the title property as a function:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Menu1.qml</span>
import QtQuick <span class="nu16">1.0</span>
&#160;
ListModel <span class="br0">&#123;</span>
 ListElement <span class="br0">&#123;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/calendar.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/develop.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/globe.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/mail.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/music.png&quot;</span> <span class="br0">&#125;</span>
 ListElement <span class="br0">&#123;</span> iconSource<span class="sy0">:</span> <span class="st0">&quot;icons/phone.png&quot;</span> <span class="br0">&#125;</span>
 function title<span class="br0">&#40;</span>index<span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>title<span class="br0">&#91;</span><span class="st0">&quot;text&quot;</span><span class="br0">&#93;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
 title.<span class="me1">text</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
 qsTr<span class="br0">&#40;</span><span class="st0">&quot;Calendar&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 qsTr<span class="br0">&#40;</span><span class="st0">&quot;Setup&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 qsTr<span class="br0">&#40;</span><span class="st0">&quot;Internet&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 qsTr<span class="br0">&#40;</span><span class="st0">&quot;Messages&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 qsTr<span class="br0">&#40;</span><span class="st0">&quot;Music&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 qsTr<span class="br0">&#40;</span><span class="st0">&quot;Call&quot;</span><span class="br0">&#41;</span>
 <span class="br0">&#93;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">return</span> title.<span class="me1">text</span><span class="br0">&#91;</span>index<span class="br0">&#93;</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>As you can see we call <i>qsTr()</i> for each menu item the first time the <i>title()</i> function is called. Of course you have to use such constructs only, if you are dealing with translating model values. All other strings can be wrapped directly with <i>qsTr()</i>.
As we have changed the model definition, we also need to refactor the dependent code. In our case we are lucky and only need to replace one line:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">text<span class="sy0">:</span> view.<span class="me1">model</span>.<span class="me1">title</span><span class="br0">&#40;</span>view.<span class="me1">currentIndex</span><span class="br0">&#41;</span></pre></div></div>
<p>Now we call <b>lupdate</b> to generate the XML translation files:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">lupdate . <span class="sy0">-</span>ts Carousel_de.<span class="me1">ts</span> <span class="sy0">-</span>codecfortr UTF<span class="sy0">-</span><span class="nu0">8</span></pre></div></div>
<p>Then open this file with the <b>linguist</b> and enter your translations. Once you've finished, invoke <b>lrelease</b>:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">lrelease Carousel_de.<span class="me1">ts</span></pre></div></div>
<p>The <b>lrelease</b> tool will generate a new <i>Carousel_de.qml</i> translation file. You can test the translation by invoking the <b>qmlviewer</b> from the command line like the following:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">usr<span class="sy0">/</span>bin<span class="sy0">/</span>qmlviewer <span class="sy0">-</span>translation Carousel_de.<span class="me1">qm</span> Carousel7.<span class="me1">qml</span></pre></div></div>
<h2><span class="mw-headline" id="Credits">Credits</span></h2>

<!-- 
NewPP limit report
CPU time usage: 0.350 seconds
Real time usage: 0.356 seconds
Preprocessor visited node count: 219/1000000
Preprocessor generated node count: 476/1000000
Post‐expand include size: 1276/2097152 bytes
Template argument size: 414/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1531-0!*!0!!en!2!* and timestamp 20151105100857 and revision id 16039
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;oldid=16039">http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;oldid=16039</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.qt.io/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://wiki.qt.io/Category:Articles_needing_cleanup" title="Category:Articles needing cleanup">Articles needing cleanup</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick" title="Category:Developing with Qt::Qt Quick">Developing with Qt::Qt Quick</a></li><li><a href="http://wiki.qt.io/index.php?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Qt+Quick+Carousel" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Qt_Quick_Carousel"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Qt_Quick_Carousel&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://wiki.qt.io/Qt_Quick_Carousel" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Qt_Quick_Carousel" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Qt_Quick_Carousel" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;oldid=16039&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;oldid=16039" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Qt_Quick_Carousel&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 17 April 2015, at 12:30.</li>
											<li id="footer-info-viewcount">This page has been accessed 2,548 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":543});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Qt_Quick_Carousel&oldid=16039 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:14:26 GMT -->
</html>
