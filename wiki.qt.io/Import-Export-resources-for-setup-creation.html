<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/Import-Export-resources-for-setup-creation by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:49:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Import-Export-resources-for-setup-creation - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load771b.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="loadc6d2.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Import-Export-resources-for-setup-creation","wgTitle":"Import-Export-resources-for-setup-creation","wgCurRevisionId":13842,"wgRevisionId":13842,"wgArticleId":1050,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Import-Export-resources-for-setup-creation","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Import-Export-resources-for-setup-creation skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Import-Export-resources-for-setup-creation</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="index6afb-2.html?title=Import-Export-resources-for-setup-creation&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="Updated_pages.html" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Import_.26_Export_of_resources_for_creating_a_setup_.28windows.29"><span class="tocnumber">1</span> <span class="toctext">Import &amp; Export of resources for creating a setup (windows)</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Headers_.26_Source_files"><span class="tocnumber">1.2</span> <span class="toctext">Headers &amp; Source files</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Implementation"><span class="tocnumber">1.3</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Files"><span class="tocnumber">1.4</span> <span class="toctext">Files</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Feedback"><span class="tocnumber">1.5</span> <span class="toctext">Feedback</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Import_.26_Export_of_resources_for_creating_a_setup_.28windows.29">Import &amp; Export of resources for creating a setup (windows)</span></h1>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>For almost every finished Qt project it is wanted and in most cases also required to carry extern resources.
When porting the executable to other users on other computers that usually don't have Qt installed, it is necessary to port the needed Qt libraries, too.
Also, it is often necessary to include sound files, pictures, text files and other stuff to the executable.
One common way is to pack all that stuff into a zip archive and hope that the target user will manage things correctly.
Another, more complicated and maybe not in every case usable way would be to use the Qt resource management.
</p><p>For those of you who would like to handle import/export of every kind of resource very easily, I wrote a little "ResourceManager".
</p>
<h2><span class="mw-headline" id="Headers_.26_Source_files">Headers &amp; Source files</span></h2>
<p>The obligatory algorithms are stored in two files:
1. resourcemanager.h
2. resourcemanager.cpp
</p><p>For easy creating a setup file by mouse clicking, I also wrote a user interface. This interface additionally requires the following six files:
1. mainwindow.h
2. mainwindow.cpp
3. myQDialogGetFile.h
4. myQDialogGetFile.cpp
5. myQDialogGetNewFile.h
6. myQDialogGetNewFile.cpp
</p>
<h2><span class="mw-headline" id="Implementation">Implementation</span></h2>
<h3><span class="mw-headline" id="Basic_usage_without_user_interface_.28not_advisable.21.29">Basic usage without user interface (<b>not advisable!</b>)</span></h3>
<p>For basic usage of the ResourceManager, you have to create a new project (this will be the executable that will import the resources to your setup) and add the two obligatory files (resourcemanager.h, resourcemanager.cpp).
In the main source file, you only have to specify the resources and pass them to the resourcemanager algorithm.
There are two functions that can be used, depending on how the resources shall be passed:
a) as a QStringList:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QStringList</span> listResources<span class="sy0">;</span>
listResources <span class="sy0">&lt;&lt;</span> <span class="st0">&quot;Path/To/Resource/resource1.suffix|Path/To/Export/Resource/On/User/Computer/resource1.suffix&quot;</span> <span class="sy0">&lt;&lt;</span> <span class="st0">&quot;Path/To/Resource/resource2.suffix|Path/To/Export/Resource/On/User/Computer/resource2.suffix&quot;</span><span class="sy0">;</span>
ResourceManager resManager<span class="br0">&#40;</span><span class="st0">&quot;Path/To/Setup.exe&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>resManager.<span class="me1">importResourcesFromList</span><span class="br0">&#40;</span>listResources<span class="br0">&#41;</span><span class="br0">&#41;</span>
 resManager.<span class="me1">displayError</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">else</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;ResourceManager&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Import successful!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></div></div>
<p>b) from an existing resource table file (ini format):
ResourceTable.ini:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="br0">&#91;</span>Resources<span class="br0">&#93;</span>
res_1<span class="sy0">=</span>Path<span class="sy0">/</span>To<span class="sy0">/</span>Resource<span class="sy0">/</span>resource1.<span class="me1">suffix</span><span class="sy0">|</span>Path<span class="sy0">/</span>To<span class="sy0">/</span>Export<span class="sy0">/</span>Resource<span class="sy0">/</span>On<span class="sy0">/</span>User<span class="sy0">/</span>Computer<span class="sy0">/</span>resource1.<span class="me1">suffix</span>
res_2<span class="sy0">=</span>Path<span class="sy0">/</span>To<span class="sy0">/</span>Resource<span class="sy0">/</span>resource2.<span class="me1">suffix</span><span class="sy0">|</span>Path<span class="sy0">/</span>To<span class="sy0">/</span>Export<span class="sy0">/</span>Resource<span class="sy0">/</span>On<span class="sy0">/</span>User<span class="sy0">/</span>Computer<span class="sy0">/</span>resource2.<span class="me1">suffix</span></pre></div></div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QString</span> fileResources <span class="sy0">=</span> <span class="st0">&quot;Path/To/ResourceTable.ini&quot;</span><span class="sy0">;</span>
ResourceManager resManager<span class="br0">&#40;</span><span class="st0">&quot;Path/To/Setup.exe&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>resManager.<span class="me1">importResourcesFromFile</span><span class="br0">&#40;</span>fileResources<span class="br0">&#41;</span><span class="br0">&#41;</span>
 resManager.<span class="me1">displayError</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">else</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;ResourceManager&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Import successful!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></div></div>
<p>I strongly recommend not to call the resourcemanager algorithms manually, because there are lots of mistakes that can happen like typing a wrong resource path, using forbidden characters (e.g.g backslash) and so on.
It is advisable to use the user interface instead.
</p>
<h3><span class="mw-headline" id="Using_graphical_user_interface">Using graphical user interface</span></h3>
<p>For using the interface, you only have to create a new project and import all files given above (resourcemanager.h/.cpp, mainwindow.h/.cpp, myQDialogGetFile.h/.cpp, myQDialogGetNewFile.h/.cpp), compile and run it.
After the mainwindow is shown, you can select new resources from your computer and add them to the resource table, or you can load an already existing resource table (ini file). By clicking the button "import to library" you can import all files from the table to your specified setup file.
You can also save the chosen resources as a new resource table file for later use.
</p>
<h3><span class="mw-headline" id="Exporting_resources_on_clients_computer">Exporting resources on clients computer</span></h3>
<p>The only thing you have to modify in your setup file project is to add the two resourcemanager files (resourcemanager.h/.cpp) and place the following command into the main function (or anywhere else at the point of execution where resources should be exported):
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc<span class="sy0">,</span> <span class="kw4">char</span><span class="sy0">**</span> args<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 ResourceManager resManager<span class="br0">&#40;</span><span class="st0">&quot;Path/To/Setup.exe&quot;</span><span class="sy0">,</span> ResourceManager<span class="sy0">::</span><span class="me2">EXPORT</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>resManager.<span class="me1">exportResources</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 resManager.<span class="me1">displayError</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">else</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;ResourceManager&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Export successful!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="co1">//continue execution as wanted…</span>
<span class="br0">&#125;</span></pre></div></div>
<p>The path you have to pass to the ResourceManager is the path of the setup file itsself, because there are the resources stored.
</p>
<h2><span class="mw-headline" id="Files">Files</span></h2>
<h3><span class="mw-headline" id="resourcemanager.h">resourcemanager.h</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Library - resourcemanager.h</span>
&#160;
<span class="co2">#ifndef ''HEADER_RESOURCEMANAGER''</span>
<span class="co2">#define ''HEADER_RESOURCEMANAGER''</span>
&#160;
<span class="co1">// —— header includes ——</span>
&#160;
<span class="co2">#include &quot;windows.h&quot;</span>
<span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QMessageBox&gt;</span>
<span class="co2">#include &lt;QString&gt;</span>
<span class="co2">#include &lt;QTextStream&gt;</span>
<span class="co2">#include &lt;QDir&gt;</span>
<span class="co2">#include &lt;QSettings&gt;</span>
<span class="co2">#include &lt;QFile&gt;</span>
&#160;
<span class="co1">// —— class forward declaration ——</span>
&#160;
<span class="kw2">class</span> ResourceManager<span class="sy0">;</span>
&#160;
<span class="co1">// —— class declaration ——</span>
&#160;
<span class="kw2">class</span> ResourceManager
<span class="br0">&#123;</span>
 <span class="kw2">public</span><span class="sy0">:</span>
 <span class="kw2">enum</span> enumType <span class="br0">&#123;</span>IMPORT<span class="sy0">,</span> EXPORT<span class="br0">&#125;</span><span class="sy0">;</span>
&#160;
<span class="kw2">private</span><span class="sy0">:</span>
 enumType type<span class="sy0">;</span>
 <span class="kw5">QString</span> fileLibrary<span class="sy0">,</span> idResourceTable<span class="sy0">,</span> idResource<span class="sy0">,</span> keyResourceTableFile<span class="sy0">,</span> errorMessage<span class="sy0">;</span>
 <span class="kw5">QByteArray</span> dataResourceTableImport<span class="sy0">,</span> dataResourceTableExport<span class="sy0">;</span>
&#160;
<span class="kw2">public</span><span class="sy0">:</span>
 ResourceManager<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>library <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span> enumType type <span class="sy0">=</span> ResourceManager<span class="sy0">::</span><span class="me2">IMPORT</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> setLibrary<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> importResourcesFromFile<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> importResourcesFromList<span class="br0">&#40;</span><span class="kw5">QStringList</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> exportResources<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> displayError<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw4">bool</span> createResourceTableFromFile<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> createResourceTableFromList<span class="br0">&#40;</span><span class="kw5">QStringList</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> importResourceTable<span class="br0">&#40;</span>HANDLE<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> importResources<span class="br0">&#40;</span>HANDLE<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> exportResourceTable<span class="br0">&#40;</span>HANDLE<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> exportResources<span class="br0">&#40;</span>HANDLE<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&#160;
<span class="co2">#endif</span></pre></div></div>
<h3><span class="mw-headline" id="resourcemanager.cpp">resourcemanager.cpp</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Library - resourcemanager.cpp</span>
&#160;
<span class="co1">// —— header includes ——</span>
&#160;
<span class="co2">#include &quot;resourcemanager.h&quot;</span>
&#160;
<span class="co1">// —————————————————————————————————-</span>
 <span class="co1">// —— ResourceManager ——</span>
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— constructors ——</span>
&#160;
ResourceManager<span class="sy0">::</span><span class="me2">ResourceManager</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>library<span class="sy0">,</span> enumType type<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">setLibrary</span><span class="br0">&#40;</span>library<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">type</span> <span class="sy0">=</span> type<span class="sy0">;</span>
&#160;
this<span class="sy0">-&gt;</span><span class="me3">idResourceTable</span> <span class="sy0">=</span> <span class="st0">&quot;myResource_Table&quot;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">idResource</span> <span class="sy0">=</span> <span class="st0">&quot;myResource_&quot;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">keyResourceTableFile</span> <span class="sy0">=</span> <span class="st0">&quot;Resources/res_&quot;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableImport</span>.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableExport</span>.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;No errors occured!&quot;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="co1">// —————————————————</span>
 <span class="co1">// —— private functions ——</span>
&#160;
<span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">importResourceTable</span><span class="br0">&#40;</span>HANDLE hLibrary<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">type</span> <span class="br0">&#91;</span><span class="br0">&#91;</span>Image<span class="sy0">:=</span> ResourceManager<span class="sy0">::</span><span class="me2">IMPORT</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
      this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Import access denied|]] Object is in export mode.&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 LPVOID cdataResourceTableExport <span class="sy0">=</span> <span class="br0">&#40;</span>LPVOID<span class="br0">&#41;</span>this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableExport</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>UpdateResource<span class="br0">&#40;</span>hLibrary<span class="sy0">,</span>
 RT_RCDATA<span class="sy0">,</span>
 this<span class="sy0">-&gt;</span><span class="me3">idResourceTable</span>.<span class="me1">toStdWString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 MAKELANGID <span class="br0">&#40;</span>LANG_NEUTRAL<span class="sy0">,</span> SUBLANG_DEFAULT<span class="br0">&#41;</span><span class="sy0">,</span>
 cdataResourceTableExport<span class="sy0">,</span>
 this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableExport</span>.<span class="me1">length</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Unexpected error occured: failed to update resource table&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">importResources</span><span class="br0">&#40;</span>HANDLE hLibrary<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QList</span><span class="sy0">&lt;</span><span class="kw5">QByteArray</span><span class="sy0">&gt;</span> resources <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableImport</span>.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'?'</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> ii <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> resources.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="sy0">+</span><span class="st0">''</span><span class="sy0">,</span> ii<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QString</span> resourceInfo <span class="sy0">=</span> resources.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>resourceInfo.<span class="me1">contains</span><span class="br0">&#40;</span><span class="st0">&quot;|&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Invalid resource table configuration (missing separator '|')&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 resourceInfo.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QString</span> resourceFrom <span class="sy0">=</span> resourceInfo.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">&quot;|&quot;</span><span class="br0">&#41;</span>.<span class="me1">at</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">,</span>
 resourceTo <span class="sy0">=</span> resourceInfo.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">&quot;|&quot;</span><span class="br0">&#41;</span>.<span class="me1">at</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>resourceFrom.<span class="me1">contains</span><span class="br0">&#40;</span><span class="kw5">QRegExp</span><span class="br0">&#40;</span><span class="st0">&quot;[|'''?quot;&lt;&gt; ]&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">||</span> resourceTo.<span class="me1">contains</span><span class="br0">&#40;</span><span class="kw5">QRegExp</span><span class="br0">&#40;</span><span class="st0">&quot;[|'''?quot;&lt;&gt; ]&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Invalid resource table configuration (forbidden characters '|'''?quot;&lt;&gt;')&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>resourceFrom.<span class="me1">count</span><span class="br0">&#40;</span><span class="st0">&quot;:&quot;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="sy0">||</span> resourceTo.<span class="me1">count</span><span class="br0">&#40;</span><span class="st0">&quot;:&quot;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Invalid resource table configuration (forbidden multi occurrence of ':', only allowed for drive specification)&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>resourceFrom<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">exists</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;A specified resource doesn't exist: '&quot;</span><span class="st0">''</span>resourceFrom<span class="st0">''</span><span class="st0">&quot;'&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw5">QByteArray</span> resourceData<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">ReadOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 resourceData <span class="sy0">=</span> file.<span class="me1">readAll</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">else</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Unexpected error occured: failed to open resource: '&quot;</span><span class="st0">''</span>resourceFrom<span class="st0">''</span><span class="st0">&quot;'&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw5">QString</span> idResource <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">idResource</span><span class="sy0">+</span><span class="kw5">QString</span><span class="sy0">::</span><span class="me2">number</span><span class="br0">&#40;</span>ii<span class="br0">&#41;</span><span class="sy0">;</span>
 LPVOID cResourceData <span class="sy0">=</span> <span class="br0">&#40;</span>LPVOID<span class="br0">&#41;</span><span class="br0">&#40;</span>LPCTSTR<span class="br0">&#41;</span>resourceData.<span class="me1">data</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>UpdateResource<span class="br0">&#40;</span>hLibrary<span class="sy0">,</span>
 RT_RCDATA<span class="sy0">,</span>
 idResource.<span class="me1">toStdWString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 MAKELANGID <span class="br0">&#40;</span>LANG_NEUTRAL<span class="sy0">,</span> SUBLANG_DEFAULT<span class="br0">&#41;</span><span class="sy0">,</span>
 cResourceData<span class="sy0">,</span>
 resourceData.<span class="me1">size</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Unexpected error occured: failed to update resource: '&quot;</span><span class="st0">''</span>resourceFrom<span class="st0">''</span><span class="st0">&quot;'&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">exportResourceTable</span><span class="br0">&#40;</span>HANDLE hLibrary<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">type</span> <span class="br0">&#91;</span><span class="br0">&#91;</span>Image<span class="sy0">:=</span> ResourceManager<span class="sy0">::</span><span class="me2">EXPORT</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
      this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Export access denied|]] Object is in import mode.&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 HANDLE hResource <span class="sy0">=</span> FindResource<span class="br0">&#40;</span><span class="br0">&#40;</span>HMODULE<span class="br0">&#41;</span>hLibrary<span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">idResourceTable</span>.<span class="me1">toStdWString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> RT_RCDATA<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>hResource <span class="sy0">!=</span> <span class="kw2">NULL</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw4">int</span> resourceSize <span class="sy0">=</span> <span class="br0">&#40;</span><span class="kw4">int</span><span class="br0">&#41;</span>SizeofResource<span class="br0">&#40;</span><span class="br0">&#40;</span>HMODULE<span class="br0">&#41;</span>hLibrary<span class="sy0">,</span> <span class="br0">&#40;</span>HRSRC<span class="br0">&#41;</span>hResource<span class="br0">&#41;</span><span class="sy0">;</span>
 HANDLE hResourceLoaded <span class="sy0">=</span> LoadResource<span class="br0">&#40;</span><span class="br0">&#40;</span>HMODULE<span class="br0">&#41;</span>hLibrary<span class="sy0">,</span> <span class="br0">&#40;</span>HRSRC<span class="br0">&#41;</span>hResource<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>hResourceLoaded <span class="sy0">!=</span> <span class="kw2">NULL</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QByteArray</span> resourceData <span class="sy0">=</span> <span class="kw5">QByteArray</span><span class="sy0">::</span><span class="me2">fromRawData</span><span class="br0">&#40;</span><span class="br0">&#40;</span><span class="kw4">char</span><span class="st0">''</span><span class="st0">')LockResource(hResourceLoaded), resourceSize);
 if(resourceData.size() &gt; 0)
 this-&gt;dataResourceTableExport = resourceData;
 else
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to lock resource table&quot;;
 return false;
 }
 }
 else
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to load resource table&quot;;
 return false;
 }
 }
 else
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to locate resource table&quot;;
 return false;
 }
 return true;
 }
&#160;
 bool ResourceManager::exportResources(HANDLE hLibrary)
 {
 QList&lt;QByteArray&gt; listResources = this-&gt;dataResourceTableExport.split('</span>?<span class="st0">');
&#160;
 for(int i = 0; i &lt; listResources.count(); i)
 {
 if(!listResources.at(i).contains('</span><span class="sy0">|</span><span class="st0">'))
 {
 this-&gt;errorMessage = &quot;Invalid resource table configuration (missing separator '</span><span class="sy0">|</span><span class="st0">')&quot;;
 return false;
 }
 QString idResource = this-&gt;idResource+listResources.at(i).split('</span><span class="sy0">|</span><span class="st0">').at(0),
 resourceTo = listResources.at(i).split('</span><span class="sy0">|</span><span class="st0">').at(1);
&#160;
 if(resourceTo.contains('</span><span class="sy0">/</span><span class="st0">'))
 {
 QStringList resourceToDirs = resourceTo.split('</span><span class="sy0">/</span><span class="st0">');
 resourceToDirs.removeLast();
 QDir directory;
 QString resourceToDir;
 for(int ii = 0; ii &lt; resourceToDirs.count(); ii)
 {
 resourceToDir'</span><span class="st0">'= (ii  0)&#160;? resourceToDirs.at(ii)&#160;: &quot;/&quot;+resourceToDirs.at(ii);
        }
        directory.mkpath(resourceToDir);
      }
      LPCTSTR cidResource = (LPCTSTR)idResource.toStdWString().c_str();
      HANDLE hResource = FindResource((HMODULE)hLibrary, cidResource, RT_RCDATA);
      if (hResource  NULL)
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to locate resource&quot;;
 return false;
 }
 int resourceSize = (int)SizeofResource((HMODULE)hLibrary, (HRSRC)hResource);
 HANDLE hResourceLoaded = LoadResource((HMODULE)hLibrary, (HRSRC)hResource);
 if (hResourceLoaded&#160;!= NULL)
 {
 QByteArray resourceData = QByteArray::fromRawData((char*)LockResource(hResourceLoaded), resourceSize);
 if(resourceData.size() &gt; 0)
 {
 QFile file(resourceTo);
 if(file.open(QIODevice::WriteOnly))
 {
 file.write(resourceData);
 file.close();
 }
 else
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to create resource file&quot;;
 return false;
 }
 }
 else
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to lock resource&quot;;
 return false;
 }
 }
 else
 {
 this-&gt;errorMessage = &quot;Unexpected error occured: failed to load resource&quot;;
 return false;
 }
 }
 return true;
 }
&#160;
bool ResourceManager::createResourceTableFromFile(const QString &amp;fileResources)
 {
 QSettings iniResources(fileResources, QSettings::IniFormat);
 QString dataResourceTableImport, dataResourceTableExport;
 for(int i = 1; iniResources.value(this-&gt;keyResourceTableFile+QString::number(i), &quot;&quot;).toString()&#160;!= &quot;&quot;; i++)
 {
 QString resourceInfo = iniResources.value(this-&gt;keyResourceTableFile+QString::number(i), &quot;&quot;).toString();
 if(!resourceInfo.contains(&quot;|&quot;))
 {
 this-&gt;errorMessage = &quot;Invalid resource table configuration (missing separator '</span><span class="sy0">|</span><span class="st0">')&quot;;
 return false;
 }
 resourceInfo.replace(&quot;&quot;, &quot;/&quot;);
 QString resourceFrom = resourceInfo.split(&quot;|&quot;).at(0),
 resourceTo = resourceInfo.split(&quot;|&quot;).at(1);
 if(resourceFrom.contains(QRegExp(&quot;[|'</span><span class="st0">''</span>?quot<span class="sy0">;&lt;&gt;</span> <span class="br0">&#93;</span><span class="st0">&quot;)) || resourceTo.contains(QRegExp(&quot;</span><span class="br0">&#91;</span><span class="sy0">|</span><span class="st0">''</span><span class="st0">'?quot;&lt;&gt; ]&quot;)))
 {
 this-&gt;errorMessage = &quot;Invalid resource table configuration (forbidden characters '</span><span class="sy0">|*</span>?quot<span class="sy0">;&lt;&gt;</span><span class="st0">')&quot;;
 return false;
 }
 if(resourceFrom.count(&quot;:&quot;) &gt; 1 || resourceTo.count(&quot;:&quot;) &gt; 1)
 {
 this-&gt;errorMessage = &quot;Invalid resource table configuration (forbidden multi occurrence of '</span><span class="sy0">:</span><span class="st0">', only allowed for drive specification)&quot;;
 return false;
 }
 if(!QFile::exists(resourceFrom))
 {
 this-&gt;errorMessage = &quot;A specified resource doesn'</span>t exist<span class="sy0">:</span> <span class="st0">'&quot;'</span><span class="st0">'resourceFrom'</span><span class="st0">'&quot;'</span><span class="st0">&quot;;
 return false;
 }
 dataResourceTableImport = (i  1)&#160;? resourceFrom+&quot;</span><span class="sy0">|</span><span class="st0">&quot;+resourceTo&#160;: dataResourceTableImport+&quot;</span>?<span class="st0">&quot;+resourceFrom+&quot;</span><span class="sy0">|</span><span class="st0">&quot;+resourceTo;
      dataResourceTableExport = (i  1)&#160;? QString::number(i)+&quot;</span><span class="sy0">|</span><span class="st0">&quot;''resourceTo&#160;: dataResourceTableExport''&quot;</span>?<span class="st0">&quot;''QString::number(i)''&quot;</span><span class="sy0">|</span><span class="st0">&quot;''resourceTo;
 }
 this-&gt;dataResourceTableImport = dataResourceTableImport.toStdString().c_str();
 this-&gt;dataResourceTableExport = dataResourceTableExport.toStdString().c_str();
 return true;
 }
&#160;
 bool ResourceManager::createResourceTableFromList(QStringList &amp;listResources)
 {
 if(listResources.count()  0)
      return false;
    QString dataResourceTableImport, dataResourceTableExport;
    for(int i = 0, ii = 1; i &lt; listResources.count(); i++, ii++)
    {
      QString resourceInfo = listResources.at(i);
      resourceInfo.replace(&quot;</span>\\<span class="st0">&quot;, &quot;</span><span class="sy0">/</span><span class="st0">&quot;);
      QString resourceFrom = resourceInfo.split(&quot;</span><span class="sy0">|</span><span class="st0">&quot;).at(0), resourceTo = resourceInfo.split(&quot;</span><span class="sy0">|</span><span class="st0">&quot;).at(1);
      if(!QFile::exists(resourceFrom))
      {
        this-&gt;errorMessage = &quot;</span>Non<span class="sy0">-</span>existing resources were found.<span class="st0">&quot;;
        return false;
      }
      if(resourceFrom.contains(QRegExp(&quot;</span><span class="br0">&#91;</span><span class="sy0">|*</span>?\<span class="st0">&quot;&lt;&gt; ]&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">||</span> resourceTo.<span class="me1">contains</span><span class="br0">&#40;</span><span class="kw5">QRegExp</span><span class="br0">&#40;</span><span class="st0">&quot;[|*?<span class="es1">\&quot;</span>&lt;&gt; ]&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
      <span class="br0">&#123;</span>
        this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Invalid resource table configuration (forbidden characters '|*?<span class="es1">\&quot;</span>&lt;&gt;')&quot;</span><span class="sy0">;</span>
        <span class="kw1">return</span> false<span class="sy0">;</span>
      <span class="br0">&#125;</span>
      <span class="kw1">if</span><span class="br0">&#40;</span>resourceFrom.<span class="me1">count</span><span class="br0">&#40;</span><span class="st0">&quot;:&quot;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="sy0">||</span> resourceTo.<span class="me1">count</span><span class="br0">&#40;</span><span class="st0">&quot;:&quot;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">&#41;</span>
      <span class="br0">&#123;</span>
        this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Invalid resource table configuration (forbidden multi occurrence of ':', only allowed for drive specification)&quot;</span><span class="sy0">;</span>
       <span class="kw1">return</span> false<span class="sy0">;</span>
      <span class="br0">&#125;</span>
      dataResourceTableImport <span class="sy0">=</span> <span class="br0">&#40;</span>ii  <span class="nu0">1</span><span class="br0">&#41;</span>&#160;? resourceFrom<span class="st0">''</span><span class="st0">&quot;|&quot;</span><span class="st0">''</span>resourceTo <span class="sy0">:</span> dataResourceTableImport<span class="st0">''</span><span class="st0">&quot;?&quot;</span><span class="st0">''</span>resourceFrom<span class="st0">''</span><span class="st0">&quot;|&quot;</span><span class="st0">''</span>resourceTo<span class="sy0">;</span>
 dataResourceTableExport <span class="sy0">=</span> <span class="br0">&#40;</span>ii <span class="sy0">==</span> <span class="nu0">1</span><span class="br0">&#41;</span>&#160;? <span class="kw5">QString</span><span class="sy0">::</span><span class="me2">number</span><span class="br0">&#40;</span>ii<span class="br0">&#41;</span><span class="st0">''</span><span class="st0">&quot;|&quot;</span><span class="st0">''</span>resourceTo <span class="sy0">:</span> dataResourceTableExport<span class="st0">''</span><span class="st0">&quot;?&quot;</span><span class="st0">''</span><span class="kw5">QString</span><span class="sy0">::</span><span class="me2">number</span><span class="br0">&#40;</span>ii<span class="br0">&#41;</span><span class="st0">''</span><span class="st0">&quot;|&quot;</span><span class="st0">''</span>resourceTo<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableImport</span> <span class="sy0">=</span> dataResourceTableImport.<span class="me1">toStdString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">dataResourceTableExport</span> <span class="sy0">=</span> dataResourceTableExport.<span class="me1">toStdString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— public functions ——</span>
&#160;
 <span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">setLibrary</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>library<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>library<span class="br0">&#41;</span> <span class="sy0">&amp;&amp;</span> library <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span> <span class="sy0">=</span> library<span class="sy0">;</span>
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">importResourcesFromFile</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileResourceTable<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;The specified library doesn't exist.&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>fileResourceTable<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;The specified resource table doesn't exist.&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>fileResourceTable.<span class="me1">contains</span><span class="br0">&#40;</span><span class="st0">&quot;.ini&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;The specified resource table is no valid file format ('.ini' expected).&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 this<span class="sy0">-&gt;</span><span class="me3">createResourceTableFromFile</span><span class="br0">&#40;</span>fileResourceTable<span class="br0">&#41;</span><span class="sy0">;</span>
 HANDLE hLibrary <span class="sy0">=</span> BeginUpdateResource<span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span>.<span class="me1">toStdWString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> FALSE<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>hLibrary <span class="sy0">==</span> <span class="kw2">NULL</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Unexpected error occured: failed to open library&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">importResourceTable</span><span class="br0">&#40;</span>hLibrary<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">importResources</span><span class="br0">&#40;</span>hLibrary<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 EndUpdateResource<span class="br0">&#40;</span>hLibrary<span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">importResourcesFromList</span><span class="br0">&#40;</span><span class="kw5">QStringList</span> <span class="sy0">&amp;</span>listResourceTable<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;The specified library doesn't exist.&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 this<span class="sy0">-&gt;</span><span class="me3">createResourceTableFromList</span><span class="br0">&#40;</span>listResourceTable<span class="br0">&#41;</span><span class="sy0">;</span>
 HANDLE hLibrary <span class="sy0">=</span> BeginUpdateResource<span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span>.<span class="me1">toStdWString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> FALSE<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>hLibrary <span class="sy0">==</span> <span class="kw2">NULL</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Unexpected error occured: failed to open library&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">importResourceTable</span><span class="br0">&#40;</span>hLibrary<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">importResources</span><span class="br0">&#40;</span>hLibrary<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 EndUpdateResource<span class="br0">&#40;</span>hLibrary<span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">bool</span> ResourceManager<span class="sy0">::</span><span class="me2">exportResources</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;The specified library doesn't exist.&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 HANDLE hLibrary <span class="sy0">=</span> LoadLibrary<span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileLibrary</span>.<span class="me1">toStdWString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">c_str</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>hLibrary <span class="sy0">==</span> <span class="kw2">NULL</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span> <span class="sy0">=</span> <span class="st0">&quot;Unexpected error occured: failed to open library&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">exportResourceTable</span><span class="br0">&#40;</span>hLibrary<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">exportResources</span><span class="br0">&#40;</span>hLibrary<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> false<span class="sy0">;</span>
 FreeLibrary<span class="br0">&#40;</span><span class="br0">&#40;</span>HMODULE<span class="br0">&#41;</span>hLibrary<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">return</span> true<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> ResourceManager<span class="sy0">::</span><span class="me2">displayError</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">type</span> <span class="sy0">==</span> ResourceManager<span class="sy0">::</span><span class="me2">IMPORT</span><span class="br0">&#41;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="st0">&quot;Import failed&quot;</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">else</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="st0">&quot;Export failed&quot;</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">errorMessage</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span></pre></div></div>
<h3><span class="mw-headline" id="mainwindow.h">mainwindow.h</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// ResourceManager - mainwindow.h</span>
&#160;
<span class="co2">#ifndef ''HEADER_RESOURCEMANAGER_MAINWINDOW''</span>
<span class="co2">#define ''HEADER_RESOURCEMANAGER_MAINWINDOW''</span>
&#160;
<span class="co1">// —— header includes ——</span>
&#160;
<span class="co2">#include &lt;QDebug&gt;</span>
<span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QObject&gt;</span>
<span class="co2">#include &lt;QDesktopWidget&gt;</span>
<span class="co2">#include &lt;QWidget&gt;</span>
<span class="co2">#include &lt;QMessageBox&gt;</span>
<span class="co2">#include &lt;QHBoxLayout&gt;</span>
<span class="co2">#include &lt;QVBoxLayout&gt;</span>
<span class="co2">#include &lt;QGridLayout&gt;</span>
<span class="co2">#include &lt;QFileSystemModel&gt;</span>
<span class="co2">#include &lt;QFileIconProvider&gt;</span>
<span class="co2">#include &lt;QTreeView&gt;</span>
<span class="co2">#include &lt;QListWidget&gt;</span>
<span class="co2">#include &lt;QTableWidget&gt;</span>
<span class="co2">#include &lt;QHeaderView&gt;</span>
<span class="co2">#include &lt;QLabel&gt;</span>
<span class="co2">#include &lt;QLineEdit&gt;</span>
<span class="co2">#include &lt;QPushButton&gt;</span>
<span class="co2">#include &quot;myQDialogGetFile.h&quot;</span>
<span class="co2">#include &quot;myQDialogGetNewFile.h&quot;</span>
<span class="co2">#include &quot;resourcemanager.h&quot;</span>
&#160;
&#160;
<span class="co1">// —— class forward declaration ——</span>
&#160;
<span class="kw2">class</span> window_main<span class="sy0">;</span>
&#160;
&#160;
<span class="co1">// —— class declaration ——</span>
&#160;
<span class="kw2">class</span> window_main <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QWidget</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 myQDialogGetFile <span class="sy0">*</span>winGetLibrary<span class="sy0">,</span> <span class="sy0">*</span>winGetResourceTable<span class="sy0">;</span>
 myQDialogGetNewFile <span class="sy0">*</span>winGetNewResourceTable<span class="sy0">;</span>
 <span class="kw5">QString</span> workingDirectory<span class="sy0">,</span> nameResourceTableFileStd<span class="sy0">;</span>
 <span class="kw5">QHBoxLayout</span> <span class="sy0">*</span>layoutMain<span class="sy0">,</span> <span class="sy0">*</span>layoutRightTwoLibrary<span class="sy0">,</span> <span class="sy0">*</span>layoutRightTwoResources<span class="sy0">;</span>
 <span class="kw5">QVBoxLayout</span> <span class="sy0">*</span>layoutLeft<span class="sy0">,</span> <span class="sy0">*</span>layoutMiddle<span class="sy0">,</span> <span class="sy0">*</span>layoutRightOne<span class="sy0">,</span> <span class="sy0">*</span>layoutRightTwo<span class="sy0">;</span>
 <span class="kw5">QGridLayout</span> <span class="sy0">*</span>layoutRight<span class="sy0">;</span>
 <span class="kw5">QFileSystemModel</span> <span class="sy0">*</span>filesystemmodel<span class="sy0">;</span>
 <span class="kw5">QTreeView</span> <span class="sy0">*</span>treeview<span class="sy0">;</span>
 <span class="kw5">QListWidget</span> <span class="sy0">*</span>listDirectories<span class="sy0">;</span>
 <span class="kw5">QTableWidget</span> <span class="sy0">*</span>tableResources<span class="sy0">;</span>
 <span class="kw5">QLabel</span> <span class="sy0">*</span>labelTreeview<span class="sy0">,</span> <span class="sy0">*</span>labelListWidget<span class="sy0">,</span> <span class="sy0">*</span>labelTableWidget<span class="sy0">,</span> <span class="sy0">*</span>labelLibrary<span class="sy0">;</span>
 <span class="kw5">QLineEdit</span> <span class="sy0">*</span>editLibrary<span class="sy0">;</span>
 <span class="kw5">QPushButton</span> <span class="sy0">*</span>addResources<span class="sy0">,</span> <span class="sy0">*</span>removeResources<span class="sy0">,</span> <span class="sy0">*</span>clearResources<span class="sy0">,</span>
 <span class="sy0">*</span>getResources<span class="sy0">,</span> <span class="sy0">*</span>saveResources<span class="sy0">,</span>
 <span class="sy0">*</span>getLibrary<span class="sy0">,</span> <span class="sy0">*</span>clearLibrary<span class="sy0">,</span>
 <span class="sy0">*</span>importAll<span class="sy0">,</span> <span class="sy0">*</span>exportAll<span class="sy0">;</span>
 <span class="kw5">QDir</span> directory<span class="sy0">;</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 <span class="kw2">enum</span> enumWidgets <span class="br0">&#123;</span>TABLE_RESOURCES<span class="sy0">,</span> EDIT_LIBRARY<span class="br0">&#125;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 window_main<span class="br0">&#40;</span><span class="kw5">QString</span><span class="sy0">,</span> <span class="kw5">QWidget</span> <span class="st0">''</span><span class="st0">'parent = 0);
 void showEvent(QShowEvent'</span><span class="st0">''</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw4">void</span> updateButtonState<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> highlightErrors<span class="br0">&#40;</span>enumWidgets<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QString</span> adaptStringWidth<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;,</span> <span class="kw4">int</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">public</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> treeviewClicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> listwidgetItemDoubleClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="st0">''</span><span class="st0">');
 void tableResourcesRowsChanged(QModelIndex, int, int);
 void editLibraryTextChanged(const QString &amp;);
 void buttonAddResources();
 void buttonRemoveResources();
 void buttonClearResources();
 void buttonGetResources();
 void buttonSaveResources();
 void buttonGetLibrary();
 void buttonClearLibrary();
 void buttonImportAll();
 void buttonExportAll();
};
&#160;
#endif</span></pre></div></div>
<h3><span class="mw-headline" id="mainwindow.cpp">mainwindow.cpp</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// ResourceManager - mainwindow.cpp</span>
&#160;
 <span class="co1">// —— header includes ——</span>
&#160;
 <span class="co2">#include &quot;mainwindow.h&quot;</span>
&#160;
&#160;
 <span class="co1">// —————————————————————————————————-</span>
 <span class="co1">// —— main ——</span>
&#160;
 <span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc<span class="sy0">,</span> <span class="kw4">char</span><span class="st0">''</span><span class="st0">'* args)
 {
 QApplication app(argc, args);
 QString filePath = args[0];
&#160;
 window_main winMain(filePath);
&#160;
 return app.exec();
 }
&#160;
&#160;
 // —————————————————————————————————-
 // —— window_main ——
 // —————————————————
 // —— constructors ——
&#160;
 window_main::window_main(QString filePath, QWidget *parent)&#160;: QWidget(parent)
 {
 QStringList workingDirs = QString(filePath).split(&quot;&quot;);
 workingDirs.removeLast();
 for(int i = 0; i &lt; workingDirs.count(); i)
 this-&gt;workingDirectory'</span><span class="st0">'= (i == 0)&#160;? workingDirs.at(i)&#160;: &quot;&quot;'</span><span class="st0">'workingDirs.at(i);
&#160;
 this-&gt;nameResourceTableFileStd = &quot;ResourceTable.ini&quot;;
&#160;
 this-&gt;layoutMain = new QHBoxLayout;
 this-&gt;directory = QDir(QDir::currentPath());
 this-&gt;filesystemmodel = new QFileSystemModel;
 this-&gt;filesystemmodel-&gt;setRootPath(QDir::currentPath());
 this-&gt;filesystemmodel-&gt;setFilter(QDir::Drives|QDir::AllDirs|QDir::Dirs|QDir::NoDotAndDotDot);
&#160;
 this-&gt;layoutLeft = new QVBoxLayout;
 this-&gt;labelTreeview = new QLabel(&quot;Computer:&quot;);
 this-&gt;layoutLeft-&gt;addWidget(this-&gt;labelTreeview);
 this-&gt;treeview = new QTreeView;
 this-&gt;layoutLeft-&gt;addWidget(this-&gt;treeview);
 this-&gt;treeview-&gt;setModel(this-&gt;filesystemmodel);
 this-&gt;treeview-&gt;setFixedWidth(270);
 this-&gt;treeview-&gt;setHeaderHidden(true);
 for(int i = 1; i &lt; this-&gt;filesystemmodel-&gt;columnCount(); i)
 this-&gt;treeview-&gt;hideColumn(i);
 this-&gt;treeview-&gt;resizeColumnToContents(0);
 this-&gt;treeview-&gt;header()-&gt;setStretchLastSection(false);
 this-&gt;treeview-&gt;setIndentation(20);
 this-&gt;treeview-&gt;setSortingEnabled(true);
 this-&gt;treeview-&gt;setAnimated(false);
 this-&gt;treeview-&gt;setCurrentIndex(this-&gt;filesystemmodel-&gt;index(QApplication::applicationDirPath()));
 connect(this-&gt;treeview, SIGNAL (clicked(const QModelIndex &amp;)), this, SLOT (treeviewClicked(const QModelIndex &amp;)));
 connect(this-&gt;treeview, SIGNAL (expanded(const QModelIndex &amp;)), this, SLOT (treeviewClicked(const QModelIndex &amp;)));
 this-&gt;layoutMain-&gt;addLayout(this-&gt;layoutLeft);
&#160;
 this-&gt;layoutMiddle = new QVBoxLayout;
 this-&gt;labelListWidget = new QLabel;
 this-&gt;layoutMiddle-&gt;addWidget(this-&gt;labelListWidget);
 this-&gt;listDirectories = new QListWidget;
 this-&gt;layoutMiddle-&gt;addWidget(listDirectories);
 this-&gt;listDirectories-&gt;setFixedWidth(300);
 this-&gt;listDirectories-&gt;setSelectionMode(QAbstractItemView::ExtendedSelection);
 connect(this-&gt;listDirectories, SIGNAL (itemDoubleClicked(QListWidgetItem *)), this, SLOT (listwidgetItemDoubleClicked(QListWidgetItem *)));
 this-&gt;labelListWidget-&gt;setText(this-&gt;adaptStringWidth(this-&gt;filesystemmodel-&gt;filePath(this-&gt;treeview-&gt;currentIndex()), this-&gt;listDirectories-&gt;width()-10));
 this-&gt;layoutMain-&gt;addLayout(this-&gt;layoutMiddle);
&#160;
 this-&gt;layoutRight = new QGridLayout;
&#160;
 this-&gt;layoutRightOne = new QVBoxLayout;
 this-&gt;addResources = new QPushButton(&quot;Add &gt;&gt;&quot;);
 this-&gt;layoutRightOne-&gt;addWidget(this-&gt;addResources);
 connect(this-&gt;addResources, SIGNAL (clicked()), this, SLOT (buttonAddResources()));
 this-&gt;removeResources = new QPushButton(&quot;&lt;&lt; Remove&quot;);
 this-&gt;layoutRightOne-&gt;addWidget(this-&gt;removeResources);
 connect(this-&gt;removeResources, SIGNAL (clicked()), this, SLOT (buttonRemoveResources()));
&#160;
 this-&gt;layoutRight-&gt;addLayout(this-&gt;layoutRightOne, 1, 0);
 this-&gt;labelTableWidget = new QLabel(&quot;Manual selection:&quot;);
 this-&gt;layoutRight-&gt;addWidget(this-&gt;labelTableWidget, 0, 1);
 this-&gt;tableResources = new QTableWidget;
 this-&gt;layoutRight-&gt;addWidget(this-&gt;tableResources, 1, 1);
 this-&gt;tableResources-&gt;setMinimumSize(350, 250);
 this-&gt;tableResources-&gt;setSelectionMode(QAbstractItemView::ExtendedSelection);
 this-&gt;tableResources-&gt;setRowCount(0);
 this-&gt;tableResources-&gt;setColumnCount(2);
 this-&gt;tableResources-&gt;verticalHeader()-&gt;hide();
 QStringList tableResourcesHeaderH;
 tableResourcesHeaderH &lt;&lt; &quot;Import path&quot; &lt;&lt; &quot;Export path&quot;;
 this-&gt;tableResources-&gt;setHorizontalHeaderLabels(tableResourcesHeaderH);
 this-&gt;tableResources-&gt;horizontalHeader()-&gt;setSectionResizeMode(QHeaderView::Stretch);
 for(int i = 0; i &lt; this-&gt;tableResources-&gt;rowCount(); i'</span><span class="st0">'+)
 this-&gt;tableResources-&gt;setRowHeight(i, 17);
 QAbstractItemModel *tableResourcesModel = this-&gt;tableResources-&gt;model();
 connect(tableResourcesModel, SIGNAL (rowsInserted(QModelIndex,int,int)), this, SLOT (tableResourcesRowsChanged(QModelIndex, int, int)));
 connect(tableResourcesModel, SIGNAL (rowsRemoved(QModelIndex,int,int)), this, SLOT (tableResourcesRowsChanged(QModelIndex, int, int)));
&#160;
this-&gt;layoutRightTwo = new QVBoxLayout;
 this-&gt;layoutRightTwoResources = new QHBoxLayout;
 this-&gt;clearResources = new QPushButton(&quot;reset&quot;);
 this-&gt;layoutRightTwoResources-&gt;addWidget(this-&gt;clearResources);
 connect(this-&gt;clearResources, SIGNAL (clicked()), this, SLOT (buttonClearResources()));
 this-&gt;getResources = new QPushButton(&quot;load resources&quot;);
 this-&gt;layoutRightTwoResources-&gt;addWidget(this-&gt;getResources);
 connect(this-&gt;getResources, SIGNAL (clicked()), this, SLOT (buttonGetResources()));
 this-&gt;saveResources = new QPushButton(&quot;save resources&quot;);
 this-&gt;layoutRightTwoResources-&gt;addWidget(this-&gt;saveResources);
 connect(this-&gt;saveResources, SIGNAL (clicked()), this, SLOT (buttonSaveResources()));
 this-&gt;layoutRightTwo-&gt;addLayout(this-&gt;layoutRightTwoResources);
&#160;
this-&gt;labelLibrary = new QLabel(&quot;Library:&quot;);
 this-&gt;layoutRightTwo-&gt;addWidget(this-&gt;labelLibrary);
 this-&gt;layoutRightTwoLibrary = new QHBoxLayout;
 this-&gt;editLibrary = new QLineEdit;
 this-&gt;layoutRightTwoLibrary-&gt;addWidget(this-&gt;editLibrary);
 this-&gt;editLibrary-&gt;setReadOnly(true);
 connect(this-&gt;editLibrary, SIGNAL (textChanged(const QString &amp;)), this, SLOT (editLibraryTextChanged(const QString &amp;)));
 this-&gt;getLibrary = new QPushButton(&quot;search&quot;);
 this-&gt;layoutRightTwoLibrary-&gt;addWidget(this-&gt;getLibrary);
 connect(this-&gt;getLibrary, SIGNAL (clicked()), this, SLOT (buttonGetLibrary()));
 this-&gt;clearLibrary = new QPushButton(&quot;reset&quot;);
 this-&gt;layoutRightTwoLibrary-&gt;addWidget(this-&gt;clearLibrary);
 connect(this-&gt;clearLibrary, SIGNAL (clicked()), this, SLOT (buttonClearLibrary()));
 this-&gt;layoutRightTwo-&gt;addLayout(this-&gt;layoutRightTwoLibrary);
&#160;
this-&gt;importAll = new QPushButton(&quot;import to library&quot;);
 this-&gt;layoutRightTwo-&gt;addWidget(this-&gt;importAll);
 connect(this-&gt;importAll, SIGNAL (clicked()), this, SLOT (buttonImportAll()));
 this-&gt;exportAll = new QPushButton(&quot;export from library&quot;);
 this-&gt;layoutRightTwo-&gt;addWidget(this-&gt;exportAll);
 connect(this-&gt;exportAll, SIGNAL (clicked()), this, SLOT (buttonExportAll()));
 this-&gt;updateButtonState();
&#160;
this-&gt;layoutRight-&gt;addLayout(this-&gt;layoutRightTwo, 2, 1);
 this-&gt;layoutMain-&gt;addLayout(this-&gt;layoutRight);
&#160;
this-&gt;winGetResourceTable = new myQDialogGetFile(this, &quot;Choose ResourceTable file:&quot;, &quot;choose&quot;);
 QStringList suffixFilterResourceTable;
 suffixFilterResourceTable &lt;&lt; &quot;ini&quot;;
 this-&gt;winGetResourceTable-&gt;setSuffixFilter(suffixFilterResourceTable);
 this-&gt;winGetNewResourceTable = new myQDialogGetNewFile(&quot;ini&quot;, this, &quot;ResourceManager&quot;, &quot;Choose file destination:&quot;, &quot;save&quot;);
 this-&gt;winGetLibrary = new myQDialogGetFile(this, &quot;Select library:&quot;);
&#160;
this-&gt;setLayout(layoutMain);
 this-&gt;setWindowTitle(&quot;ResourceManager&quot;);
 this-&gt;show();
 this-&gt;move(QApplication::desktop()-&gt;screen()-&gt;rect().center() - this-&gt;rect().center());
 }
&#160;
// —————————————————
 // —— public events ——
&#160;
void window_main::showEvent(QShowEvent '</span><span class="st0">''</span>event<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QWidget</span><span class="sy0">::</span><span class="me2">showEvent</span><span class="br0">&#40;</span>event<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeviewClicked</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">currentIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— public slots ——</span>
&#160;
 <span class="kw4">void</span> window_main<span class="sy0">::</span><span class="me2">treeviewClicked</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span>currentIndex<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>currentIndex.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 return<span class="sy0">;</span>
 <span class="kw5">QString</span> dirPath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>currentIndex<span class="br0">&#41;</span><span class="sy0">;</span>
 dirPath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelListWidget</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>dirPath<span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">directory</span> <span class="sy0">=</span> <span class="kw5">QDir</span><span class="br0">&#40;</span>dirPath<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QStringList</span> dirContents <span class="sy0">=</span> directory.<span class="me1">entryList</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">Files</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">NoDotAndDotDot</span><span class="sy0">,</span> <span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">DirsFirst</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> dirContents.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="sy0">+</span><span class="st0">''</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QFileInfo</span> fileInfo<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>dirPath.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>
 fileInfo.<span class="me1">setFile</span><span class="br0">&#40;</span>dirPath<span class="sy0">+</span>dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">else</span>
 fileInfo.<span class="me1">setFile</span><span class="br0">&#40;</span>dirPath<span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QFileIconProvider</span> iconProvider<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">addItem</span><span class="br0">&#40;</span><span class="kw1">new</span> <span class="kw5">QListWidgetItem</span><span class="br0">&#40;</span>iconProvider.<span class="me1">icon</span><span class="br0">&#40;</span>fileInfo<span class="br0">&#41;</span><span class="sy0">,</span> dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">item</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">setFlags</span><span class="br0">&#40;</span><span class="kw5">Qt</span><span class="sy0">::</span><span class="me2">ItemIsSelectable</span><span class="sy0">|</span>Qt<span class="sy0">::</span><span class="me2">ItemIsUserCheckable</span><span class="sy0">|</span>Qt<span class="sy0">::</span><span class="me2">ItemIsEnabled</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> window_main<span class="sy0">::</span><span class="me2">listwidgetItemDoubleClicked</span><span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="st0">''</span><span class="st0">'item)
 {
 this-&gt;buttonAddResources();
 }
&#160;
 void window_main::tableResourcesRowsChanged(QModelIndex, int, int)
 {
 this-&gt;updateButtonState();
 }
&#160;
 void window_main::editLibraryTextChanged(const QString &amp;pathLibrary)
 {
 this-&gt;updateButtonState();
 this-&gt;highlightErrors(window_main::EDIT_LIBRARY);
 if(!QFile::exists(pathLibrary) &amp;&amp; pathLibrary&#160;!= &quot;&quot;)
 QMessageBox::information(this, &quot;Warning&quot;, &quot;The selected file does not exist!&quot;);
 }
&#160;
 void window_main::buttonAddResources()
 {
 QList&lt;QListWidgetItem'</span><span class="st0">''</span><span class="sy0">&gt;</span> selectedItems <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">listDirectories</span><span class="sy0">-&gt;</span><span class="me3">selectedItems</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>selectedItems.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span>  <span class="nu0">0</span><span class="br0">&#41;</span>
      return<span class="sy0">;</span>
    <span class="kw4">int</span> rowCountOld <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">tableResources</span><span class="sy0">-&gt;</span><span class="me3">rowCount</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">foreach</span><span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="sy0">*</span>item<span class="sy0">,</span> selectedItems<span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
      <span class="kw5">QString</span> dirPath <span class="sy0">=</span> <span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">directory</span>.<span class="me1">absolutePath</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span>  <span class="st0">&quot;&quot;</span> <span class="sy0">||</span> this<span class="sy0">-&gt;</span><span class="me3">directory</span>.<span class="me1">absolutePath</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>&#160;? this<span class="sy0">-&gt;</span><span class="me3">directory</span>.<span class="me1">absolutePath</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">:</span> this<span class="sy0">-&gt;</span><span class="me3">directory</span>.<span class="me1">absolutePath</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="sy0">;</span>
 <span class="kw5">QList</span><span class="sy0">&lt;</span><span class="kw5">QTableWidgetItem</span><span class="st0">''</span><span class="st0">'&gt; itemMatches = this-&gt;tableResources-&gt;findItems(dirPath+item-&gt;text(), Qt::MatchExactly);
 if(itemMatches.count() &gt; 0)
 continue;
 this-&gt;tableResources-&gt;setRowCount(this-&gt;tableResources-&gt;rowCount()+1);
 this-&gt;tableResources-&gt;setRowHeight(this-&gt;tableResources-&gt;rowCount()-1, 17);
 this-&gt;tableResources-&gt;setItem(this-&gt;tableResources-&gt;rowCount()-1, 0, new QTableWidgetItem);
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setFlags(Qt::ItemIsSelectable|Qt::ItemIsEnabled);
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setIcon(item-&gt;icon());
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setText(dirPath+item-&gt;text());
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setToolTip(dirPath+item-&gt;text());
 this-&gt;tableResources-&gt;setItem(this-&gt;tableResources-&gt;rowCount()-1, 1, new QTableWidgetItem);
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setFlags(Qt::ItemIsSelectable|Qt::ItemIsEditable|Qt::ItemIsEnabled);
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setIcon(item-&gt;icon());
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setText(&quot;exportPath/&quot;+item-&gt;text());
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setToolTip(&quot;Click to edit export path…&quot;);
 }
 if(this-&gt;tableResources-&gt;rowCount()&#160;!= rowCountOld)
 this-&gt;labelTableWidget-&gt;setText(&quot;Manual selection:&quot;);
 this-&gt;highlightErrors(window_main::TABLE_RESOURCES);
 }
&#160;
void window_main::buttonRemoveResources()
 {
 QList&lt;QTableWidgetItem*&gt; selectedTableItems = this-&gt;tableResources-&gt;selectedItems();
 if(selectedTableItems.count() == 0)
 return;
 int rowCountOld = this-&gt;tableResources-&gt;rowCount();
 foreach(QTableWidgetItem* item, selectedTableItems)
 this-&gt;tableResources-&gt;removeRow(item-&gt;row());
 if(this-&gt;tableResources-&gt;rowCount()&#160;!= rowCountOld)
 this-&gt;labelTableWidget-&gt;setText(&quot;Manual selection:&quot;);
 this-&gt;highlightErrors(window_main::TABLE_RESOURCES);
 }
&#160;
void window_main::buttonClearResources()
 {
 while(this-&gt;tableResources-&gt;rowCount() &gt; 0)
 this-&gt;tableResources-&gt;removeRow(0);
 this-&gt;labelTableWidget-&gt;setText(&quot;Manual selection:&quot;);
 }
&#160;
void window_main::buttonGetResources()
 {
 this-&gt;winGetResourceTable-&gt;exec();
 if(!this-&gt;winGetResourceTable-&gt;isExecuted())
 return;
 QString winData = this-&gt;winGetResourceTable-&gt;getData();
&#160;
if(QFileInfo(winData).suffix()&#160;!= &quot;ini&quot;)
 {
 QMessageBox::information(this, &quot;Error&quot;, &quot;The chosen file is no valid ResourceTable file format.file format: '</span>.<span class="me1">ini</span><span class="st0">'&quot;);
 return;
 }
 this-&gt;buttonClearResources();
&#160;
this-&gt;labelTableWidget-&gt;setText(this-&gt;adaptStringWidth(winData, this-&gt;tableResources-&gt;width()-10));
&#160;
 QSettings iniFile(winData, QSettings::IniFormat);
 for(int i = 0; iniFile.value(&quot;Resources/res_&quot;'</span><span class="st0">'QString::number(i+1), &quot;&quot;).toString()&#160;!= &quot;&quot;; i'</span><span class="st0">'+)
 {
 QStringList resourceInfo = iniFile.value(&quot;Resources/res_&quot;+QString::number(i+1), &quot;&quot;).toString().split(&quot;|&quot;);
 QFileInfo fileInfo;
 QFileIconProvider iconProvider;
 if(QFile::exists(resourceInfo.at(0)))
 fileInfo.setFile(resourceInfo.at(0));
&#160;
 this-&gt;tableResources-&gt;setRowCount(this-&gt;tableResources-&gt;rowCount()'</span><span class="st0">'1);
 this-&gt;tableResources-&gt;setRowHeight(this-&gt;tableResources-&gt;rowCount()-1, 17);
 this-&gt;tableResources-&gt;setItem(this-&gt;tableResources-&gt;rowCount()-1, 0, new QTableWidgetItem);
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setFlags(Qt::ItemIsSelectable|Qt::ItemIsEnabled);
 if(QFile::exists(resourceInfo.at(0)))
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setIcon(iconProvider.icon(fileInfo));
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 0)-&gt;setText(resourceInfo.at(0));
 this-&gt;tableResources-&gt;setItem(this-&gt;tableResources-&gt;rowCount()-1, 1, new QTableWidgetItem);
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setFlags(Qt::ItemIsSelectable|Qt::ItemIsEditable|Qt::ItemIsEnabled);
 if(QFile::exists(resourceInfo.at(0)))
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setIcon(iconProvider.icon(fileInfo));
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setText(resourceInfo.at(1));
 this-&gt;tableResources-&gt;item(this-&gt;tableResources-&gt;rowCount()-1, 1)-&gt;setToolTip(&quot;Click to edit export path…&quot;);
 }
 this-&gt;highlightErrors(window_main::TABLE_RESOURCES);
 }
&#160;
 void window_main::buttonSaveResources()
 {
 if(this-&gt;tableResources-&gt;rowCount() == 0)
 return;
 this-&gt;highlightErrors(window_main::TABLE_RESOURCES);
 this-&gt;winGetNewResourceTable-&gt;exec();
 if(!this-&gt;winGetNewResourceTable-&gt;isExecuted())
 return;
 QString winData = this-&gt;winGetNewResourceTable-&gt;getData();
&#160;
 QSettings iniFile(winData, QSettings::IniFormat);
 QStringList resourceEntries;
 bool success = true;
 for(int i = 0; i &lt; this-&gt;tableResources-&gt;rowCount(); i'</span><span class="st0">'+)
 {
 if(!QFile::exists(this-&gt;tableResources-&gt;item(i, 0)-&gt;text()))
 {
 success = false;
 break;
 }
 QString resourceEntry = this-&gt;tableResources-&gt;item(i, 0)-&gt;text()+&quot;|&quot;'</span><span class="st0">'this-&gt;tableResources-&gt;item(i, 1)-&gt;text();
 resourceEntry.replace(&quot;&quot;, &quot;/&quot;);
 if(resourceEntry.split(&quot;|&quot;).at(1).contains(QRegExp(&quot;[|'</span><span class="st0">''</span>?quot<span class="sy0">;&lt;&gt;</span> <span class="br0">&#93;</span><span class="st0">&quot;)))
 {
 int ret = QMessageBox::information(this, &quot;</span>ResourceManager<span class="st0">&quot;, &quot;</span>Error occurred in resource<span class="sy0">:</span> <span class="st0">'&quot;'</span><span class="st0">'resourceEntry.split(&quot;|&quot;).at(1)'</span><span class="st0">'&quot;'</span>contains illegal characters<span class="sy0">:</span> <span class="st0">'|'</span><span class="st0">''</span>?quot<span class="sy0">;&lt;&gt;</span> <span class="st0">'them may result in errors.resource?&quot;, QMessageBox::Yes | QMessageBox::No, QMessageBox::No);
 if(ret == QMessageBox::No)
 continue;
 }
 resourceEntries &lt;&lt; resourceEntry;
 iniFile.setValue(&quot;Resources/res_&quot;'</span><span class="st0">'QString::number(i+1), resourceEntry);
 }
 if(!success)
 {
 QFile::remove(winData);
 QMessageBox::information(this, &quot;ResourceManager&quot;, &quot;Some resources have not been added to the resource file…&quot;);
 }
 else
 QMessageBox::information(this, &quot;ResourceManager&quot;, &quot;ResourceTable file successfully created!&quot;);
 }
&#160;
 void window_main::buttonGetLibrary()
 {
 this-&gt;winGetLibrary-&gt;exec();
 if(this-&gt;winGetLibrary-&gt;getData().count() &gt; 0)
 this-&gt;editLibrary-&gt;setText(this-&gt;winGetLibrary-&gt;getData());
 }
&#160;
 void window_main::buttonClearLibrary()
 {
 this-&gt;editLibrary-&gt;setText(&quot;&quot;);
 }
&#160;
 void window_main::buttonImportAll()
 {
 this-&gt;highlightErrors(window_main::TABLE_RESOURCES);
 this-&gt;highlightErrors(window_main::EDIT_LIBRARY);
&#160;
 if(this-&gt;tableResources-&gt;rowCount()  0)
      return;
    QStringList listResources;
    for(int i = 0; i &lt; this-&gt;tableResources-&gt;rowCount(); i++)
    {
      QTableWidgetItem *itemFrom = this-&gt;tableResources-&gt;item(i, 0),
                       *itemTo = this-&gt;tableResources-&gt;item(i, 1);
      if(!QFile::exists(itemFrom-&gt;text()))
      {
        QMessageBox::information(this, &quot;Warning&quot;, &quot;Some resources don'</span>t exist or have been deleted<span class="sy0">!</span><span class="st0">&quot;);
        return;
      }
        listResources &lt;&lt; itemFrom-&gt;text()+&quot;</span><span class="sy0">|</span><span class="st0">&quot;+itemTo-&gt;text();
    }
    if(this-&gt;editLibrary-&gt;text().count()  0)
 {
 QMessageBox::information(this, &quot;</span>Warning<span class="st0">&quot;, &quot;</span>No library selected<span class="sy0">!</span><span class="st0">&quot;);
 return;
 }
 else if(!QFile::exists(this-&gt;editLibrary-&gt;text()))
 {
 QMessageBox::information(this, &quot;</span>Warning<span class="st0">&quot;, &quot;</span>The selected library does not exist<span class="sy0">!</span><span class="st0">&quot;);
 return;
 }
 ResourceManager resManager(this-&gt;editLibrary-&gt;text());
 if(!resManager.importResourcesFromList(listResources))
 resManager.displayError();
 else
 QMessageBox::information(this, &quot;</span>ResourceManager<span class="st0">&quot;, &quot;</span>Import successful<span class="sy0">!</span><span class="st0">&quot;);
 }
&#160;
 void window_main::buttonExportAll()
 {
 this-&gt;highlightErrors(window_main::EDIT_LIBRARY);
 if(this-&gt;editLibrary-&gt;text().count() == 0)
 {
 QMessageBox::information(this, &quot;</span>Warning<span class="st0">&quot;, &quot;</span>No library selected<span class="sy0">!</span><span class="st0">&quot;);
 return;
 }
 else if(!QFile::exists(this-&gt;editLibrary-&gt;text()))
 {
 QMessageBox::information(this, &quot;</span>Warning<span class="st0">&quot;, &quot;</span>The selected library does not exist<span class="sy0">!</span><span class="st0">&quot;);
 return;
 }
 ResourceManager resManager(this-&gt;editLibrary-&gt;text(), ResourceManager::EXPORT);
 if(!resManager.exportResources())
 resManager.displayError();
 else
 QMessageBox::information(this, &quot;</span>ResourceManager<span class="st0">&quot;, &quot;</span>Export successful<span class="sy0">!</span><span class="st0">&quot;);
 }
&#160;
&#160;
 // —————————————————
 // —— private functions ——
&#160;
 void window_main::updateButtonState()
 {
 if(this-&gt;editLibrary-&gt;text().count()  0 ||&#160;!QFile::exists(this-&gt;editLibrary-&gt;text()))
    {
      this-&gt;clearLibrary-&gt;setDisabled(true);
      this-&gt;importAll-&gt;setDisabled(true);
      this-&gt;exportAll-&gt;setDisabled(true);
    }
    else
    {
      this-&gt;clearLibrary-&gt;setEnabled(true);
      if(this-&gt;tableResources-&gt;rowCount() &gt; 0)
        this-&gt;importAll-&gt;setEnabled(true);
      this-&gt;exportAll-&gt;setEnabled(true);
    }
    if(this-&gt;tableResources-&gt;rowCount()  0)
 {
 this-&gt;clearResources-&gt;setDisabled(true);
 this-&gt;saveResources-&gt;setDisabled(true);
 }
 else
 {
 this-&gt;clearResources-&gt;setEnabled(true);
 this-&gt;saveResources-&gt;setEnabled(true);
 }
 }
&#160;
 void window_main::highlightErrors(enumWidgets widget)
 {
 if(widget  window_main::TABLE_RESOURCES)
    {
      for(int i = 0; i &lt; this-&gt;tableResources-&gt;rowCount(); i++)
      {
        QTableWidgetItem *itemFrom = this-&gt;tableResources-&gt;item(i, 0),
                         *itemTo = this-&gt;tableResources-&gt;item(i, 1);
        if(!QFile::exists(itemFrom-&gt;text()))
        {
          itemFrom-&gt;setBackgroundColor(QColor(255,228,225));
          itemTo-&gt;setBackgroundColor(QColor(255,228,225));
        }
        else
        {
          itemFrom-&gt;setBackgroundColor(QColor(255,255,255));
          itemTo-&gt;setBackgroundColor(QColor(255,255,255));
        }
      }
    }
    else if(widget  window_main::EDIT_LIBRARY)
 {
 QPalette palette;
 if(!QFile::exists(this-&gt;editLibrary-&gt;text()) &amp;&amp; this-&gt;editLibrary-&gt;text().count() &gt; 0)
 palette.setColor(this-&gt;editLibrary-&gt;backgroundRole(), QColor(255,228,225));
 else
 palette.setColor(this-&gt;editLibrary-&gt;backgroundRole(), QColor(255,255,255));
 this-&gt;editLibrary-&gt;setPalette(palette);
 }
 }
&#160;
 QString window_main::adaptStringWidth(const QString &amp;stringOld, int width)
 {
 if(QLabel(stringOld).fontMetrics().boundingRect(stringOld).width() &lt;= width)
 return stringOld;
 QString stringNew = &quot;</span><span class="st0">&quot;;
 for(int i = 0; i &lt; stringOld.count(); i)
 {
 stringNew''= stringOld.at(i);
 if(QLabel(stringNew).fontMetrics().boundingRect(stringNew).width()''QLabel(&quot;</span>…<span class="st0">&quot;).fontMetrics().boundingRect(&quot;</span>…<span class="st0">&quot;).width() &gt;= width)
 break;
 }
 return stringNew''&quot;</span>…<span class="st0">&quot;;
 }</span></pre></div></div>
<h3><span class="mw-headline" id="myQDialogGetFile.h">myQDialogGetFile.h</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Library- myQDialogGetFile.h</span>
&#160;
<span class="co2">#ifndef ''HEADER_MYQDIALOGGETFILE''</span>
<span class="co2">#define ''HEADER_MYQDIALOGGETFILE''</span>
&#160;
<span class="co1">// —— header includes ——</span>
&#160;
<span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QDebug&gt;</span>
<span class="co2">#include &lt;QWidget&gt;</span>
<span class="co2">#include &lt;QMessageBox&gt;</span>
<span class="co2">#include &lt;QHBoxLayout&gt;</span>
<span class="co2">#include &lt;QVBoxLayout&gt;</span>
<span class="co2">#include &lt;QFileSystemModel&gt;</span>
<span class="co2">#include &lt;QFileIconProvider&gt;</span>
<span class="co2">#include &lt;QLabel&gt;</span>
<span class="co2">#include &lt;QTreeView&gt;</span>
<span class="co2">#include &lt;QListWidget&gt;</span>
<span class="co2">#include &lt;QTableWidget&gt;</span>
<span class="co2">#include &lt;QHeaderView&gt;</span>
<span class="co2">#include &lt;QLineEdit&gt;</span>
<span class="co2">#include &lt;QPushButton&gt;</span>
&#160;
&#160;
<span class="co1">// —— class forward declaration ——</span>
&#160;
<span class="kw2">class</span> myQDialogGetFile<span class="sy0">;</span>
&#160;
&#160;
<span class="co1">// —— class declaration ——</span>
&#160;
<span class="kw2">class</span> myQDialogGetFile <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QDialog</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QVBoxLayout</span> <span class="sy0">*</span>layoutMain<span class="sy0">,</span> <span class="sy0">*</span>layoutLeft<span class="sy0">,</span> <span class="sy0">*</span>layoutRight<span class="sy0">;</span>
 <span class="kw5">QHBoxLayout</span> <span class="sy0">*</span>layoutTop<span class="sy0">,</span> <span class="st0">''</span><span class="st0">'layoutBottom;
 QFileSystemModel'</span><span class="st0">''</span> filesystemmodel<span class="sy0">;</span>
 <span class="kw5">QLabel</span> <span class="sy0">*</span>labelTreeview<span class="sy0">,</span> <span class="st0">''</span><span class="st0">'labelListWidget;
 QTreeView'</span><span class="st0">''</span> treeview<span class="sy0">;</span>
 <span class="kw5">QListWidget</span><span class="sy0">*</span> listwidget<span class="sy0">;</span>
 <span class="kw5">QString</span> currentDirPath<span class="sy0">,</span> filePath<span class="sy0">;</span>
 <span class="kw5">QStringList</span> suffixFilter<span class="sy0">;</span>
 <span class="kw5">QLineEdit</span><span class="sy0">*</span> edit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span><span class="sy0">*</span> button<span class="sy0">;</span>
 <span class="kw4">bool</span> execution<span class="sy0">;</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 myQDialogGetFile<span class="br0">&#40;</span><span class="kw5">QWidget</span> <span class="st0">''</span><span class="st0">'parent = 0, const QString &amp;windowTitle = &quot;Choose file:&quot;, const QString &amp;buttonText = &quot;choose&quot;);
 void showEvent(QShowEvent'</span><span class="st0">''</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> closeEvent<span class="br0">&#40;</span><span class="kw5">QCloseEvent</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> setButtonText<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> setSuffixFilter<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QStringList</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> isExecuted<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QString</span> getData<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QString</span> adaptStringWidth<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;,</span> <span class="kw4">int</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">public</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> treeviewClicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> treeviewExpanded<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> listwidgetitemClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> listwidgetitemDoubleClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> editTextChanged<span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> buttonClicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&#160;
<span class="co2">#endif</span></pre></div></div>
<h3><span class="mw-headline" id="myQDialogGetFile.cpp">myQDialogGetFile.cpp</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Library - myQDialogGetFile.cpp</span>
&#160;
 <span class="co1">// —— header includes ——</span>
&#160;
 <span class="co2">#include &quot;myQDialogGetFile.h&quot;</span>
&#160;
&#160;
 <span class="co1">// —————————————————————————————————-</span>
 <span class="co1">// —— myQDialogGetFile ——</span>
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— constructors ——</span>
&#160;
 myQDialogGetFile<span class="sy0">::</span><span class="me2">myQDialogGetFile</span><span class="br0">&#40;</span><span class="kw5">QWidget</span> <span class="sy0">*</span>parent<span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>windowTitle<span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>buttonText<span class="br0">&#41;</span> <span class="sy0">:</span> <span class="kw5">QDialog</span><span class="br0">&#40;</span>parent<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> <span class="kw5">QApplication</span><span class="sy0">::</span><span class="me2">applicationDirPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filePath</span> <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">suffixFilter</span>.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span> <span class="sy0">=</span> <span class="kw1">new</span> QVBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutTop</span> <span class="sy0">=</span> <span class="kw1">new</span> QHBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span> <span class="sy0">=</span> <span class="kw1">new</span> QFileSystemModel<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">setRootPath</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">rootPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">setFilter</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">Drives</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">AllDirs</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">Dirs</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">NoDotAndDotDot</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">layoutLeft</span> <span class="sy0">=</span> <span class="kw1">new</span> QVBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span> <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QLabel</span><span class="br0">&#40;</span><span class="st0">&quot;Computer:&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutLeft</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span> <span class="sy0">=</span> <span class="kw1">new</span> QTreeView<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutLeft</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setFixedWidth</span><span class="br0">&#40;</span><span class="nu0">270</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setMinimumHeight</span><span class="br0">&#40;</span><span class="nu0">320</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setModel</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setHeaderHidden</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">columnCount</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="br0">&#41;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">hideColumn</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">resizeColumnToContents</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">header</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">setStretchLastSection</span><span class="br0">&#40;</span><span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setIndentation</span><span class="br0">&#40;</span><span class="nu0">20</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setSortingEnabled</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setAnimated</span><span class="br0">&#40;</span><span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>treeviewClicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>expanded<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>treeviewExpanded<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutTop</span><span class="sy0">-&gt;</span><span class="me3">addLayout</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">layoutLeft</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">layoutRight</span> <span class="sy0">=</span> <span class="kw1">new</span> QVBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelListWidget</span> <span class="sy0">=</span> <span class="kw1">new</span> QLabel<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutRight</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">labelListWidget</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span> <span class="sy0">=</span> <span class="kw1">new</span> QListWidget<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutRight</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>listwidget<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">setMinimumWidth</span><span class="br0">&#40;</span><span class="nu0">300</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">setSelectionMode</span><span class="br0">&#40;</span><span class="kw5">QAbstractItemView</span><span class="sy0">::</span><span class="me2">ExtendedSelection</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>itemClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="sy0">*</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>listwidgetitemClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="sy0">*</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>itemDoubleClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="sy0">*</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>listwidgetitemDoubleClicked<span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="sy0">*</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutTop</span><span class="sy0">-&gt;</span><span class="me3">addLayout</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">layoutRight</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span> <span class="sy0">=</span> <span class="kw1">new</span> QHBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span> <span class="sy0">=</span> <span class="kw1">new</span> QLineEdit<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">setReadOnly</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>textChanged<span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>editTextChanged<span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">button</span> <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QPushButton</span><span class="br0">&#40;</span>buttonText<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">button</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">button</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>buttonClicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span><span class="sy0">-&gt;</span><span class="me3">addLayout</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">layoutTop</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span><span class="sy0">-&gt;</span><span class="me3">addLayout</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">setLayout</span><span class="br0">&#40;</span>layoutMain<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">setWindowTitle</span><span class="br0">&#40;</span>windowTitle<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— public events ——</span>
&#160;
 <span class="kw4">void</span> myQDialogGetFile<span class="sy0">::</span><span class="me2">showEvent</span><span class="br0">&#40;</span><span class="kw5">QShowEvent</span> <span class="sy0">*</span>event<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QDialog</span><span class="sy0">::</span><span class="me2">showEvent</span><span class="br0">&#40;</span>event<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setCurrentIndex</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">index</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeviewClicked</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">currentIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelListWidget</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">execution</span> <span class="sy0">=</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetFile<span class="sy0">::</span><span class="me2">closeEvent</span><span class="br0">&#40;</span><span class="kw5">QCloseEvent</span> <span class="sy0">*</span>event<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">currentIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QDialog</span><span class="sy0">::</span><span class="me2">closeEvent</span><span class="br0">&#40;</span>event<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— public slots ——</span>
&#160;
 <span class="kw4">void</span> myQDialogGetFile<span class="sy0">::</span><span class="me2">treeviewClicked</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span>currentIndex<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>currentIndex.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 return<span class="sy0">;</span>
 <span class="kw5">QString</span> dirPath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>currentIndex<span class="br0">&#41;</span><span class="sy0">;</span>
 dirPath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> dirPath<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelListWidget</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QDir</span> directory <span class="sy0">=</span> <span class="kw5">QDir</span><span class="br0">&#40;</span>dirPath<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">suffixFilter</span>.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 directory.<span class="me1">setNameFilters</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">suffixFilter</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QStringList</span> dirContents <span class="sy0">=</span> directory.<span class="me1">entryList</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">Files</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">NoDotAndDotDot</span><span class="sy0">,</span> <span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">DirsFirst</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> dirContents.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QFileInfo</span> fileInfo<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>dirPath.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>
 fileInfo.<span class="me1">setFile</span><span class="br0">&#40;</span>dirPath<span class="sy0">+</span>dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">else</span>
 fileInfo.<span class="me1">setFile</span><span class="br0">&#40;</span>dirPath<span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QFileIconProvider</span> iconProvider<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">addItem</span><span class="br0">&#40;</span><span class="kw1">new</span> <span class="kw5">QListWidgetItem</span><span class="br0">&#40;</span>iconProvider.<span class="me1">icon</span><span class="br0">&#40;</span>fileInfo<span class="br0">&#41;</span><span class="sy0">,</span> dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">item</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">setFlags</span><span class="br0">&#40;</span><span class="kw5">Qt</span><span class="sy0">::</span><span class="me2">ItemIsSelectable</span><span class="sy0">|</span>Qt<span class="sy0">::</span><span class="me2">ItemIsUserCheckable</span><span class="sy0">|</span>Qt<span class="sy0">::</span><span class="me2">ItemIsEnabled</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetFile<span class="sy0">::</span><span class="me2">treeviewExpanded</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span>currentIndex<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>currentIndex.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 return<span class="sy0">;</span>
 <span class="kw5">QString</span> dirPath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>currentIndex<span class="br0">&#41;</span><span class="sy0">;</span>
 dirPath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> dirPath<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelListWidget</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QDir</span> directory <span class="sy0">=</span> <span class="kw5">QDir</span><span class="br0">&#40;</span>dirPath<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">suffixFilter</span>.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 directory.<span class="me1">setNameFilters</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">suffixFilter</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QStringList</span> dirContents <span class="sy0">=</span> directory.<span class="me1">entryList</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">Files</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">NoDotAndDotDot</span><span class="sy0">,</span> <span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">DirsFirst</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> dirContents.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QFileInfo</span> fileInfo<span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>dirPath.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>
 fileInfo.<span class="me1">setFile</span><span class="br0">&#40;</span>dirPath<span class="sy0">+</span>dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">else</span>
 fileInfo.<span class="me1">setFile</span><span class="br0">&#40;</span>dirPath<span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QFileIconProvider</span> iconProvider<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">addItem</span><span class="br0">&#40;</span><span class="kw1">new</span> <span class="kw5">QListWidgetItem</span><span class="br0">&#40;</span>iconProvider.<span class="me1">icon</span><span class="br0">&#40;</span>fileInfo<span class="br0">&#41;</span><span class="sy0">,</span> dirContents.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">item</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">listwidget</span><span class="sy0">-&gt;</span><span class="me3">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">setFlags</span><span class="br0">&#40;</span><span class="kw5">Qt</span><span class="sy0">::</span><span class="me2">ItemIsSelectable</span><span class="sy0">|</span>Qt<span class="sy0">::</span><span class="me2">ItemIsUserCheckable</span><span class="sy0">|</span>Qt<span class="sy0">::</span><span class="me2">ItemIsEnabled</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetFile<span class="sy0">::</span><span class="me2">listwidgetitemClicked</span><span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="sy0">*</span>currentItem<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">+</span>currentItem<span class="sy0">-&gt;</span><span class="me3">text</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">else</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="sy0">+</span>currentItem<span class="sy0">-&gt;</span><span class="me3">text</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> myQDialogGetFile<span class="sy0">::</span><span class="me2">listwidgetitemDoubleClicked</span><span class="br0">&#40;</span><span class="kw5">QListWidgetItem</span> <span class="st0">''</span><span class="st0">'currentItem)
 {
 this-&gt;listwidgetitemClicked(currentItem);
 this-&gt;buttonClicked();
 }
&#160;
 void myQDialogGetFile::editTextChanged(QString)
 {
 QString filePath = this-&gt;edit-&gt;text();
 filePath.replace(&quot;&quot;, &quot;/&quot;);
 this-&gt;filePath = filePath;
 }
&#160;
 void myQDialogGetFile::buttonClicked()
 {
 QString filePath = this-&gt;filePath;
 filePath.replace(&quot;&quot;, &quot;/&quot;);
 if(filePath.contains(QRegExp(&quot;[|'</span><span class="st0">''</span>?quot<span class="sy0">;&lt;&gt;</span> <span class="br0">&#93;</span><span class="st0">&quot;)))
 {
 QMessageBox::information(this, &quot;</span>Error<span class="st0">&quot;, &quot;</span>The specified file path contains illegal characters<span class="sy0">:</span> <span class="st0">'|'</span><span class="st0">''</span>?<span class="sy0">/</span>quot<span class="sy0">;&lt;&gt;</span> <span class="st0">'&quot;);
 return;
 }
 if(filePath.count(&quot;:&quot;) &gt; 1)
 {
 QMessageBox::information(this, &quot;Error&quot;, &quot;Multiple occurence of charachter '</span><span class="sy0">:</span><span class="st0">'&quot;);
 return;
 }
 if(!QFile::exists(filePath))
 {
 QMessageBox::information(this, &quot;Error&quot;, &quot;The specified file path doesn'</span>t exist or has been deleted.<span class="st0">&quot;);
 return;
 }
 if(filePath.count() == 0)
 {
 QMessageBox::information(this, &quot;</span>Error<span class="st0">&quot;, &quot;</span>No file selected.<span class="st0">&quot;);
 return;
 }
 this-&gt;execution = true;
 this-&gt;close();
 }
&#160;
&#160;
 // —————————————————
 // —— private functions ——
&#160;
 QString myQDialogGetFile::adaptStringWidth(const QString &amp;stringOld, int width)
 {
 if(QLabel(stringOld).fontMetrics().boundingRect(stringOld).width() &lt;= width)
 return stringOld;
 QString stringNew = &quot;</span><span class="st0">&quot;;
 for(int i = 0; i &lt; stringOld.count(); i+'')
 {
 stringNew''= stringOld.at(i);
 if(QLabel(stringNew).fontMetrics().boundingRect(stringNew).width()''QLabel(&quot;</span>…<span class="st0">&quot;).fontMetrics().boundingRect(&quot;</span>…<span class="st0">&quot;).width() &gt;= width)
 break;
 }
 return stringNew''&quot;</span>…<span class="st0">&quot;;
 }
&#160;
&#160;
 // —————————————————
 // —— public functions ——
&#160;
 void myQDialogGetFile::setButtonText(const QString &amp;buttonText)
 {
 this-&gt;button-&gt;setText(buttonText);
 }
&#160;
 void myQDialogGetFile::setSuffixFilter(const QStringList &amp;suffixFilter)
 {
 this-&gt;suffixFilter.clear();
 foreach(QString suffix, suffixFilter)
 {
 suffix.replace(QRegExp(&quot;</span><span class="br0">&#91;</span><span class="st0">''</span><span class="st0">'. ]&quot;), &quot;&quot;);
 this-&gt;suffixFilter &lt;&lt; &quot;*.&quot;'</span><span class="st0">'suffix;
 }
 }
&#160;
 bool myQDialogGetFile::isExecuted()
 {
 return this-&gt;execution;
 }
&#160;
 QString myQDialogGetFile::getData()
 {
 if(!this-&gt;execution)
 return &quot;&quot;;
 return this-&gt;filePath;
 }</span></pre></div></div>
<h3><span class="mw-headline" id="myQDialogGetNewFile.h">myQDialogGetNewFile.h</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Library - myQDialogGetNewFile.h</span>
&#160;
<span class="co2">#ifndef ''HEADER_MYQDIALOGGETNEWFILE''</span>
<span class="co2">#define ''HEADER_MYQDIALOGGETNEWFILE''</span>
&#160;
<span class="co1">// —— header includes ——</span>
&#160;
<span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QDebug&gt;</span>
<span class="co2">#include &lt;QWidget&gt;</span>
<span class="co2">#include &lt;QMessageBox&gt;</span>
<span class="co2">#include &lt;QHBoxLayout&gt;</span>
<span class="co2">#include &lt;QVBoxLayout&gt;</span>
<span class="co2">#include &lt;QFileSystemModel&gt;</span>
<span class="co2">#include &lt;QFileIconProvider&gt;</span>
<span class="co2">#include &lt;QLabel&gt;</span>
<span class="co2">#include &lt;QTreeView&gt;</span>
<span class="co2">#include &lt;QListWidget&gt;</span>
<span class="co2">#include &lt;QTableWidget&gt;</span>
<span class="co2">#include &lt;QHeaderView&gt;</span>
<span class="co2">#include &lt;QLineEdit&gt;</span>
<span class="co2">#include &lt;QPushButton&gt;</span>
&#160;
&#160;
<span class="co1">// —— class forward declaration ——</span>
&#160;
<span class="kw2">class</span> myQDialogGetNewFile<span class="sy0">;</span>
&#160;
&#160;
<span class="co1">// —— class declaration ——</span>
&#160;
<span class="kw2">class</span> myQDialogGetNewFile <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QDialog</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QVBoxLayout</span><span class="sy0">*</span> layoutMain<span class="sy0">;</span>
 <span class="kw5">QHBoxLayout</span><span class="sy0">*</span> layoutBottom<span class="sy0">;</span>
 <span class="kw5">QFileSystemModel</span><span class="sy0">*</span> filesystemmodel<span class="sy0">;</span>
 <span class="kw5">QLabel</span> <span class="sy0">*</span>labelTreeview<span class="sy0">,</span> <span class="st0">''</span><span class="st0">'labelEdit;
 QTreeView'</span><span class="st0">''</span> treeview<span class="sy0">;</span>
 <span class="kw5">QString</span> currentDirPath<span class="sy0">,</span> filePath<span class="sy0">,</span> fileName<span class="sy0">,</span> fileSuffix<span class="sy0">;</span>
 <span class="kw5">QByteArray</span><span class="sy0">*</span> fileData<span class="sy0">;</span>
 <span class="kw5">QLineEdit</span><span class="sy0">*</span> edit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span><span class="sy0">*</span> button<span class="sy0">;</span>
 <span class="kw4">bool</span> execution<span class="sy0">;</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 myQDialogGetNewFile<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileSuffix<span class="sy0">,</span> <span class="kw5">QWidget</span><span class="sy0">*</span> parent <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileName <span class="sy0">=</span> <span class="st0">&quot;untitled&quot;</span><span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>windowTitle <span class="sy0">=</span> <span class="st0">&quot;Choose file destination:&quot;</span><span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>buttonText <span class="sy0">=</span> <span class="st0">&quot;choose&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> showEvent<span class="br0">&#40;</span><span class="kw5">QShowEvent</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> closeEvent<span class="br0">&#40;</span><span class="kw5">QCloseEvent</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> setFileSuffix<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> setFileName<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> setButtonText<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">bool</span> isExecuted<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QString</span> getData<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QString</span> adaptStringWidth<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;,</span> <span class="kw4">int</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">public</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> treeviewClicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> treeviewExpanded<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> editTextChanged<span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> buttonClicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&#160;
<span class="co2">#endif</span></pre></div></div>
<h3><span class="mw-headline" id="myQDialogGetNewFile.cpp">myQDialogGetNewFile.cpp</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co1">// Library - myQDialogGetNewFile.cpp</span>
&#160;
 <span class="co1">// —— header includes ——</span>
&#160;
 <span class="co2">#include &quot;myQDialogGetNewFile.h&quot;</span>
&#160;
&#160;
 <span class="co1">// —————————————————————————————————-</span>
 <span class="co1">// —— myQDialogGetNewFile ——</span>
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— constructors ——</span>
&#160;
 myQDialogGetNewFile<span class="sy0">::</span><span class="me2">myQDialogGetNewFile</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileSuffix<span class="sy0">,</span> <span class="kw5">QWidget</span> <span class="sy0">*</span>parent<span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileName<span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>windowTitle<span class="sy0">,</span> <span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>buttonText<span class="br0">&#41;</span> <span class="sy0">:</span> <span class="kw5">QDialog</span><span class="br0">&#40;</span>parent<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> <span class="kw5">QApplication</span><span class="sy0">::</span><span class="me2">applicationDirPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">fileName</span> <span class="sy0">=</span> fileName<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span> <span class="sy0">=</span> fileSuffix<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filePath</span> <span class="sy0">=</span> <span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>&#160;? this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">+</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span> <span class="sy0">:</span> this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span> <span class="sy0">=</span> <span class="kw1">new</span> QVBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span> <span class="sy0">=</span> <span class="kw1">new</span> QFileSystemModel<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">setRootPath</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">rootPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">setFilter</span><span class="br0">&#40;</span><span class="kw5">QDir</span><span class="sy0">::</span><span class="me2">Drives</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">AllDirs</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">Dirs</span><span class="sy0">|</span>QDir<span class="sy0">::</span><span class="me2">NoDotAndDotDot</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span> <span class="sy0">=</span> <span class="kw1">new</span> QLabel<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span> <span class="sy0">=</span> <span class="kw1">new</span> QTreeView<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setMinimumSize</span><span class="br0">&#40;</span><span class="nu0">270</span><span class="sy0">,</span><span class="nu0">320</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setModel</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setHeaderHidden</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">columnCount</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="st0">''</span><span class="sy0">+</span><span class="br0">&#41;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">hideColumn</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">resizeColumnToContents</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">header</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">setStretchLastSection</span><span class="br0">&#40;</span><span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setIndentation</span><span class="br0">&#40;</span><span class="nu0">20</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setSortingEnabled</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setAnimated</span><span class="br0">&#40;</span><span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>treeviewClicked<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>expanded<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>treeviewExpanded<span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span> <span class="sy0">=</span> <span class="kw1">new</span> QHBoxLayout<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span> <span class="sy0">=</span> <span class="kw1">new</span> QLineEdit<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>textChanged<span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>editTextChanged<span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelEdit</span> <span class="sy0">=</span> <span class="kw1">new</span> QLabel<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">labelEdit</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelEdit</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">button</span> <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QPushButton</span><span class="br0">&#40;</span>buttonText<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="sy0">-&gt;</span><span class="me3">addWidget</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">button</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">button</span><span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>buttonClicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">layoutMain</span><span class="sy0">-&gt;</span><span class="me3">addLayout</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">layoutBottom</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 this<span class="sy0">-&gt;</span><span class="me3">setLayout</span><span class="br0">&#40;</span>layoutMain<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">setWindowTitle</span><span class="br0">&#40;</span>windowTitle<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— public events ——</span>
&#160;
 <span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">showEvent</span><span class="br0">&#40;</span><span class="kw5">QShowEvent</span> <span class="sy0">*</span>event<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QDialog</span><span class="sy0">::</span><span class="me2">showEvent</span><span class="br0">&#40;</span>event<span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">setCurrentIndex</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">index</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">treeviewClicked</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">currentIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">execution</span> <span class="sy0">=</span> false<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">closeEvent</span><span class="br0">&#40;</span><span class="kw5">QCloseEvent</span> <span class="sy0">*</span>event<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">currentIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw5">QDialog</span><span class="sy0">::</span><span class="me2">closeEvent</span><span class="br0">&#40;</span>event<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— public slots ——</span>
&#160;
 <span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">treeviewClicked</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span>currentIndex<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>currentIndex.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 return<span class="sy0">;</span>
 <span class="kw5">QString</span> dirPath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>currentIndex<span class="br0">&#41;</span><span class="sy0">;</span>
 dirPath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> dirPath<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filePath</span> <span class="sy0">=</span> <span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>&#160;? this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">+</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span> <span class="sy0">:</span> this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">treeviewExpanded</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QModelIndex</span> <span class="sy0">&amp;</span>currentIndex<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>currentIndex.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 return<span class="sy0">;</span>
 <span class="kw5">QString</span> dirPath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filesystemmodel</span><span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="br0">&#40;</span>currentIndex<span class="br0">&#41;</span><span class="sy0">;</span>
 dirPath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span> <span class="sy0">=</span> dirPath<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">labelTreeview</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">adaptStringWidth</span><span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> this<span class="sy0">-&gt;</span><span class="me3">treeview</span><span class="sy0">-&gt;</span><span class="me3">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filePath</span> <span class="sy0">=</span> <span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>&#160;? this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">+</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span> <span class="sy0">:</span> this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">editTextChanged</span><span class="br0">&#40;</span><span class="kw5">QString</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QString</span> fileName <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">edit</span><span class="sy0">-&gt;</span><span class="me3">text</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileName.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">fileName</span> <span class="sy0">=</span> fileName<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">filePath</span> <span class="sy0">=</span> <span class="br0">&#40;</span>this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span>.<span class="me1">right</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span>&#160;? this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">+</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span> <span class="sy0">:</span> this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="st0">''</span><span class="st0">&quot;/&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="st0">''</span><span class="st0">&quot;.&quot;</span><span class="st0">''</span>this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">buttonClicked</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QString</span> dirPath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">currentDirPath</span><span class="sy0">,</span> fileName <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">fileName</span><span class="sy0">,</span> filePath <span class="sy0">=</span> this<span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="sy0">;</span>
 dirPath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileName.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 filePath.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;/&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>dirPath.<span class="me1">contains</span><span class="br0">&#40;</span><span class="kw5">QRegExp</span><span class="br0">&#40;</span><span class="st0">&quot;[|'''?quot;&lt;&gt; ]&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;Error&quot;</span><span class="sy0">,</span> <span class="st0">&quot;The specified file path contains illegal characters: '|'''?/quot;&lt;&gt; '&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>dirPath.<span class="me1">count</span><span class="br0">&#40;</span><span class="st0">&quot;:&quot;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;Error&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Multiple occurence of charachter ':'&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>dirPath<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;Error&quot;</span><span class="sy0">,</span> <span class="st0">&quot;The specified file path doesn't exist or has been deleted.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw1">if</span><span class="br0">&#40;</span>fileName.<span class="me1">contains</span><span class="br0">&#40;</span><span class="kw5">QRegExp</span><span class="br0">&#40;</span><span class="st0">&quot;[|'''?/quot;&lt;&gt;: ]&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;Error&quot;</span><span class="sy0">,</span> <span class="st0">&quot;The specified file name contains illegal characters: '|'''?/quot;&lt;&gt;: '&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>fileName.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;Error&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Please type a valid file name.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="kw5">QFile</span><span class="sy0">::</span><span class="me2">exists</span><span class="br0">&#40;</span>filePath<span class="br0">&#41;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">information</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> <span class="st0">&quot;Warning&quot;</span><span class="sy0">,</span> <span class="st0">&quot;The specified file already exists.existing file?&quot;</span><span class="sy0">,</span> <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">Yes</span> <span class="sy0">|</span> <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">No</span><span class="sy0">,</span> <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">No</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">No</span><span class="br0">&#41;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 this<span class="sy0">-&gt;</span><span class="me3">execution</span> <span class="sy0">=</span> true<span class="sy0">;</span>
 this<span class="sy0">-&gt;</span><span class="me3">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
&#160;
 <span class="co1">// —————————————————</span>
 <span class="co1">// —— private functions ——</span>
&#160;
 <span class="kw5">QString</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">adaptStringWidth</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>stringOld<span class="sy0">,</span> <span class="kw4">int</span> width<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="kw5">QLabel</span><span class="br0">&#40;</span>stringOld<span class="br0">&#41;</span>.<span class="me1">fontMetrics</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">boundingRect</span><span class="br0">&#40;</span>stringOld<span class="br0">&#41;</span>.<span class="me1">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;=</span> width<span class="br0">&#41;</span>
 <span class="kw1">return</span> stringOld<span class="sy0">;</span>
 <span class="kw5">QString</span> stringNew <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span>
 <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> stringOld.<span class="me1">count</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 stringNew<span class="st0">''</span><span class="sy0">=</span> stringOld.<span class="me1">at</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="kw5">QLabel</span><span class="br0">&#40;</span>stringNew<span class="br0">&#41;</span>.<span class="me1">fontMetrics</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">boundingRect</span><span class="br0">&#40;</span>stringNew<span class="br0">&#41;</span>.<span class="me1">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="st0">''</span><span class="kw5">QLabel</span><span class="br0">&#40;</span><span class="st0">&quot;…&quot;</span><span class="br0">&#41;</span>.<span class="me1">fontMetrics</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">boundingRect</span><span class="br0">&#40;</span><span class="st0">&quot;…&quot;</span><span class="br0">&#41;</span>.<span class="me1">width</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;=</span> width<span class="br0">&#41;</span>
 break<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw1">return</span> stringNew<span class="st0">''</span><span class="st0">&quot;…&quot;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="co1">// —————————————————</span>
 <span class="co1">// —— public functions ——</span>
&#160;
<span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">setFileSuffix</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileSuffix<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">fileSuffix</span> <span class="sy0">=</span> fileSuffix<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">setFileName</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>fileName<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">fileName</span> <span class="sy0">=</span> fileName<span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">setButtonText</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw5">QString</span> <span class="sy0">&amp;</span>buttonText<span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 this<span class="sy0">-&gt;</span><span class="me3">button</span><span class="sy0">-&gt;</span><span class="me3">setText</span><span class="br0">&#40;</span>buttonText<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">isExecuted</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">return</span> this<span class="sy0">-&gt;</span><span class="me3">execution</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
<span class="kw5">QString</span> myQDialogGetNewFile<span class="sy0">::</span><span class="me2">getData</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#123;</span>
 <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>this<span class="sy0">-&gt;</span><span class="me3">execution</span><span class="br0">&#41;</span>
 <span class="kw1">return</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span>
 <span class="kw1">return</span> this<span class="sy0">-&gt;</span><span class="me3">filePath</span><span class="sy0">;</span>
 <span class="br0">&#125;</span></pre></div></div>
<h2><span class="mw-headline" id="Feedback">Feedback</span></h2>
<p>I would really appreciate it to get some feedback from you, so I can improve my own skills and make the algorithms better.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.375 seconds
Real time usage: 0.385 seconds
Preprocessor visited node count: 193/1000000
Preprocessor generated node count: 384/1000000
Post‐expand include size: 1376/2097152 bytes
Template argument size: 439/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1050-0!*!0!!en!*!* and timestamp 20151104233235 and revision id 13842
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="index0d59.html?title=Import-Export-resources-for-setup-creation&amp;oldid=13842">http://wiki.qt.io/index.php?title=Import-Export-resources-for-setup-creation&amp;oldid=13842</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Articles_needing_cleanup.html" title="Category:Articles needing cleanup">Articles needing cleanup</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=4def4c669dbb84bd&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Import-Export-resources-for-setup-creation.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="Talk_Import-Export-resources-for-setup-creation.html?title=Talk:Import-Export-resources-for-setup-creation&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Import-Export-resources-for-setup-creation.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="index6afb-2.html?title=Import-Export-resources-for-setup-creation&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="index2370.html?title=Import-Export-resources-for-setup-creation&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Import-Export-resources-for-setup-creation.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Import-Export-resources-for-setup-creation.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="indexff63.html?title=Import-Export-resources-for-setup-creation&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="index0d59.html?title=Import-Export-resources-for-setup-creation&amp;oldid=13842" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="indexc93b.html?title=Import-Export-resources-for-setup-creation&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 13 March 2015, at 15:49.</li>
											<li id="footer-info-viewcount">This page has been accessed 615 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load55ad.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":209});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/Import-Export-resources-for-setup-creation by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:50:03 GMT -->
</html>
