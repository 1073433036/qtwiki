<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/Qt-contributors-summit-2013-Qt_ICU by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 13:38:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Qt-contributors-summit-2013-Qt ICU - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load771b.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="loadc6d2.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Qt-contributors-summit-2013-Qt_ICU","wgTitle":"Qt-contributors-summit-2013-Qt ICU","wgCurRevisionId":19328,"wgRevisionId":19328,"wgArticleId":2266,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Qt-contributors-summit-2013-Qt_ICU","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Qt-contributors-summit-2013-Qt_ICU skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Qt-contributors-summit-2013-Qt ICU</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="index53b6.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="Updated_pages.html" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<p><b><span class="caps">WIP</span></b>
</p>
<div class="factbox right">
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Table_of_Content"><span class="tocnumber">1</span> <span class="toctext">Table of Content</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Agenda"><span class="tocnumber">2</span> <span class="toctext">Agenda</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Minutes"><span class="tocnumber">3</span> <span class="toctext">Minutes</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#ICU_and_Qt"><span class="tocnumber">3.1</span> <span class="toctext"><span>ICU</span> and Qt</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#QTimeZone_.2F_QDateTime_integration_issues"><span class="tocnumber">3.2</span> <span class="toctext">QTimeZone / QDateTime integration issues</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Detailed_notes_on_ICU_in_Qt5"><span class="tocnumber">4</span> <span class="toctext">Detailed notes on <span>ICU</span> in Qt5</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Current_use_of_ICU_in_Qt5"><span class="tocnumber">4.1</span> <span class="toctext">Current use of <span>ICU</span> in Qt5</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Issues_with_ICU"><span class="tocnumber">4.2</span> <span class="toctext">Issues with <span>ICU</span></span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Possible_solutions"><span class="tocnumber">4.3</span> <span class="toctext">Possible solutions</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#ICU_includes_in_QtWebKit"><span class="tocnumber">4.4</span> <span class="toctext"><span>ICU</span> includes in QtWebKit</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#ICU_Documentation"><span class="tocnumber">4.5</span> <span class="toctext"><span>ICU</span> Documentation</span></a></li>
</ul>
</li>
</ul>
</div>

<h3><span class="mw-headline" id="Table_of_Content">Table of Content</span></h3>
<ul>
<li> <a href="#49098c06473b94079cd2cb087eea7952">Agenda</a>
</li>
<li> <a href="#f670ea66cfb0e90bd6090472ad692694">Minutes</a>
<ul>
<li> <a href="#5f9c610aae0c0d7f272db36b320c0e66">ICU and Qt</a>
</li>
<li> <a href="#4f408028668c0280178deb641e8c8080">QTimeZone / QDateTime integration issues</a>
</li>
</ul>
</li>
<li> <a href="#d6bbb58c95efc33091c923e295a4d9a5">Detailed notes on ICU in Qt5</a>
<ul>
<li> <a href="#b9772d66f18ce56a276c4d3b25f408d5">Current use of ICU in Qt5</a>
</li>
<li> <a href="#7c6a6797f80131e4623bef193a12f0d8">Issues with ICU</a>
<ul>
<li> <a href="#d13bc5b68b2bd9e18f29777db17cc563">Common</a>
</li>
<li> <a href="#aea23489ce3aa9b6406ebb28e0cda430">Windows</a>
</li>
<li> <a href="#1748c0644a50090814d3e170723ccc5c">Mac</a>
</li>
<li> <a href="#edc9f0a5a5d57797bf68e37364743831">Linux</a>
</li>
<li> <a href="#e84e30b9390cdb64db6db2c9ab87846d">Android</a>
</li>
<li> <a href="#dd95e601f6796907fc7efcbd086330f5">BB10 / QNX</a>
</li>
<li> <a href="#24664ec765bdb273c6d4b82b194fccf5">QtWebKit</a>
</li>
</ul>
</li>
<li> <a href="#b13e0cffea7586f134feda26d095766c">Possible solutions</a>
<ul>
<li> <a href="#369686331c93d55e587441143ccdf427">Localization</a>
</li>
<li> <a href="#ac86a4f5479a464656ca11b4ca715d5a">Data size / build</a>
</li>
<li> <a href="#24664ec765bdb273c6d4b82b194fccf5_0">QtWebKit</a>
</li>
</ul>
</li>
<li> <a href="#d816f35dd7e9aa364b59b30dd3893fbf">ICU includes in QtWebKit</a>
</li>
<li> <a href="#2b9a0949d5be5c4facf5c205ada63ec7">ICU Documentation</a>
</li>
</ul>
</li>
</ul>
</div>
<h1><span class="mw-headline" id="Agenda">Agenda</span></h1>
<ul>
<li> Review decision on using <span class="caps">ICU</span> everywhere in Qt
</li>
<li> Discuss QTimeZone integration into QDateTime: initialization, validation and daylight saving transitions
</li>
</ul>
<h1><span class="mw-headline" id="Minutes">Minutes</span></h1>
<p>Take by David Faure
</p><p>QSystemLocale picks up the user settings (bypassing <span class="caps">ICU</span>, which doesn't do that).<br /> So it needs platform backends to do that.
</p><p>Same for the user-selected timezone, etc.<br /> =&gt; <span class="caps">ICU</span> is really just the database.
</p><p>We need to complete that code, to get all settings on all OSes.
</p><p><span class="caps">ICU</span> data is 26 MB on disk (on Windows). The bulk is timezones. Lots of translations. 4.6 MB with just the english locale and language.
</p><p>ICU4C lib = 5MB on top.
</p><p>Idea from Thiago: QLocale – basic, based on host apis Something more complete based on <span class="caps">ICU</span> -&gt; in a separate module Could be done with QCollator, calendering and other future stuff, but not very consistent
</p><p>Idea from Lars: a stripped <span class="caps">ICU</span>. Translations would come from Qt po files.
</p><p>Another option: load <span class="caps">ICU</span> dynamically, and use system apis if it's not available.
</p><p>Dropped idea: a plugin (loaded with native <span class="caps">API</span>s, no QString), which would also exist with<br /> minimal, small, and full versions. Creates a deployment problem.
</p><p>Conclusions:
</p><p>Mac: we'll use the Mac <span class="caps">API</span> wrapper
</p><p>Android: <span class="caps">TODO</span>: check if we can use the <span class="caps">ICU</span> data files from ICU4J (same as the ones from ICU4C) <span class="caps">TODO</span>: check if we can use that data, even if the lib isn't available. It should be the same version of <span class="caps">ICU</span> though! Or we could use <span class="caps">JNI</span>….. (everyone is horrified by the idea though).
</p><p>Idea from Lars: an <span class="caps">ICU</span>-compatible replacement <span class="caps">API</span>, that can be shipped instead of <span class="caps">ICU</span> to save size.<br /> QtCore uses 26 symbols from <span class="caps">ICU</span>.<br /> So the user could choose which <span class="caps">ICU</span> to use: 1) minimal (just C), 2) small (C and one selected locale?), 3) full.<br /> Whenever using QtWebKit, the full one is required. It's really mutually exclusive (webkit uses 85 symbols from icu)
</p>
<h2><span class="mw-headline" id="ICU_and_Qt"><span class="caps">ICU</span> and Qt</span></h2>
<p>At QtCS 2012 it was decided to migrate to using <span class="caps">ICU</span> for all localization services to reduce our own code and data, and possibly for code conversion tables, effectively making it a hard requirement for Qt5. Since then a number of technical and political objections have been raised which need to be addressed. This session is to discuss the problems and try come up with a solution.
</p><p>Primary issues:
</p>
<ul>
<li> <span class="caps">ICU</span> ignores host data and any user custom settings, so may not appear 'native'
</li>
<li> BC issues with using system libraries limit us to using the C api which lacks features we may need
</li>
<li> Mac doesn't ship system library headers, App Store bans direct linking to libicu, out-dated system versions
</li>
<li> Complaints from Windows devs that <span class="caps">ICU</span> download is too big to ship and has no debug version, but too hard to build / shrink the build themselves
</li>
<li> Android doesn't guarantee ICU4C will be installed(?), but offers no other <span class="caps">NDK</span> localization option(?)
</li>
<li> Tizen also doesn't ship <span class="caps">ICU</span> headers or allow linking to system <span class="caps">ICU</span> in its app store
</li>
<li> QtWebKit has hard requirement that is not easily removed
</li>
</ul>
<p>This essentially means we must either use only native api on Win and Mac, or ship our own minimal version of <span class="caps">ICU</span>.
</p><p>A default <span class="caps">ICU</span> 50.1 build with full data is 26.5 MB on disk or 10.5 MB zipped. Reduced to the minimum library and only the English locale, translation and mapping data the build is 10 MB on disk or 4.6 MB zipped. Further optimizations possible. An app choosing to ship <span class="caps">ICU</span> with a reasonable number of supported language translations can expect a build of about 12 MB on disk or 6 MB zipped. The big decision is whether this is an acceptable size for downloads on Win, Mac and Android. (see below).
</p><p>Practically, there are three options depending on what features we need to use from <span class="caps">ICU</span>:<br /> 1) Only use the host api on Mac and Windows, use <span class="caps">ICU</span> as the host api on Linux, and don't provide any features that are not common to all three api's.<br /> 2) Use Win/Mac host system api wherever possible, only require <span class="caps">ICU</span> for optional features where devs will be motivated to build and ship <span class="caps">ICU</span>.<br /> 3) Make <span class="caps">ICU</span> as a hard requirement to be always be built and shipped by all devs on Mac and Windows.
</p><p>Major questions:
</p>
<ul>
<li> Are host system api sufficient for requirements? Mac yes for localization as thin wrapper to <span class="caps">ICU</span>, WinRT appears to be modelled on <span class="caps">ICU</span>, Win32 needs research but seems doubtful. Not clear if Windows allows opening resource files for non-system/custom locales.
</li>
<li> Android / BB10 / <span class="caps">QNX</span> / Tizen details?
</li>
</ul>
<p>Side note: The Chromium/Blink project has debated these same issues and decided to always build and ship their own version of <span class="caps">ICU</span> on all platforms including Linux and Android, wrapped in a thin abstraction layer.
</p><p>It is proposed to follow option 2) until such time as we need features only <span class="caps">ICU</span> or the the C++ api can provide. An extension of option 3) is to also force our own build on Linux which would allow us to use the C++ api.
</p>
<ul>
<li> New build script in qtbase/3rdparty to checkout, configure and build minimal required <span class="caps">ICU</span> as part of qtbase standard build system
</li>
<li> Build script able to be customized to choose what locales and translations to ship
</li>
<li> Localization to always use host api for system locale, any features needing <span class="caps">ICU</span> must be optional build-time flag
</li>
<li> Script detects if <span class="caps">ICU</span> features are needed, Win/Mac/iOS/Android build and link own copy of libicu, Linux/QNX defaults to system library but can choose own copy if needed
</li>
<li> Only use <span class="caps">ICU</span> C api for now, but require a recent enough version on all platforms to be useful, if not available from system then must build own
</li>
<li> Minimal non-<span class="caps">ICU</span> C locale for embedded if required?
</li>
</ul>
<h2><span class="mw-headline" id="QTimeZone_.2F_QDateTime_integration_issues">QTimeZone / QDateTime integration issues</span></h2>
<p>The current implementation of QDateTime with the system time zone has a number of implementation issues around initialization, validity checking, and maths that will also affect QTimeZone so should have their behaviour defined or fixed before QTimeZone is integrated.
</p>
<ul>
<li> QTimeZone uses a lazy initialization that accepts any date, time and spec, validity is only checked when used
</li>
<li> isValid() does not take the time zone into account, only if QDate and QTime are individually valid
</li>
<li> Date-only math functions (add day/month/year) only done in QDate, i.e. validity check and maths applied is on date only and doesn't consider time and time zone, nor whether the result is valid in the tz.
</li>
<li> Time math functions do use QDateTIme::isValid() and convert to <span class="caps">UTC</span> to calculate
</li>
<li> Changing spec (i.e. to <span class="caps">UTC</span> in calculations) calls mktime to calculate and validate,
</li>
<li> The transition from Standard Time to Daylight Time (e.g. 2am becomes 3am) leaves a 'hole' of 1 hour that should be considered invalid but isValid() returns true and the date and time maths functions are still applied
</li>
</ul>
<p>It has been proposed to re-write QDateTime to internally store as an absolute msecs since epoch which would inherently solve many of these issues, but this would radically change the behaviour of QDateTime which currently treats the ymd/hms values as "fixed" and the time spec is used to interpret that value. This would mostly affect the default SystemTime spec where the system time zone can change underneath QDateTime causing the absolute <span class="caps">UTC</span> value to change. A considerable re-write would be required to keep the behaviour consistent. There is also the behaviour that you can store an invalid date but valid time in QDateTime, and later fix the date to be valid, which may not be possible if using a single qint64. Other likely effects would be:
</p>
<ul>
<li> Creation would be slower as has to validate and convert
</li>
<li> Accessing most commonly used functions would be slower, e.g. caliing dt.date().day or dt.time().hour()
</li>
<li> Maths and conversion functions would be faster and simpler and more accurate
</li>
<li> Memory footprint would be reduced by one-third
</li>
</ul>
<p>If we keep storage in QDate/QTime format we have to ensure validity is checked properly. This solution is a lot less code change and keeps current behaviour, but
</p>
<ul>
<li> QDateTime::isValid() must check if valid in tz, i.e. call mktime the first time called then cache result in QDateTImePrivate::Spec
</li>
<li> All date-only maths needs to be converted to <span class="caps">UTC</span> first then converted back, same as for time
</li>
</ul>
<p>A further major issue is the Second Occurrence:
</p>
<ul>
<li> The transition from Daylight Time to Standard Time (e.g. 3am become 2am) has an hour that 'occurs' twice and is thus ambiguous, i.e. 2:30am. We currently have no api to indicate or set which occurrence.
</li>
<li> Windows, Linux and Mac implementations of mktime have different assumptions for ambiguous times: Linux assumes first occurrence, Windows assumes second occurrence, Mac assumes first for about the first 40 minutes and second for the last 20 minutes (probably a bug).
</li>
<li> The mktime tm_isdst flag is not sufficient for certain scenarios
</li>
</ul>
<p>The current time zone patches have api for setting and reading the occurrence, but issues with mktime have prevented working code so far.
</p><p>Development plan:
</p>
<ul>
<li> Re-submit patches for offsetFromUtc and cleaning up format/parse code
</li>
<li> Implement chosen solution for QDateTIme internals, other clean-ups
</li>
<li> Implement second occurrence support for SystemTime only
</li>
<li> Re-submit QTimeZone patches
</li>
</ul>
<h1><span class="mw-headline" id="Detailed_notes_on_ICU_in_Qt5">Detailed notes on <span class="caps">ICU</span> in Qt5</span></h1>
<h2><span class="mw-headline" id="Current_use_of_ICU_in_Qt5">Current use of <span class="caps">ICU</span> in Qt5</span></h2>
<ul>
<li> QtWebKit – required on all platforms for localization and text layout.
</li>
<li> QtCore / QIcuCodec – private, optional
</li>
<li> QtCore / QCollator – private, optional
</li>
<li> QtCore / QLocale for toUpper() and toLower() – private, optional
</li>
<li> sqlite3?
</li>
</ul>
<h2><span class="mw-headline" id="Issues_with_ICU">Issues with <span class="caps">ICU</span></span></h2>
<h3><span class="mw-headline" id="Common">Common</span></h3>
<p><span class="caps">ICU</span> are notoriously bad at building libraries that can be reliably linked against, they offer no BC guarantees for C++, changing so names, dat files tightly coupled to library version, etc. For compatibility this leaves us to use the C api which lacks many of the advanced features in the C++ api that make using it desirable. C <span class="caps">API</span> additions to match can be requested and some have been added as a result, but old system versions shipped in <span class="caps">OSX</span> and Linux won't have these available. To use the C++ api would require strictly controlling the version of <span class="caps">ICU</span> linked to, i.e. building it ourselves.
</p><p><span class="caps">ICU</span> respects the users locale code (e.g. en_GB) but doesn't use the host system data or the users custom settings (e.g. different date format), so <span class="caps">ICU</span> apps may not fully fit in with a users environment. This may especially be a problem on Windows where settings and behaviour are very different from the <span class="caps">POSIX</span> world.
</p><p>The default <span class="caps">ICU</span> data is fairly large, up to 21.3 MB on disk or 8.5 MB zipped, but not all data is actually required, such as code tables or translations for languages not supported by an app, and could be easily shrunk by apps to about 7MB on disk or 3.5 MB zipped.
</p>
<h3><span class="mw-headline" id="Windows">Windows</span></h3>
<p>See <a rel="nofollow" class="external free" href="http://thread.gmane.org/gmane.comp.lib.qt.devel/9226">http://thread.gmane.org/gmane.comp.lib.qt.devel/9226</a>
</p><p><span class="caps">ICU</span> is not shipped with Windows so all apps need to build and distribute their own copy of <span class="caps">ICU</span> including data. Devs have complained that <span class="caps">ICU</span> is too big (!) and too hard to build.
</p><p>A binary download of 11.4 MB is available from <span class="caps">ICU</span>, but only for mvsc10 and not debug versions which causes issues.
</p><p>Work required to determine if sufficient host api functionality available for system locale, and if locale resource bundles can be opened to use for custom locales.
</p><p>For localization it seems unlikely the native <span class="caps">API</span> will provide a sufficient solution (especially on XP) so we need to make the build easier and the data smaller, or accept a lesser feature set for apps that don't wish to ship <span class="caps">ICU</span>. This may not be an issue for most apps that don't require the more advanced locale features or custom locales. Those that do need the features will be more willing to make the effort.
</p>
<h3><span class="mw-headline" id="Mac">Mac</span></h3>
<p><span class="caps">ICU</span> ships as standard on <span class="caps">OSX</span> and iOS, with the official <span class="caps">API</span> classes effectively thin wrappers around <span class="caps">ICU</span> that allow for user customisations. Shipped versions of <span class="caps">ICU</span> tend to be rather old, and the headers are not included to discourage the direct use of <span class="caps">ICU</span>. Currently Qt5 requires installing MacPorts and linking to their version of <span class="caps">ICU</span>, but this is a bad solution as it is not portable or distributable (it also causes build problems if Macports Qt4 is also installed). It is possible to download the headers from opensource.apple.com with some effort and use those instead (WebKit, Chrome and others do this by including a copy of the headers). However apps are rejected from the App Store if they directly link to <span class="caps">ICU</span> which effectively rules out using the system <span class="caps">ICU</span> for anything on iOS and thus for simplicity on <span class="caps">OSX</span> too. It is not clear if shipping a self-built copy of <span class="caps">ICU</span> is acceptable to the App Store, but the extra 20Mb added to the download is not likely to be acceptable to iOS developers so would need to be trimmed down.
</p><p><span class="caps">ICU</span> provides a 64bit binary download of 11Mb.
</p><p>For localization the native <span class="caps">API</span> will probably be sufficient. Code tables require investigation.
</p><p>QtWebKit is not permitted on iOS by the App Store rules, apps must use the native WebKit install. Therefore iOS does not need to be considered in any QtWebKit solution.
</p>
<h3><span class="mw-headline" id="Linux">Linux</span></h3>
<p><span class="caps">ICU</span> is available on all distro's and likely to always be installed due to other projects depending on it so is not a problem for availability or download size. Distro's are used to the issues involved with using <span class="caps">ICU</span> so it might not be unreasonable to make it a requirement to rebuild Qt whenever a major <span class="caps">ICU</span> update is made. In fact, this seems to be existing policy for other packages using <span class="caps">ICU</span>.
</p>
<h3><span class="mw-headline" id="Android">Android</span></h3>
<p>Android ships <span class="caps">ICU</span>? Or just the Java version by default? Needs more investigation on how it is used and if there are any problems with linking to it directly instead of the native <span class="caps">API</span>.
</p><p>ICU4C is not a standard part of Android, but is supported in Android External and builds fine. Appears to be no native C/C++ api to use in <span class="caps">NDK</span>, only Java native api. Not yet clear if should use Android src repo or <span class="caps">ICU</span> master repo. Appears we will need to build and ship our own copy.
</p><p>Android repo at <a rel="nofollow" class="external free" href="https://android.googlesource.com/platform/external/icu4c">https://android.googlesource.com/platform/external/icu4c</a> but doc at <a rel="nofollow" class="external free" href="http://source.android.com/source/submit-patches.html#icu4c">http://source.android.com/source/submit-patches.html#icu4c</a> makes it clear upstream is considered the master.
</p><p>See <a rel="nofollow" class="external free" href="https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/eSiHBND2rAQ/X9LyMHImNjgJ">https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/eSiHBND2rAQ/X9LyMHImNjgJ</a> for an interesting discussion on using <span class="caps">ICU</span> in WebKit / Blink / Android which seems to suggest <span class="caps">ICU</span> system will become standard install?
</p>
<h3><span class="mw-headline" id="BB10_.2F_QNX">BB10 / <span class="caps">QNX</span></span></h3>
<p><span class="caps">QNX</span> ships <span class="caps">ICU</span>. Needs more investigation on how it is used and if there are any problems with linking to it directly instead of the native <span class="caps">API</span>.
</p><p>BB10 ships <span class="caps">ICU</span> in firmware to use for <span class="caps">NDK</span> localization and Qt4 in firmware to use for gui's (and thus uses old QLocale). Qt5 can be built and used, but is not yet a standard install in firmware. This means Qt5 can use the system <span class="caps">ICU</span> as the locale back-end, i.e. same as Linux. Initially will only be able to use the C api, but once both are in firmware it will always be a monolithic system build so can probably use the C++ api.
</p>
<h3><span class="mw-headline" id="QtWebKit">QtWebKit</span></h3>
<p>WebKit provides a localization, text layout and string encoding abstraction layer. WebKit ports such as QtWebKit can provide their own backend but most choose to use the existing <span class="caps">ICU</span> back-end for convenience. QtWebKit4 apparently used to use QLocale/QString but switched to <span class="caps">ICU</span> for Qt5? This means QtWebKit needs and uses <span class="caps">ICU</span> on all platforms and so may not always properly fit in, whereas other system-provided WebKit ports may actually use the native api and so fit in better. Need to determine exactly what QtWebKit uses from <span class="caps">ICU</span> and whether current approach is still best. Also an issue that by using <span class="caps">ICU</span> for localization may get different results than QLocale may provide for the rest of the app.
</p><p>WebKit / QtWebKit has 4 copies of the <span class="caps">ICU</span> headers included in its source tree, used to build on Mac 10.4.
</p><p>WebKit / QtWebKit mostly uses the <span class="caps">ICU</span> C api, but does occasionally use the C++ api in port specific code.
</p><p>See <a rel="nofollow" class="external free" href="https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/eSiHBND2rAQ/X9LyMHImNjgJ">https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/eSiHBND2rAQ/X9LyMHImNjgJ</a> for an interesting discussion on using <span class="caps">ICU</span> in WebKit / Blink.
</p><p>Build appears to only link against core and i18n libraries. See bottom for detailed breakdown of <span class="caps">ICU</span> includes used in WebKit.
</p><p>QtWebKit is not permitted on iOS by the App Store rules, apps must use the native WebKit install. Therefore iOS does not need to be considered in any QtWebKit solution.
</p>
<h2><span class="mw-headline" id="Possible_solutions">Possible solutions</span></h2>
<p>It seems clear we cannot rely on the system <span class="caps">ICU</span> on Mac, and there is no system install on Windows, which swings the platform balance to 2 to 1 on devs having to build and ship <span class="caps">ICU</span> themselves. While forcing a self-build is extra work for devs, it does have the benefit of allowing us to use the C++ api.
</p><p>Practically, there are three options depending on what features we choose to use from <span class="caps">ICU</span>:<br /> 1) Only use <span class="caps">ICU</span> on Linux for the host system localization, use the host api on Mac and Windows, and don't provide any advanced features that are not common to all three api's. The same would apply to Code Tables.<br /> 2) Keep <span class="caps">ICU</span> optional on Win/Mac, use Win/Mac host system api wherever possible and only require <span class="caps">ICU</span> for optional advanced features when devs will be motivated to build and ship <span class="caps">ICU</span>.<br /> 3) Make <span class="caps">ICU</span> a hard requirement to be built and shipped by all devs on Mac and Windows, and require Linux devs to either build and ship themselves or use the system install and always rebuild Qt on system <span class="caps">ICU</span> upgrades.
</p><p>Choosing 1) denies advanced features and doesn't solve the QtWebKit issue. In either of 2) or 3) devs will be faced with the need to build and ship <span class="caps">ICU</span> themselves and we need to make this easy and lightweight for them. Shipping all of <span class="caps">ICU</span> inside qtbase/3rdparty with a default config is not desirable, but nor can we expect all devs to suddenly become experts on building <span class="caps">ICU</span>. We should provide a simple build script that configures and enables those features in <span class="caps">ICU</span> that Qt uses, and allow the devs to choose what locales and code tables to ship.
</p><p>One advantage of requiring our own copy of <span class="caps">ICU</span> is we can set a minimum version that has all the features we want to use on all platforms, and can use the C++ <span class="caps">API</span>.
</p>
<h3><span class="mw-headline" id="Localization">Localization</span></h3>
<p>The QTimeZone code provides a template for the solution. Keep the concept of a default system locale that uses the host facilities directly, but at compile time can determine if want to use <span class="caps">ICU</span> instead. This means maintaining more code but seems the only practical solution.
</p><p>On Linux: Use <span class="caps">ICU</span> for system and custom locale.<br /> On Mac: Use standard <span class="caps">API</span> for system and custom locale.<br /> On Windows: Work required to determine if sufficient functionality available for system locale, and if locale resource bundles can be opened for custom locales, otherwise will have to use <span class="caps">ICU</span>.
</p>
<h3><span class="mw-headline" id="Data_size_.2F_build">Data size / build</span></h3>
<p>A number of options are available to reduce the size of both the library and the data, by not building some features and reducing the data shipped for those features that are enabled.
</p><p>Work was started by Kai to determine what data resources were required and not required, but no results have been published.
</p><p>The data can be built in 2 ways:<br /> 1) The default is built as a shared data library that is linked to and loaded alongside the main <span class="caps">ICU</span> library. This library is generated from a copy of the data files in the source tree. This is the fastest option but means the library must be updated if the data is to be updated, and is not portable across platforms.<br /> 2) The shared data library is built as a stub and the data is loaded from a .dat file located in a defined directory. The .dat file is specific to a given major and minor release, but maintains BC for point releases and is portable across some platforms that have the same endianess.
</p><p>Data is mmapped so memory usage is not affected by how much data is shipped.
</p><p>Features can be disabled at build time by either editing the uconfig.h, uversion.h and utypes.h files, or more practically by passing -D flags.
</p><p>Data resources that are not required can be removed to reduce the download size. This is done at build time by either directly modifying the original .mk files, or more practically by saving the modified options in new reslocal.mk files which the <span class="caps">ICU</span> build system will then use to override the original settings. Another option is to manually use the online data customiser to build a custom .dat file, but this is a manual interactive process not easily automated and may be prone to human error.
</p><p>Most data is the mapping conversion tables, removing these will have the greatest effect. <span class="caps">ICU</span> notes "<span class="caps">ICU</span> provides full internationalization functionality without any conversion table data. The common library contains code to handle several important encodings algorithmically: US-<span class="caps">ASCII</span>, <span class="caps">ISO</span>-8859-1, <span class="caps">UTF</span>-7/8/16/32, <span class="caps">SCSU</span>, <span class="caps">BOCU</span>-1, <span class="caps">CESU</span>-8, and <span class="caps">IMAP</span>-mailbox-name (i.e., US-<span class="caps">ASCII</span>, <span class="caps">ISO</span>-8859-1, and all Unicode charsets; see source/data/mappings/convrtrs.txt for the current list)." As such even if Qt uses <span class="caps">ICU</span> for conversions we may not need all/any of the conversion tables.
</p><p>Locale data takes a small proportion, but may also be reduced by removing uncommon locales, or allowing devs to choose which they want.
</p><p>Collation data uses a significant amount of data. Removing the Asian collation files would greatly reduce this but is possibly undesirable. Another option is to remove the tailoring rule strings from which the data is built which are rarely used at runtime.
</p><p>Build sizes<br />
</p>
<table class="infotable line">
<tr>
<th> Build
</th>
<th> Disk Size
</th>
<th> Zipped Size
</th></tr>
<tr>
<td> Default full build, full data
</td>
<td> 26.5 MB
</td>
<td> 10.5 MB
</td></tr>
<tr>
<td> Core build, full data
</td>
<td> 25.9 MB
</td>
<td> 10.3 MB
</td></tr>
<tr>
<td> Core build, all locales, only en translations
</td>
<td> 11.2 MB
</td>
<td> 5.0 MB
</td></tr>
<tr>
<td> Core build, only en locale and translations
</td>
<td> 10.0 MB
</td>
<td> 4.6 MB
</td></tr></table>
<p>Core build excludes the optional I/O, Font Layout and Tool Utility libraries. Difference of 0.2 MB zipped size means little to be gained form code/functionality reductions, but other flags may further reduce size.
</p>
<table class="infotable line">
<tr>
<th> Library
</th>
<th> Linux Filename
</th>
<th> Linux Size
</th></tr>
<tr>
<td> Common Library
</td>
<td> libicuuc
</td>
<td> 1.8 MB
</td></tr>
<tr>
<td> i18n Library
</td>
<td> libicu18n
</td>
<td> 2.6 MB
</td></tr>
<tr>
<td> Data Library
</td>
<td> libicudata
</td>
<td> 21.3 MB
</td></tr>
<tr>
<td> I/O Library (optional)
</td>
<td> libicuio
</td>
<td> 66 KB
</td></tr>
<tr>
<td> Font Layout Library (optional)
</td>
<td> libicule
</td>
<td> 440 KB
</td></tr>
<tr>
<td> Font Layout Extension Library (optional)
</td>
<td> libiculx
</td>
<td> 66 KB
</td></tr>
<tr>
<td> Tool Utility Library (optional)
</td>
<td> libicutu
</td>
<td> 203 KB
</td></tr></table>
<table class="infotable line">
<tr>
<th> Data
</th>
<th> Disk Size
</th>
<th> Zipped Size
</th>
<th> Zipped&#160;%
</th></tr>
<tr>
<td> Total Data
</td>
<td> 21.3 MB
</td>
<td> 8.5 MB
</td>
<td> 100%
</td></tr>
<tr>
<td> Code Table Mappings
</td>
<td> 4.4
</td>
<td> 2.3
</td>
<td> 27%
</td></tr>
<tr>
<td> Collation Rules
</td>
<td> 3.3
</td>
<td> 0.8
</td>
<td> 9.5%
</td></tr>
<tr>
<td> Language &amp; Region Names
</td>
<td> 2.8
</td>
<td> 0.9
</td>
<td> 10.5%
</td></tr>
<tr>
<td> Time Zone Names
</td>
<td> 2.1
</td>
<td> 0.6
</td>
<td> 7%
</td></tr>
<tr>
<td> Currency Names &amp; Plurals
</td>
<td> 1.9
</td>
<td> 0.6
</td>
<td> 7%
</td></tr>
<tr>
<td> Locale Formats
</td>
<td> 1.2
</td>
<td> 0.4
</td>
<td> 5%
</td></tr>
<tr>
<td> Transliteration Rules and Names
</td>
<td> 0.6
</td>
<td> 0.2
</td>
<td> 2.4&#160;%
</td></tr>
<tr>
<td> Rule Based Number Formatting
</td>
<td> 0.3
</td>
<td> 0.1
</td>
<td> 1.2%
</td></tr>
<tr>
<td> String Preparation (<span class="caps">RFC</span>'s)
</td>
<td> 0.2
</td>
<td> 0.1
</td>
<td> 1.2%
</td></tr>
<tr>
<td> Root data?
</td>
<td> 4.5
</td>
<td> 2.5
</td>
<td> 29.5%
</td></tr></table>
<p>Proposal:<br /> 1) Include a new build script in qtbase/3rdparty/icu<br /> 2) Script is run as part of configure depending on platform and flags<br /> 3) Script downloads the src tarball recommended for a given version of Qt<br /> 4) Script defaults to building only those features used by Qt on a given platform and removes data resources that are not needed by most clients.<br /> 5) Script can either be manually modified to include or excluded more features and data, or can interactively ask during configure step.<br /> 6) Script writes modified data options to icu/src/data/*/reslocal.mk build files which override the main *.mk files<br /> 7) Script runs configure with build-time options required<br /> 8) Build happens as part of normal Qt build.
</p><p>Suggested flags from <span class="caps">ICU</span> readme:<br /> U_USING_ICU_NAMESPACE=0<br /> U_CHARSET_IS_UTF8=1 – On UTF8 platforms<br /><span class="caps">UNISTR</span>_FROM_CHAR_EXPLICIT=explicit<br /><span class="caps">UNISTR</span>_FROM_STRING_EXPLICIT=explicit<br /> U_NO_DEFAULT_INCLUDE_UTF_HEADERS=1<br /> U_HIDE_DRAFT_API<br /> U_HIDE_INTERNAL_API<br /> U_HIDE_SYSTEM_API<br /> —with-library-suffix – Add Qt as a suffix to name
</p><p>Other options available:<br /> —with-data-packaging=archive – To use .dat file instead<br /> —enable-static —disable-shared – For static builds
</p><p>See <a rel="nofollow" class="external free" href="http://thebugfreeblog.blogspot.co.uk/2013/05/cross-building-icu-for-applications-on.html">http://thebugfreeblog.blogspot.co.uk/2013/05/cross-building-icu-for-applications-on.html</a>
</p><p>export <span class="caps">CPPFLAGS</span>="-DU_USING_ICU_NAMESPACE=0 -DU_CHARSET_IS_UTF8=1 -<span class="caps">DUNISTR</span>_FROM_CHAR_EXPLICIT=explicit -<span class="caps">DUNISTR</span>_FROM_STRING_EXPLICIT=explicit -DU_NO_DEFAULT_INCLUDE_UTF_HEADERS=1"<br /> ./runConfigureICU Linux —with-library-suffix=qt —disable-draft —disable-extras —disable-icuio —disable-layout —disable-test —disable-samples
</p>
<h3><span class="mw-headline" id="QtWebKit_2">QtWebKit</span></h3>
<p>Two options:<br /> 1) Continue using <span class="caps">ICU</span>, use new QtCore built copy of <span class="caps">ICU</span>, assumes iOS will accept shipping extra copy of <span class="caps">ICU</span>.<br /> 2) Write new platform back-end using new Qt classes for locale and text layout, but this is a lot of work.
</p><p>Option 1) is the only practical solution until such time as QtCore can provide all the required functions. The locale functions will come as a result of the new QLocale <span class="caps">ICU</span> backend and wrapper classes, and as the design matches <span class="caps">ICU</span> closely should be straightforward to implement. The difficulty of the text layout and encoding back-ends is an open question.
</p>
<h2><span class="mw-headline" id="ICU_includes_in_QtWebKit"><span class="caps">ICU</span> includes in QtWebKit</span></h2>
<p><span class="caps">ICU</span> Backend in qtwebkit/Source/WebCore/platform/text/<br /> LineBreakIteratorPoolICU.h<br /> LocaleICU.h/.cpp<br /> LocaleToScriptMappingICU.cpp<br /> TextBreakIteratorICU.h/.cpp<br /> TextCodecICU.h/.cpp<br /> TextEncodingDetector.cpp
</p><p><span class="caps">ICU</span> Backend in Source/WTF/wtf/:<br /> url/src/URLCanonICU.cpp<br /> unicode/icu/UnicodeIcu.h<br /> unicode/icu/CollatorICU.cpp<br /> unicode/qt4/UnicodeQt4.h
</p><p>All <span class="caps">ICU</span> includes used in QtWebKit source tree, not all are built by Qt port:<br />
</p>
<table class="infotable line">
<tr>
<th> Include
</th>
<th> Language
</th>
<th> Function
</th>
<th> Used in WebKit By
</th></tr>
<tr>
<td> &lt;unicode/locid.h&gt;
</td>
<td> C++
</td>
<td> Locale
</td>
<td> skia, chromium
</td></tr>
<tr>
<td> &lt;unicode/normlzr.h&gt;
</td>
<td> C++
</td>
<td> Normalization
</td>
<td> freetype, harfbuzz, skia
</td></tr>
<tr>
<td> &lt;unicode/uniset.h&gt;
</td>
<td> C++
</td>
<td> Sets of Unicode Code Points and Strings
</td>
<td> chromium
</td></tr>
<tr>
<td> &lt;unicode/ubrk.h&gt;
</td>
<td> C
</td>
<td> Text Boundary Analysis (Break Iteration)
</td>
<td> text
</td></tr>
<tr>
<td> &lt;unicode/uchar.h&gt;
</td>
<td> C
</td>
<td> Unicode Character Properties and Names
</td>
<td> win, harfbuzz, wx, chromium, wtf
</td></tr>
<tr>
<td> &lt;unicode/ucnv_cb.h&gt;
</td>
<td> C
</td>
<td> Codepage Conversion and Unicode Text Compression
</td>
<td> text, wtf
</td></tr>
<tr>
<td> &lt;unicode/ucnv.h&gt;
</td>
<td> C
</td>
<td> Codepage Conversion and Unicode Text Compression
</td>
<td> text, wtf
</td></tr>
<tr>
<td> &lt;unicode/udat.h&gt;
</td>
<td> C
</td>
<td> Date api
</td>
<td> JavaScriptCore/runtime, text
</td></tr>
<tr>
<td> &lt;unicode/udatpg.h&gt;
</td>
<td> C
</td>
<td> Date Pattern Generator
</td>
<td> text
</td></tr>
<tr>
<td> &lt;unicode/uidna.h&gt;
</td>
<td> C
</td>
<td> International Domain Names in Applications
</td>
<td> WebCore/platform/KURL.cpp, wtf
</td></tr>
<tr>
<td> &lt;unicode/uloc.h&gt;
</td>
<td> C
</td>
<td> Locales
</td>
<td> text
</td></tr>
<tr>
<td> &lt;unicode/unorm.h&gt;
</td>
<td> C
</td>
<td> Normalization
</td>
<td> graphics/SurrogatePairAwareTextIterator.cpp, win, wx, chromium, text
</td></tr>
<tr>
<td> &lt;unicode/unum.h&gt;
</td>
<td> C
</td>
<td> Number Formatting
</td>
<td> text
</td></tr>
<tr>
<td> &lt;unicode/uscript.h&gt;
</td>
<td> C
</td>
<td> Unicode Character Properties and Names
</td>
<td> chromium, wtf
</td></tr>
<tr>
<td> &lt;unicode/usearch.h&gt;
</td>
<td> C
</td>
<td> String Searching
</td>
<td> WebCore/editing
</td></tr>
<tr>
<td> &lt;unicode/uset.h&gt;
</td>
<td> C
</td>
<td> Sets of Unicode Code Points and Strings
</td>
<td> WebCore/editing
</td></tr>
<tr>
<td> &lt;unicode/ustring.h&gt;
</td>
<td> C
</td>
<td> Strings and Character Iteration
</td>
<td> blackberry, wtf
</td></tr>
<tr>
<td> &lt;unicode/utf16.h&gt;
</td>
<td> C
</td>
<td> Strings and Character Iteration
</td>
<td> blackberry, wx, linux, wtf
</td></tr>
<tr>
<td> &lt;unicode/utypes.h&gt;
</td>
<td> C
</td>
<td> Basic Types and Constants
</td>
<td> text
</td></tr></table>
<h2><span class="mw-headline" id="ICU_Documentation"><span class="caps">ICU</span> Documentation</span></h2>
<p><a rel="nofollow" class="external free" href="http://site.icu-project.org/charts/charset">http://site.icu-project.org/charts/charset</a><br /><a rel="nofollow" class="external free" href="http://site.icu-project.org/charts/icu4c-footprint">http://site.icu-project.org/charts/icu4c-footprint</a><br /><a rel="nofollow" class="external free" href="http://userguide.icu-project.org/packaging">http://userguide.icu-project.org/packaging</a><br /><a rel="nofollow" class="external free" href="http://userguide.icu-project.org/design">http://userguide.icu-project.org/design</a><br /><a rel="nofollow" class="external free" href="http://userguide.icu-project.org/design#TOC-">http://userguide.icu-project.org/design#TOC-</a><span class="caps">ICU</span>-Binary-Compatibility:-Using-<span class="caps">ICU</span>-as-an-Operating-System-Level-Library<br /><a rel="nofollow" class="external free" href="http://userguide.icu-project.org/icudata">http://userguide.icu-project.org/icudata</a><br /><a rel="nofollow" class="external free" href="http://apps.icu-project.org/datacustom/">http://apps.icu-project.org/datacustom/</a><br /><a rel="nofollow" class="external free" href="http://www.icu-project.org/docs/demo/datacustom_help.html">http://www.icu-project.org/docs/demo/datacustom_help.html</a><br /><a rel="nofollow" class="external free" href="http://source.icu-project.org/repos/icu/icu/trunk/readme.html">http://source.icu-project.org/repos/icu/icu/trunk/readme.html</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.081 seconds
Real time usage: 0.083 seconds
Preprocessor visited node count: 317/1000000
Preprocessor generated node count: 592/1000000
Post‐expand include size: 1344/2097152 bytes
Template argument size: 431/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:2266-0!*!0!!en!*!* and timestamp 20151105123038 and revision id 19328
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="index0156.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;oldid=19328">http://wiki.qt.io/index.php?title=Qt-contributors-summit-2013-Qt_ICU&amp;oldid=19328</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Articles_needing_cleanup.html" title="Category:Articles needing cleanup">Articles needing cleanup</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=7e7b37aa5117d5c0&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Qt-contributors-summit-2013-Qt_ICU.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="Talk_Qt-contributors-summit-2013-Qt_ICU.html?title=Talk:Qt-contributors-summit-2013-Qt_ICU&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Qt-contributors-summit-2013-Qt_ICU.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="index53b6.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="index97f5.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Qt-contributors-summit-2013-Qt_ICU.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Qt-contributors-summit-2013-Qt_ICU.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="index9066.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="index0156.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;oldid=19328" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="indexc9ad-3.html?title=Qt-contributors-summit-2013-Qt_ICU&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 23 August 2015, at 13:25.</li>
											<li id="footer-info-viewcount">This page has been accessed 996 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load55ad.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":3437});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/Qt-contributors-summit-2013-Qt_ICU by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 13:39:00 GMT -->
</html>
