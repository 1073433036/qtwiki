<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&oldid=14998 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:08:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Multi-selection-lists-in-Python-with-QML - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Multi-selection-lists-in-Python-with-QML","wgTitle":"Multi-selection-lists-in-Python-with-QML","wgCurRevisionId":14998,"wgRevisionId":14998,"wgArticleId":1156,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["LanguageBindings::PySide","Snippets","Developing with Qt::Qt Quick","Developing with Qt::Qt Quick::QML","Developing with Qt::Qt Quick::Tutorial"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Multi-selection-lists-in-Python-with-QML","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Multi-selection-lists-in-Python-with-QML skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Multi-selection-lists-in-Python-with-QML</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><div id="mw-revision-info">Revision as of 08:29, 26 March 2015 by <a href="http://wiki.qt.io/index.php?title=User:Henri_Vikki&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Henri Vikki (page does not exist)">Henri Vikki</a>  <span class="mw-usertoollinks">(<a href="http://wiki.qt.io/index.php?title=User_talk:Henri_Vikki&amp;action=edit&amp;redlink=1" class="new" title="User talk:Henri Vikki (page does not exist)">Talk</a> | <a href="http://wiki.qt.io/Special:Contributions/Henri_Vikki" title="Special:Contributions/Henri Vikki">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;diff=prev&amp;oldid=14998" title="Multi-selection-lists-in-Python-with-QML">diff</a>) <a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;direction=prev&amp;oldid=14998" title="Multi-selection-lists-in-Python-with-QML">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><br />
</p><p><br />
</p><p>This is an extension of the <a href="http://wiki.qt.io/Selectable-list-of-Python-objects-in-QML" title="Selectable-list-of-Python-objects-in-QML">Selectable list of Python objects in QML</a> and focuses more on modifying the list and getting selected items out of the QML view.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#MultiList.py"><span class="tocnumber">1</span> <span class="toctext">MultiList.py</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Encoding_declaration_and_module_docstring"><span class="tocnumber">1.1</span> <span class="toctext">Encoding declaration and module docstring</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Imports"><span class="tocnumber">1.2</span> <span class="toctext">Imports</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#QObject_wrapper_with_.22checked.22_property"><span class="tocnumber">1.3</span> <span class="toctext">QObject wrapper with "checked" property</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#List_model.2C_with_helper_to_get_checked_items"><span class="tocnumber">1.4</span> <span class="toctext">List model, with helper to get checked items</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Controller_for_toggling_and_retrieving_changes"><span class="tocnumber">1.5</span> <span class="toctext">Controller for toggling and retrieving changes</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Model_and_controller_setup"><span class="tocnumber">1.6</span> <span class="toctext">Model and controller setup</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#QApplication_.2F_QDeclarativeView_.2B_Glue_code"><span class="tocnumber">1.7</span> <span class="toctext">QApplication / QDeclarativeView + Glue code</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#MultiList.qml"><span class="tocnumber">2</span> <span class="toctext">MultiList.qml</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#How_the_example_app_looks"><span class="tocnumber">3</span> <span class="toctext">How the example app looks</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="MultiList.py">MultiList.py</span></h2>
<p>This is the Python code that takes care of setting up the model and controlling it.
</p>
<h3><span class="mw-headline" id="Encoding_declaration_and_module_docstring">Encoding declaration and module docstring</span></h3>
<p>We can use the docstring as window title later on (using <i><b>doc</b></i>):
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2"># -*- coding: utf-8 -*-</span>
&#160;
<span class="st0">&quot;&quot;</span><span class="st0">&quot;Click-your-Zen of PySide&quot;</span><span class="st0">&quot;&quot;</span></pre></div></div>
<h3><span class="mw-headline" id="Imports">Imports</span></h3>
<p>We need <b>sys</b> for the command line arguments and we need <b>this</b> for some free sample data:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">import sys
import <span class="kw1">this</span>
&#160;
from PySide import <span class="kw5">QtCore</span>
from PySide import <span class="kw5">QtGui</span>
from PySide import QtDeclarative</pre></div></div>
<h3><span class="mw-headline" id="QObject_wrapper_with_.22checked.22_property">QObject wrapper with "checked" property</span></h3>
<p>Just as with the previous example, we now define a wrapper object. The difference here is that it has a "checked" property and a convenience method for toggling the property (don't forget that you need to <b>emit</b> the "changed" signal, otherwise QML would not know that something has changed!).
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> ZenWrapper<span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="br0">&#41;</span><span class="sy0">:</span>
 def <span class="st0">''</span>init<span class="st0">''</span><span class="br0">&#40;</span>self<span class="sy0">,</span> zenItem<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw5">QtCore</span>.<span class="kw5">QObject</span>.<span class="st0">''</span>init<span class="st0">''</span><span class="br0">&#40;</span>self<span class="br0">&#41;</span>
 self._zenItem <span class="sy0">=</span> zenItem
 self._checked <span class="sy0">=</span> False
&#160;
def _name<span class="br0">&#40;</span>self<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> self._zenItem
&#160;
def is_checked<span class="br0">&#40;</span>self<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> self._checked
&#160;
def toggle_checked<span class="br0">&#40;</span>self<span class="br0">&#41;</span><span class="sy0">:</span>
 self._checked <span class="sy0">=</span> not self._checked
 self.<span class="me1">changed</span>.<span class="me1">emit</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
changed <span class="sy0">=</span> <span class="kw5">QtCore</span>.<span class="me1">Signal</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
name <span class="sy0">=</span> <span class="kw5">QtCore</span>.<span class="me1">Property</span><span class="br0">&#40;</span>unicode<span class="sy0">,</span> <span class="st0">''</span>name<span class="sy0">,</span> notify<span class="sy0">=</span>changed<span class="br0">&#41;</span>
 checked <span class="sy0">=</span> <span class="kw5">QtCore</span>.<span class="me1">Property</span><span class="br0">&#40;</span><span class="kw4">bool</span><span class="sy0">,</span> is_checked<span class="sy0">,</span> notify<span class="sy0">=</span>changed<span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="List_model.2C_with_helper_to_get_checked_items">List model, with helper to get checked items</span></h3>
<p>This is again mostly the same as in the previous example, but we add a new helper method <b>checked</b> that takes care of retrieving all the checked items from the zenItems list:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> ZenListModel<span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QAbstractListModel</span><span class="br0">&#41;</span><span class="sy0">:</span>
 definit<span class="sy0">&lt;</span>span <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;zenItems self,&quot;</span><span class="sy0">&gt;:</span>
 <span class="kw5">QtCore</span>.<span class="kw5">QAbstractListModel</span>.<span class="sy0">&lt;/</span>span<span class="sy0">&gt;</span>init<span class="st0">''</span>_<span class="br0">&#40;</span>self<span class="br0">&#41;</span>
 self._zenItems <span class="sy0">=</span> zenItems
 self.<span class="me1">setRoleNames</span><span class="br0">&#40;</span><span class="br0">&#123;</span><span class="nu0">0</span><span class="sy0">:</span> <span class="st0">'zenItem'</span><span class="br0">&#125;</span><span class="br0">&#41;</span>
&#160;
def rowCount<span class="br0">&#40;</span>self<span class="sy0">,</span> parent<span class="sy0">=</span><span class="kw5">QtCore</span>.<span class="kw5">QModelIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> len<span class="br0">&#40;</span>self._zenItems<span class="br0">&#41;</span>
&#160;
def checked<span class="br0">&#40;</span>self<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> <span class="br0">&#91;</span>x <span class="kw1">for</span> x in self._zenItems <span class="kw1">if</span> x.<span class="me1">checked</span><span class="br0">&#93;</span>
&#160;
def data<span class="br0">&#40;</span>self<span class="sy0">,</span> index<span class="sy0">,</span> role<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">if</span> index.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span> and role <span class="sy0">==</span> <span class="nu0">0</span><span class="sy0">:</span>
 <span class="kw1">return</span> self.<span class="st0">''</span>zenItems<span class="br0">&#91;</span>index.<span class="me1">row</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#93;</span></pre></div></div>
<h3><span class="mw-headline" id="Controller_for_toggling_and_retrieving_changes">Controller for toggling and retrieving changes</span></h3>
<p>This controller provides a <b>toggled</b> slot that will be called by QML when we click on an item. We toggle the checked state of the item and (for the sake of demonstration) get the list of currently-checked items and print it on the console. We also set the window title to show the amount of currently selected items:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> Controller<span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="br0">&#41;</span><span class="sy0">:</span>
 @<span class="kw5">QtCore</span>.<span class="me1">Slot</span><span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="sy0">,</span> <span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="br0">&#41;</span>
 def toggled<span class="br0">&#40;</span>self<span class="sy0">,</span> model<span class="sy0">,</span> wrapper<span class="br0">&#41;</span><span class="sy0">:</span>
 global view<span class="sy0">,</span>doc<span class="st0">''</span>_
 wrapper.<span class="me1">toggle_checked</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 new_list <span class="sy0">=</span> model.<span class="me1">checked</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
 print <span class="st0">'='</span><span class="sy0">*</span><span class="nu0">20</span><span class="sy0">,</span> <span class="st0">'New List'</span><span class="sy0">,</span> <span class="st0">'='</span><span class="sy0">*</span><span class="nu0">20</span>
 print <span class="st0">''</span>.<span class="me1">join</span><span class="br0">&#40;</span>x.<span class="me1">name</span> <span class="kw1">for</span> x in new_list<span class="br0">&#41;</span>
 view.<span class="me1">setWindowTitle</span><span class="br0">&#40;</span><span class="st0">'%s (d)'</span> <span class="br0">&#40;</span><span class="st0">''</span>doc<span class="st0">''</span><span class="sy0">,</span> len<span class="br0">&#40;</span>new_list<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="Model_and_controller_setup">Model and controller setup</span></h3>
<p>Here we generate some example data and instantiate the controller and the list model:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">zenItems <span class="sy0">=</span> <span class="br0">&#91;</span>ZenWrapper<span class="br0">&#40;</span>zenItem<span class="br0">&#41;</span> <span class="kw1">for</span> zenItem in  <span class="st0">''</span>.<span class="me1">join</span><span class="br0">&#40;</span><span class="br0">&#91;</span><span class="kw1">this</span>.<span class="me1">d</span>.<span class="me1">get</span><span class="br0">&#40;</span>c<span class="sy0">,</span> c<span class="br0">&#41;</span> <span class="kw1">for</span> c in  <span class="kw1">this</span>.<span class="me1">s</span><span class="br0">&#93;</span><span class="br0">&#41;</span>.<span class="me1">splitlines</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span><span class="nu0">2</span><span class="sy0">:</span><span class="br0">&#93;</span><span class="br0">&#93;</span>
&#160;
controller <span class="sy0">=</span> Controller<span class="br0">&#40;</span><span class="br0">&#41;</span>
zenItemList <span class="sy0">=</span> ZenListModel<span class="br0">&#40;</span>zenItems<span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="QApplication_.2F_QDeclarativeView_.2B_Glue_code">QApplication / QDeclarativeView + Glue code</span></h3>
<p>This piece of code creates a new QApplication instance, a new QDeclarativeView and also exposes the controller and the list model to the QML environment, so it can be accessed from there:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">app <span class="sy0">=</span> <span class="kw5">QtGui</span>.<span class="kw5">QApplication</span><span class="br0">&#40;</span>sys.<span class="me1">argv</span><span class="br0">&#41;</span>
&#160;
view <span class="sy0">=</span> QtDeclarative.<span class="me1">QDeclarativeView</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
view.<span class="me1">setWindowTitle</span><span class="br0">&#40;</span><span class="st0">''</span>doc<span class="st0">''</span><span class="br0">&#41;</span>
view.<span class="me1">setResizeMode</span><span class="br0">&#40;</span>QtDeclarative.<span class="me1">QDeclarativeView</span>.<span class="me1">SizeRootObjectToView</span><span class="br0">&#41;</span>
&#160;
rc <span class="sy0">=</span> view.<span class="me1">rootContext</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
rc.<span class="me1">setContextProperty</span><span class="br0">&#40;</span><span class="st0">'controller'</span><span class="sy0">,</span> controller<span class="br0">&#41;</span>
rc.<span class="me1">setContextProperty</span><span class="br0">&#40;</span><span class="st0">'pythonListModel'</span><span class="sy0">,</span> zenItemList<span class="br0">&#41;</span>
view.<span class="me1">setSource</span><span class="br0">&#40;</span><span class="st0">''</span>file<span class="st0">''</span>.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">'.py'</span><span class="sy0">,</span> <span class="st0">'.qml'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
&#160;
view.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
app.<span class="me1">exec_</span><span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>
<h2><span class="mw-headline" id="MultiList.qml">MultiList.qml</span></h2>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">import <span class="kw5">Qt</span> <span class="nu16">4.7</span>
&#160;
ListView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> pythonList
 width<span class="sy0">:</span> <span class="nu0">300</span>
 height<span class="sy0">:</span> <span class="nu0">500</span>
 model<span class="sy0">:</span> pythonListModel
&#160;
delegate<span class="sy0">:</span> Component <span class="br0">&#123;</span>
 Rectangle <span class="br0">&#123;</span>
 width<span class="sy0">:</span> pythonList.<span class="me1">width</span>
 height<span class="sy0">:</span> <span class="nu0">30</span>
 color<span class="sy0">:</span> model.<span class="me1">zenItem</span>.<span class="me1">checked</span>?<span class="st0">&quot;#00B8F5&quot;</span><span class="sy0">:</span><span class="br0">&#40;</span>index<span class="sy0">%</span><span class="nu19">2</span>?<span class="st0">&quot;#eee&quot;</span><span class="sy0">:</span><span class="st0">&quot;#ddd&quot;</span><span class="br0">&#41;</span>
 Text <span class="br0">&#123;</span>
 elide<span class="sy0">:</span> Text.<span class="me1">ElideRight</span>
 text<span class="sy0">:</span> model.<span class="me1">zenItem</span>.<span class="me1">name</span>
 color<span class="sy0">:</span> <span class="br0">&#40;</span>model.<span class="me1">zenItem</span>.<span class="me1">checked</span>?<span class="st0">&quot;white&quot;</span><span class="sy0">:</span><span class="st0">&quot;black&quot;</span><span class="br0">&#41;</span>
 anchors <span class="br0">&#123;</span>
 verticalCenter<span class="sy0">:</span> parent.<span class="me1">verticalCenter</span>
 left<span class="sy0">:</span> parent.<span class="me1">left</span>
 right<span class="sy0">:</span> <span class="br0">&#40;</span>model.<span class="me1">zenItem</span>.<span class="me1">checked</span>?checkbox.<span class="me1">left</span><span class="sy0">:</span>parent.<span class="me1">right</span><span class="br0">&#41;</span>
 leftMargin<span class="sy0">:</span> <span class="nu0">5</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 Text <span class="br0">&#123;</span>
 id<span class="sy0">:</span> checkbox
 text<span class="sy0">:</span> <span class="st0">&quot;✔&quot;</span>
 font.<span class="me1">pixelSize</span><span class="sy0">:</span> parent.<span class="me1">height</span>
 font.<span class="me1">bold</span><span class="sy0">:</span> <span class="kw2">true</span>
 visible<span class="sy0">:</span> model.<span class="me1">zenItem</span>.<span class="me1">checked</span>
 color<span class="sy0">:</span> <span class="st0">&quot;white&quot;</span>
 anchors <span class="br0">&#123;</span>
 verticalCenter<span class="sy0">:</span> parent.<span class="me1">verticalCenter</span>
 right<span class="sy0">:</span> parent.<span class="me1">right</span>
 rightMargin<span class="sy0">:</span> <span class="nu0">5</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 MouseArea <span class="br0">&#123;</span>
 anchors.<span class="me1">fill</span><span class="sy0">:</span> parent
 onClicked<span class="sy0">:</span> <span class="br0">&#123;</span> controller.<span class="me1">toggled</span><span class="br0">&#40;</span>pythonListModel<span class="sy0">,</span> model.<span class="me1">zenItem</span><span class="br0">&#41;</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<h2><span class="mw-headline" id="How_the_example_app_looks">How the example app looks</span></h2>
<p>Starting the app using <b>python MultiList.py</b> should give something like this:
</p><p><a href="http://wiki.qt.io/File:Screenshotmulti.jpg" class="image"><img alt="Screenshotmulti.jpg" src="http://wiki.qt.io/images/5/5f/Screenshotmulti.jpg" width="500" height="474" /></a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.158 seconds
Real time usage: 0.391 seconds
Preprocessor visited node count: 111/1000000
Preprocessor generated node count: 204/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1156-0!*!0!!en!2!* and timestamp 20151104125119 and revision id 14998
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;oldid=14998">http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;oldid=14998</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.qt.io/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://wiki.qt.io/Category:LanguageBindings::PySide" title="Category:LanguageBindings::PySide">LanguageBindings::PySide</a></li><li><a href="http://wiki.qt.io/Category:Snippets" title="Category:Snippets">Snippets</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick" title="Category:Developing with Qt::Qt Quick">Developing with Qt::Qt Quick</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick::QML" title="Category:Developing with Qt::Qt Quick::QML">Developing with Qt::Qt Quick::QML</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick::Tutorial" title="Category:Developing with Qt::Qt Quick::Tutorial">Developing with Qt::Qt Quick::Tutorial</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Multi-selection-lists-in-Python-with-QML" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Multi-selection-lists-in-Python-with-QML"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Multi-selection-lists-in-Python-with-QML&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://wiki.qt.io/Multi-selection-lists-in-Python-with-QML" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Multi-selection-lists-in-Python-with-QML" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Multi-selection-lists-in-Python-with-QML" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;oldid=14998&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;oldid=14998" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 26 March 2015, at 08:29.</li>
											<li id="footer-info-viewcount">This page has been accessed 1,278 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":250});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Multi-selection-lists-in-Python-with-QML&oldid=14998 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:08:28 GMT -->
</html>
