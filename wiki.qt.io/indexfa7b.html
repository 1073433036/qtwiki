<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&oldid=15092 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:09:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Selectable-list-of-Python-objects-in-QML - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Selectable-list-of-Python-objects-in-QML","wgTitle":"Selectable-list-of-Python-objects-in-QML","wgCurRevisionId":15092,"wgRevisionId":15092,"wgArticleId":1944,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["LanguageBindings::PySide","Snippets","Developing with Qt::Qt Quick","Developing with Qt::Qt Quick::QML","Developing with Qt::Qt Quick::Tutorial"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Selectable-list-of-Python-objects-in-QML","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Selectable-list-of-Python-objects-in-QML skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Selectable-list-of-Python-objects-in-QML</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><div id="mw-revision-info">Revision as of 07:21, 27 March 2015 by <a href="http://wiki.qt.io/index.php?title=User:Henri_Vikki&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Henri Vikki (page does not exist)">Henri Vikki</a>  <span class="mw-usertoollinks">(<a href="http://wiki.qt.io/index.php?title=User_talk:Henri_Vikki&amp;action=edit&amp;redlink=1" class="new" title="User talk:Henri Vikki (page does not exist)">Talk</a> | <a href="http://wiki.qt.io/Special:Contributions/Henri_Vikki" title="Special:Contributions/Henri Vikki">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;diff=prev&amp;oldid=15092" title="Selectable-list-of-Python-objects-in-QML">diff</a>) <a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;direction=prev&amp;oldid=15092" title="Selectable-list-of-Python-objects-in-QML">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><br />
</p><p><br />
This <a href="http://wiki.qt.io/PySide" title="PySide" class="mw-redirect">PySide</a> code example shows you how to display a list of arbitrary Python objects in <a href="http://wiki.qt.io/QML" title="QML" class="mw-redirect">QML</a> and to get the "real" Python object in a callback when the user clicks on a list item. This is done by wrapping the Python objects inside a QObject. Of course, if you are developing a new application, you can create your model entity objects directly as QObject subclasses, but for adding a QML UI on top of existing Python code, this should be very useful.
</p><p>This example consists of two files:
</p>
<ul>
<li> <b>PythonList.py</b> - Our Python code
</li>
<li> <b>PythonList.qml</b> - The corresponding QML UI
</li>
</ul>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#PythonList.py"><span class="tocnumber">1</span> <span class="toctext">PythonList.py</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Import_the_required_modules"><span class="tocnumber">1.1</span> <span class="toctext">Import the required modules</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Define_a_simple_QObject_wrapper"><span class="tocnumber">1.2</span> <span class="toctext">Define a simple QObject wrapper</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Define_your_list_model_for_your_objects"><span class="tocnumber">1.3</span> <span class="toctext">Define your list model for your objects</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Create_a_controller_for_receiving_events"><span class="tocnumber">1.4</span> <span class="toctext">Create a controller for receiving events</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Set_up_the_QDeclarativeView"><span class="tocnumber">1.5</span> <span class="toctext">Set up the QDeclarativeView</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Your_custom_Python_object"><span class="tocnumber">1.6</span> <span class="toctext">Your custom Python object</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Wrap_your_custom_objects_in_QObjects"><span class="tocnumber">1.7</span> <span class="toctext">Wrap your custom objects in QObjects</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Connect_the_controller.2C_the_model_and_load_the_QML_file"><span class="tocnumber">1.8</span> <span class="toctext">Connect the controller, the model and load the QML file</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Show_the_window_and_start_the_application"><span class="tocnumber">1.9</span> <span class="toctext">Show the window and start the application</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#PythonList.qml"><span class="tocnumber">2</span> <span class="toctext">PythonList.qml</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Starting_the_example"><span class="tocnumber">3</span> <span class="toctext">Starting the example</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="PythonList.py">PythonList.py</span></h2>
<p>This is the main module. After finishing writing it, you can start it using <b>python PythonList.py</b>
</p>
<h3><span class="mw-headline" id="Import_the_required_modules">Import the required modules</span></h3>
<p>This is pretty straightforward. If you don't have OpenGL support on your target platform (or you don't want to use OpenGL-accelerated QML), simply remove the line <b>from PySide import QtOpenGL</b>.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">import sys
&#160;
from PySide import <span class="kw5">QtCore</span>
from PySide import <span class="kw5">QtGui</span>
from PySide import QtDeclarative
from PySide import <span class="kw5">QtOpenGL</span></pre></div></div>
<h3><span class="mw-headline" id="Define_a_simple_QObject_wrapper">Define a simple QObject wrapper</span></h3>
<p>Create a new QObject subclass that gets your custom Python object (called "thing" in this example) as constructor parameter. You can then define different properties (QtCore.Property) for all the parts of the thing that you want to show in the UI. You will use these property names to access attributes of your object in QML later.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> ThingWrapper<span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="br0">&#41;</span><span class="sy0">:</span>
 def <span class="st0">''</span>init<span class="st0">''</span><span class="br0">&#40;</span>self<span class="sy0">,</span> thing<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw5">QtCore</span>.<span class="kw5">QObject</span>.<span class="st0">''</span>init<span class="st0">''</span><span class="br0">&#40;</span>self<span class="br0">&#41;</span>
 self._thing <span class="sy0">=</span> thing
&#160;
def _name<span class="br0">&#40;</span>self<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> str<span class="br0">&#40;</span>self._thing<span class="br0">&#41;</span>
&#160;
changed <span class="sy0">=</span> <span class="kw5">QtCore</span>.<span class="me1">Signal</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
name <span class="sy0">=</span> <span class="kw5">QtCore</span>.<span class="me1">Property</span><span class="br0">&#40;</span>unicode<span class="sy0">,</span> <span class="st0">''</span>name<span class="sy0">,</span> notify<span class="sy0">=</span>changed<span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="Define_your_list_model_for_your_objects">Define your list model for your objects</span></h3>
<p>You can subclass QAbstractListModel and implement the required methods to provide a proper data model to QML's ListView. Theoretically, you could have multiple columns, but for simplicity, we just use one here, and then access the different attributes of our objects (one object per "row"). The list model here gets a list of (wrapped) "things" as constructor parameter. You could also generate objects on the fly if you want, just make sure that you return the proper value in the <b>rowCount</b> function.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> ThingListModel<span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QAbstractListModel</span><span class="br0">&#41;</span><span class="sy0">:</span>
 COLUMNS <span class="sy0">=</span> <span class="br0">&#40;</span><span class="st0">'thing'</span><span class="sy0">,</span><span class="br0">&#41;</span>
&#160;
 definit<span class="sy0">&lt;</span>span <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;things self,&quot;</span><span class="sy0">&gt;:</span>
 <span class="kw5">QtCore</span>.<span class="kw5">QAbstractListModel</span>.<span class="sy0">&lt;/</span>span<span class="sy0">&gt;</span>init<span class="st0">''</span>_<span class="br0">&#40;</span>self<span class="br0">&#41;</span>
 self._things <span class="sy0">=</span> things
 self.<span class="me1">setRoleNames</span><span class="br0">&#40;</span>dict<span class="br0">&#40;</span>enumerate<span class="br0">&#40;</span>ThingListModel.<span class="me1">COLUMNS</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
&#160;
def rowCount<span class="br0">&#40;</span>self<span class="sy0">,</span> parent<span class="sy0">=</span><span class="kw5">QtCore</span>.<span class="kw5">QModelIndex</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> len<span class="br0">&#40;</span>self._things<span class="br0">&#41;</span>
&#160;
def data<span class="br0">&#40;</span>self<span class="sy0">,</span> index<span class="sy0">,</span> role<span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">if</span> index.<span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span> and role <span class="sy0">==</span> ThingListModel.<span class="me1">COLUMNS</span>.<span class="me1">index</span><span class="br0">&#40;</span><span class="st0">'thing'</span><span class="br0">&#41;</span><span class="sy0">:</span>
 <span class="kw1">return</span> self._things<span class="br0">&#91;</span>index.<span class="me1">row</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#93;</span>
 <span class="kw1">return</span> None</pre></div></div>
<h3><span class="mw-headline" id="Create_a_controller_for_receiving_events">Create a controller for receiving events</span></h3>
<p>For receiving events from QML, there are several possiblities. We simply create another QObject subclass and give it a Slot with one parameter (the wrapper object in the selected row). We pass the wrapper object from QML, and arrive at this point in the "Python world" and can do whatever we want with the object the user has selected.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> Controller<span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="br0">&#41;</span><span class="sy0">:</span>
 @<span class="kw5">QtCore</span>.<span class="me1">Slot</span><span class="br0">&#40;</span><span class="kw5">QtCore</span>.<span class="kw5">QObject</span><span class="br0">&#41;</span>
 def thingSelected<span class="br0">&#40;</span>self<span class="sy0">,</span> wrapper<span class="br0">&#41;</span><span class="sy0">:</span>
 print <span class="st0">'User clicked on:'</span><span class="sy0">,</span> wrapper._thing.<span class="me1">name</span>
 <span class="kw1">if</span> wrapper.<span class="st0">''</span>thing.<span class="me1">number</span> <span class="sy0">&gt;</span> <span class="nu0">10</span><span class="sy0">:</span>
 print <span class="st0">'The number is greater than ten!'</span></pre></div></div>
<h3><span class="mw-headline" id="Set_up_the_QDeclarativeView">Set up the QDeclarativeView</span></h3>
<p>Here follows some generic boilerplate code for setting up the basic QApplication, QMainWindow and QDeclarativeView object tree to display QML. If you don't want to use OpenGL acceleration, remove the lines <b>glw = QtOpenGL.QGLWidget()</b> and <b>view.setViewport(glw)</b>.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">app <span class="sy0">=</span> <span class="kw5">QtGui</span>.<span class="kw5">QApplication</span><span class="br0">&#40;</span>sys.<span class="me1">argv</span><span class="br0">&#41;</span>
&#160;
m <span class="sy0">=</span> <span class="kw5">QtGui</span>.<span class="kw5">QMainWindow</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
view <span class="sy0">=</span> QtDeclarative.<span class="me1">QDeclarativeView</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
glw <span class="sy0">=</span> <span class="kw5">QtOpenGL</span>.<span class="kw5">QGLWidget</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
view.<span class="me1">setViewport</span><span class="br0">&#40;</span>glw<span class="br0">&#41;</span>
view.<span class="me1">setResizeMode</span><span class="br0">&#40;</span>QtDeclarative.<span class="me1">QDeclarativeView</span>.<span class="me1">SizeRootObjectToView</span><span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="Your_custom_Python_object">Your custom Python object</span></h3>
<p>In an existing project, you would simply import your data model module and be done with it. Here, we create a dummy Person object (note that it is a pure Python object and does not know anything about QObject or PySide!) and some example data:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> Person<span class="br0">&#40;</span>object<span class="br0">&#41;</span><span class="sy0">:</span>
 definit<span class="sy0">&lt;</span>span <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;number name, self,&quot;</span><span class="sy0">&gt;:</span>
 self.<span class="me1">name</span> <span class="sy0">=</span> name
 self.<span class="me1">number</span> <span class="sy0">=</span> number
&#160;
 def<span class="sy0">&lt;/</span>span<span class="sy0">&gt;</span>str<span class="sy0">&lt;</span>span <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;self&quot;</span><span class="sy0">&gt;:</span>
 <span class="kw1">return</span> <span class="st0">'Person &quot;%s&quot; (d)'</span> <span class="br0">&#40;</span>self.<span class="me1">name</span><span class="sy0">,</span> self.<span class="me1">number</span><span class="br0">&#41;</span>
&#160;
people <span class="sy0">=</span> <span class="br0">&#91;</span>
 Person<span class="br0">&#40;</span><span class="st0">'Locke'</span><span class="sy0">,</span> <span class="nu0">4</span><span class="br0">&#41;</span><span class="sy0">,</span>
 Person<span class="br0">&#40;</span><span class="st0">'Reyes'</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">&#41;</span><span class="sy0">,</span>
 Person<span class="br0">&#40;</span><span class="st0">'Ford'</span><span class="sy0">,</span> <span class="nu0">15</span><span class="br0">&#41;</span><span class="sy0">,</span>
 Person<span class="br0">&#40;</span><span class="st0">'Jarrah'</span><span class="sy0">,</span> <span class="nu0">16</span><span class="br0">&#41;</span><span class="sy0">,</span>
 Person<span class="br0">&#40;</span><span class="st0">'Shephard'</span><span class="sy0">,</span> <span class="nu0">23</span><span class="br0">&#41;</span><span class="sy0">,</span>
 Person<span class="br0">&#40;</span><span class="st0">'Kwon'</span><span class="sy0">,</span> <span class="nu0">42</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#93;</span></pre></div></div>
<h3><span class="mw-headline" id="Wrap_your_custom_objects_in_QObjects">Wrap your custom objects in QObjects</span></h3>
<p>As we have defined our ThingWrapper class above, this is pretty straightforward using Python's list comprehensions:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">things <span class="sy0">=</span> <span class="br0">&#91;</span>ThingWrapper<span class="br0">&#40;</span>thing<span class="br0">&#41;</span> <span class="kw1">for</span> thing in people<span class="br0">&#93;</span></pre></div></div>
<h3><span class="mw-headline" id="Connect_the_controller.2C_the_model_and_load_the_QML_file">Connect the controller, the model and load the QML file</span></h3>
<p>Again, this is easy, as we have already written most of the code and just need to glue all the parts together. Using <b>setContextProperty</b> we can expose QObject instances to the QML engine and access them using the name given as first parameter:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">controller <span class="sy0">=</span> Controller<span class="br0">&#40;</span><span class="br0">&#41;</span>
thingList <span class="sy0">=</span> ThingListModel<span class="br0">&#40;</span>things<span class="br0">&#41;</span>
&#160;
rc <span class="sy0">=</span> view.<span class="me1">rootContext</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
rc.<span class="me1">setContextProperty</span><span class="br0">&#40;</span><span class="st0">'controller'</span><span class="sy0">,</span> controller<span class="br0">&#41;</span>
rc.<span class="me1">setContextProperty</span><span class="br0">&#40;</span><span class="st0">'pythonListModel'</span><span class="sy0">,</span> thingList<span class="br0">&#41;</span>
&#160;
view.<span class="me1">setSource</span><span class="br0">&#40;</span><span class="st0">'PythonList.qml'</span><span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="Show_the_window_and_start_the_application">Show the window and start the application</span></h3>
<p>Add the view to the window, show the window and finally start the application:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">m.<span class="me1">setCentralWidget</span><span class="br0">&#40;</span>view<span class="br0">&#41;</span>
&#160;
m.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
app.<span class="me1">exec</span><span class="sy0">&lt;/</span>span<span class="sy0">&gt;</span><span class="st0">''</span><span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>
<h2><span class="mw-headline" id="PythonList.qml">PythonList.qml</span></h2>
<p>QML is pretty compact, and we only need to define the look of one row, and QML will take care of rendering every row separately. The important parts here are:
</p>
<ul>
<li> <b>model</b> references the list model, the <b>pythonListModel</b> corresponds to the model set using <b>setContextProperty</b> in Python
</li>
<li> A nifty way to have alternating background colors: <b>color: ((index&#160;% 2 == 0)&#160;? "#222"&#160;: "#111")</b>
</li>
<li> The <b>text</b> attribute of the <b>Text</b> item is taken from <b>model.thing.name</b> where <b>model</b> is our model, <b>thing</b> is the column of our model, and <b>name</b> is the property of our wrapper
</li>
<li> When the item is clicked (MouseArea), the <b>controller</b> (from <b>setContextProperty</b>) gets its <b>thingSelected</b> slot called with <b>model.thing</b> as the first and only parameter
</li>
</ul>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">import <span class="kw5">Qt</span> <span class="nu16">4.7</span>
&#160;
ListView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> pythonList
 width<span class="sy0">:</span> <span class="nu0">400</span>
 height<span class="sy0">:</span> <span class="nu0">200</span>
&#160;
model<span class="sy0">:</span> pythonListModel
&#160;
delegate<span class="sy0">:</span> Component <span class="br0">&#123;</span>
 Rectangle <span class="br0">&#123;</span>
 width<span class="sy0">:</span> pythonList.<span class="me1">width</span>
 height<span class="sy0">:</span> <span class="nu0">40</span>
 color<span class="sy0">:</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>index <span class="sy0">%</span> <span class="nu0">2</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">&#41;</span>?<span class="st0">&quot;#222&quot;</span><span class="sy0">:</span><span class="st0">&quot;#111&quot;</span><span class="br0">&#41;</span>
 Text <span class="br0">&#123;</span>
 id<span class="sy0">:</span> title
 elide<span class="sy0">:</span> Text.<span class="me1">ElideRight</span>
 text<span class="sy0">:</span> model.<span class="me1">thing</span>.<span class="me1">name</span>
 color<span class="sy0">:</span> <span class="st0">&quot;white&quot;</span>
 font.<span class="me1">bold</span><span class="sy0">:</span> <span class="kw2">true</span>
 anchors.<span class="me1">leftMargin</span><span class="sy0">:</span> <span class="nu0">10</span>
 anchors.<span class="me1">fill</span><span class="sy0">:</span> parent
 verticalAlignment<span class="sy0">:</span> Text.<span class="me1">AlignVCenter</span>
 <span class="br0">&#125;</span>
 MouseArea <span class="br0">&#123;</span>
 anchors.<span class="me1">fill</span><span class="sy0">:</span> parent
 onClicked<span class="sy0">:</span> <span class="br0">&#123;</span> controller.<span class="me1">thingSelected</span><span class="br0">&#40;</span>model.<span class="me1">thing</span><span class="br0">&#41;</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<h2><span class="mw-headline" id="Starting_the_example">Starting the example</span></h2>
<p>This is how it looks when you run the example using <b>python PythonList.py</b>:
</p><p><a href="http://wiki.qt.io/File:Pylist.jpg" class="image"><img alt="Pylist.jpg" src="http://wiki.qt.io/images/9/9a/Pylist.jpg" width="640" height="465" /></a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.192 seconds
Real time usage: 0.483 seconds
Preprocessor visited node count: 137/1000000
Preprocessor generated node count: 252/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1944-0!*!0!!en!2!* and timestamp 20151104105448 and revision id 15092
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;oldid=15092">http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;oldid=15092</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.qt.io/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://wiki.qt.io/Category:LanguageBindings::PySide" title="Category:LanguageBindings::PySide">LanguageBindings::PySide</a></li><li><a href="http://wiki.qt.io/Category:Snippets" title="Category:Snippets">Snippets</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick" title="Category:Developing with Qt::Qt Quick">Developing with Qt::Qt Quick</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick::QML" title="Category:Developing with Qt::Qt Quick::QML">Developing with Qt::Qt Quick::QML</a></li><li><a href="http://wiki.qt.io/Category:Developing_with_Qt::Qt_Quick::Tutorial" title="Category:Developing with Qt::Qt Quick::Tutorial">Developing with Qt::Qt Quick::Tutorial</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Selectable-list-of-Python-objects-in-QML" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Selectable-list-of-Python-objects-in-QML"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Selectable-list-of-Python-objects-in-QML&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://wiki.qt.io/Selectable-list-of-Python-objects-in-QML" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Selectable-list-of-Python-objects-in-QML" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Selectable-list-of-Python-objects-in-QML" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;oldid=15092&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;oldid=15092" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 27 March 2015, at 07:21.</li>
											<li id="footer-info-viewcount">This page has been accessed 1,643 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":250});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Selectable-list-of-Python-objects-in-QML&oldid=15092 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:09:20 GMT -->
</html>
