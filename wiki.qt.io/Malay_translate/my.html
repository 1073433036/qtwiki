<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/Malay_translate/my by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:52:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Malay translate/my - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<link rel="shortcut icon" href="../favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="../api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="../apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../load771b.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../loadc6d2.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="../load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Malay_translate/my","wgTitle":"Malay translate/my","wgCurRevisionId":17370,"wgRevisionId":17370,"wgArticleId":1130,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup","Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Malay_translate/my","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Malay_translate_my skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Malay translate/my</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><span class="subpages">&lt; <a href="../Malay_translate.html" title="Malay translate">Malay translate</a></span></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="../index40bb.html?title=Malay_translate/my&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="../Updated_pages.html" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Bermula_dengan_Programming_dengan_QML_.28WIP.29"><span class="tocnumber">1</span> <span class="toctext">Bermula dengan Programming dengan QML (WIP)</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#QML_untuk_Membangun_Antara_muka_pengguna"><span class="tocnumber">1.1</span> <span class="toctext">QML untuk Membangun Antara muka pengguna</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Mendefinisikan_sebuah_Button_dan_Menu"><span class="tocnumber">1.2</span> <span class="toctext">Mendefinisikan sebuah Button dan Menu</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Menerapkan_Menu_Bar"><span class="tocnumber">1.3</span> <span class="toctext">Menerapkan Menu Bar</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Membangun_Editor_Teks"><span class="tocnumber">1.4</span> <span class="toctext">Membangun Editor Teks</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Dekorasi_Editor_Teks"><span class="tocnumber">1.5</span> <span class="toctext">Dekorasi Editor Teks</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Memperluas_QML_menggunakan_Qt_C.2B"><span class="tocnumber">1.6</span> <span class="toctext">Memperluas QML menggunakan Qt C<i>+</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Text_Editor_Penyelesaian"><span class="tocnumber">1.7</span> <span class="toctext">Text Editor Penyelesaian</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Bermula_dengan_Programming_dengan_QML_.28WIP.29">Bermula dengan Programming dengan QML (WIP)</span></h2>
<p>Selamat datang di dunia QML, bahasa UI deklaratif. Dalam panduan ini, kita akan membuat sebuah aplikasi editor teks dengan QML. Setelah membaca panduan ini, anda harus bersedia untuk membina aplikasi anda sendiri dengan QML dan Qt C+<i>.</i>
</p>
<h3><span class="mw-headline" id="QML_untuk_Membangun_Antara_muka_pengguna">QML untuk Membangun Antara muka pengguna</span></h3>
<p>Aplikasi yang kita akan bina adalah editor teks yang akan memuatkan, menyimpan, dan melakukan beberapa manipulasi teks. Panduan ini akan terdiri dari dua bahagian. Bahagian pertama akan melibatkan merancang tata letak aplikasi dan perilaku menggunakan bahasa deklaratif di QML. Untuk bahagian kedua, memuatkan dan menyimpan fail yang akan dilaksanakan menggunakan Qt C. Menggunakan Qt's Meta-Object System , kita dapat mendedahkan C<i>+ berfungsi sebagai ciri-ciri yang QML elemen boleh guna. Memanfaatkan QML dan Qt C+</i>, kita cekap dapat memisahkan logik antara muka dari logik aplikasi.
</p><p>p=. <a href="../indexaa3f.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor5_editmenu.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor5 editmenu.png">text editor</a>
</p><p>Untuk menjalankan contoh kod QML, hanya menyediakan disertakan qmlviewer alat dengan fail QML sebagai argument. Bahagian C<i>+ dari tutorial ini menganggap bahawa pembaca mempunyai pengetahuan asas tentang prosedur kompilasi Qt's.</i>
</p><p>Tutorial bab:
1. Mendefinisikan sebuah Button dan Menu
2. Menerapkan Menu Bar
3. Membangun Editor Teks
4. Dekorasi Editor Teks
5. Memperluas QML menggunakan Qt C++
</p>
<h3><span class="mw-headline" id="Mendefinisikan_sebuah_Button_dan_Menu">Mendefinisikan sebuah Button dan Menu</span></h3>
<h4><span class="mw-headline" id="Komponen_Dasar_-_Kekunci">Komponen Dasar - Kekunci</span></h4>
<p>Kita mulai editor teks kita dengan membina sebuah butang. Fungsional, butang tetikus mempunyai kawasan sensitif dan label. Kekunci melakukan tindakan apabila pengguna menekan butang.
Dalam QML, item visual dasar adalah Rectangle elemen. URectangle elemen memiliki sifat untuk mengawal elemen penampilan dan lokasi.
</p><p>Pertama, import QtQuick 1.0 membolehkan alat qmlviewer untuk mengimport elemen QML yang akan kita gunakan. Barisan ini harus ada untuk setiap fail QML. Perhatikan bahawa versi Qt modul dimasukkan ke dalam ayat import.
</p><p>Persegi panjang ringkas ini memiliki pengenal unik, simplebutton, yang terikat pada sifat id. sifat Rectangle's elemen ini adalah terikat untuk nilai dengan senarai sifat, diikuti oleh titik dua, kemudian nilai. Dalam contoh kod, warna abu-abu terikat untuk Rectangle's warna sifat tersebut. Demikian pula, kita mengikat lebar dan tinggi dari Rectangle.
</p><p>Para Teks elemen adalah teks yang tidak boleh diedit. Kami namakan elemen Teks ini buttonLabel. Untuk menetapkan isi string field Teks, kita mengikat sebuah nilai ke sifat teks. Label ini terkandung dalam Rectangle dan untuk pusat di tengah, kita menetapkan jangkar daripada elemen Teks ke induknya, yang disebut simplebutton. Jangkar dapat mengikat jangkar item lain, sehingga tugas tata letak dengan senang.
</p><p>Kami akan menyimpan kod ini sebagai SimpleButton.qml. Menjalankan qmlviewer dengan fail sebagai argument akan memaparkan tempat abu-abu dengan label teks.
</p><p>p=. <a href="../indexe2e3.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor1_simplebutton.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor1 simplebutton.png">simple button</a>
</p><p>Untuk melaksanakan fungsi klik butang, kita boleh menggunakan pengendalian event QML's. acara pengendalian's QML sangat mirip dengan 's isyarat Qt dan slot mekanisme. Isyarat yang dipancarkan dan slot dihubungkan disebut.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="br0">&#123;</span>Rectangle
 id<span class="sy0">:</span> simplebutton
 …
&#160;
MouseArea <span class="br0">&#123;</span>
 id<span class="sy0">:</span> buttonMouseArea
&#160;
anchors.<span class="me1">fill</span><span class="sy0">:</span> orang tua <span class="sy0">/</span> <span class="sy0">/</span> jangkar semua sisi kawasan tetikus untuk persegi panjang<span class="st0">'s jangkar
 / / OnClicked menangani klik butang tetikus yang sah
 onClicked: console.log (buttonLabel.text + &quot;klik&quot;)
 }
 }</span></pre></div></div>
<p>Kami termasuk MouseArea elemen dalam simplebutton kami menjelaskan. MouseArea unsur daerah interaktif di mana gerakan mouse dikesan. Untuk butang, kami jangkar turun MouseArea ke induknya, yang simplebutton. Sintaks anchors.fill adalah salah satu cara mengakses hotel khusus yang disebut mengisi di dalam kelompok sifat yang disebut jangkar. QML menggunakan layout yang berpusat jangkar di mana barang dapat menempel pada item lain, mencipta layout kuat.
</p><p>The MouseArea mempunyai signal handlers banyak yang disebut dalam gerakan mouse dalam batas-batas MouseArea specfied. Salah satunya adalah onClicked dan ini disebut setiap kali butang tetikus diterima diklik, klik kiri menjadi lalai. Kita boleh tindakan mengikat ke handler onClicked. Dalam contoh kita, console.log () output teks setiap kali daerah mouse diklik. The console.log Fungsi () adalah alat yang berguna untuk keperluan debugging dan untuk teks keluaran.
</p><p>Kod di SimpleButton.qml cukup untuk memaparkan butang pada paparan dan output teks setiap kali diklik dengan mouse.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="br0">&#123;</span>Rectangle
 id<span class="sy0">:</span> Kekunci
 …
&#160;
hotel warna buttonColor<span class="sy0">:</span> <span class="st0">&quot;lightblue&quot;</span>
 hotel warna onHoverColor<span class="sy0">:</span> <span class="st0">&quot;emas&quot;</span>
 borderColor hotel warna<span class="sy0">:</span> <span class="st0">&quot;putih&quot;</span>
&#160;
isyarat buttonClick <span class="br0">&#40;</span><span class="br0">&#41;</span>
 onButtonClick<span class="sy0">:</span> <span class="br0">&#123;</span>
 console.<span class="kw3">log</span> <span class="br0">&#40;</span>buttonLabel.<span class="me1">text</span> <span class="sy0">+</span> <span class="st0">&quot;klik&quot;</span><span class="br0">&#41;</span>
 <span class="br0">&#125;</span>
&#160;
MouseArea <span class="br0">&#123;</span>
 onClicked<span class="sy0">:</span> buttonClick <span class="br0">&#40;</span><span class="br0">&#41;</span>
 hoverEnabled<span class="sy0">:</span> <span class="kw2">true</span>
 onEntered<span class="sy0">:</span> parent.<span class="me1">border</span>.<span class="me1">color</span> <span class="sy0">=</span> onHoverColor
 onExited<span class="sy0">:</span> parent.<span class="me1">border</span>.<span class="me1">color</span> <span class="sy0">=</span> borderColor
 <span class="br0">&#125;</span>
&#160;
<span class="sy0">/</span> <span class="sy0">/</span> Tentukan warna butang dengan menggunakan pembekal kondisional
 Warna<span class="sy0">:</span> buttonMouseArea.<span class="me1">pressed</span>? <span class="kw5">Qt</span>.<span class="me1">darker</span> <span class="br0">&#40;</span>buttonColor<span class="sy0">,</span> <span class="nu16">1.5</span><span class="br0">&#41;</span><span class="sy0">:</span> buttonColor
 <span class="br0">&#125;</span></pre></div></div>
<p>Sebuah butang berfungsi sepenuhnya adalah di Button.qml. potongan kod ini dalam artikel ini mempunyai beberapa kod dihilangkan, dilambangkan dengan elips kerana mereka baik diperkenalkan dahulu pada bahagian sebelumnya atau tidak relevan dengan pembahasan kod saat ini.
</p><p>sifat Custom diisytiharkan menggunakan sintaks taip nama hotel. Dalam kod tersebut, buttonColor hotel, jenis warna, dinyatakan dan terikat pada "nilai" lightblue. buttonColor ini kemudian digunakan dalam operasi bersyarat untuk menentukan's mengisi warna butang tersebut.
</p><p>Perhatikan bahawa nilai hotel tugas dimungkinkan dengan menggunakan tanda = sama, di samping menggunakan nilai mengikat: aksara usus besar. sifat peribadi membolehkan item dalaman untuk dapat diakses dari luar ruang lingkup Rectangle itu. Ada dasar QML jenis seperti int, string, real, serta yang disebut variasi jenis.
</p><p>Dengan mengikat onExited penangan isyarat dan onEntered untuk warna, butang's sempadan akan menjadi kuning apabila tetikus di atas butang dan bertukar-tukar warna saat mouse keluar kawasan mouse.
</p><p>A buttonClick () isyarat ini dideklarasikan pada Button.qml dengan meletakkan kata kunci isyarat di depan nama isyarat. Semua isyarat mempunyai penangan mereka secara automatik dicipta, nama-nama mereka bermula dengan on.
</p><p>Akibatnya, onButtonClick adalah s handler 'buttonClick. onButtonClick ini kemudian ditugaskan untuk melakukan tindakan. Dalam contoh butang kita, kawalan mouse onClicked hanya akan memanggil onButtonClick, yang memaparkan teks. onButtonClick ini membolehkan benda luar untuk akses kawasan mouse Kekunci 'dengan mudah. Sebagai contoh, item mungkin mempunyai lebih daripada satu deklarasi MouseArea dan isyarat buttonClick boleh membuat perbezaan antara isyarat beberapa pawang MouseArea lebih baik.
</p><p>Kami sekarang mempunyai pengetahuan asas untuk melaksanakan item dalam QML yang boleh menangani gerakan mouse dasar. Kami mencipta label Teks di dalam Rectangle, disesuaikan sifat, dan perilaku dilaksanakan merespon gerakan mouse. Gagasan untuk mencipta unsur-unsur dalam elemen ini diulang di seluruh aplikasi editor teks.
</p><p>Butang ini tidak berguna kecuali digunakan sebagai komponen untuk melakukan tindakan. Pada bahagian berikutnya, kita akan segera membuat menu yang mengandungi beberapa butang-butang.
</p><p>p=. <a href="../index9db7.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor1_button.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor1 button.png">button</a>
</p>
<h4><span class="mw-headline" id="Membuat_Laman_Menu">Membuat Laman Menu</span></h4>
<p>Sampai tahap ini, kita bahas cara membuat elemen dan menetapkan perilaku di dalam fail QML tunggal. Pada bahagian ini, kita akan membahas bagaimana cara mengimport elemen QML dan bagaimana untuk menggunakan semula beberapa bahagian dibuat untuk membina bahagian-bahagian lain.
</p><p>Menu memaparkan isi senarai, setiap item mempunyai kemampuan untuk melakukan tindakan. Dalam QML, kita dapat membuat menu dalam beberapa cara. Pertama, kita akan membuat sebuah menu yang mengandungi butang yang pada akhirnya akan melakukan tindakan yang berbeza. Kod menu di FileMenu.qml.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> import QtQuick <span class="nu16">1.0</span> mengimport <span class="kw5">Qt</span> utama QML modul
 import <span class="st0">&quot;folderName&quot;</span> mengimport kandungan folder
 import <span class="st0">&quot;script.js&quot;</span> sebagai Script mengimport fail Javascript dan nama sebagai Script</pre></div></div>
<p>Sintaks yang dipaparkan di atas menunjukkan cara menggunakan kata kunci import. Hal ini diperlukan untuk menggunakan JavaScript jumlah gambar, atau QML fail yang tidak berada dalam direktori yang sama. Kerana Button.qml ada di direktori yang sama seperti FileMenu.qml, kita tidak perlu mengimport fail Button.qml untuk menggunakannya. Kita langsung dapat membuat elemen Button dengan menyatakan Button {}, serupa dengan} {deklarasi Rectangle.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam FileMenu.<span class="me1">qml</span><span class="sy0">:</span>
&#160;
Baris <span class="br0">&#123;</span>
 anchors.<span class="me1">centerIn</span><span class="sy0">:</span> orang tua
 Jarak<span class="sy0">:</span> parent.<span class="me1">width</span> <span class="sy0">/</span> <span class="nu0">6</span>
&#160;
Kekunci <span class="br0">&#123;</span>
 id<span class="sy0">:</span> loadButton
 buttonColor<span class="sy0">:</span> <span class="st0">&quot;lightgrey&quot;</span>
 label<span class="sy0">:</span> <span class="st0">&quot;Load&quot;</span>
 <span class="br0">&#125;</span>
 Kekunci <span class="br0">&#123;</span>
 buttonColor<span class="sy0">:</span> <span class="st0">&quot;abu-abu&quot;</span>
 id<span class="sy0">:</span> saveButton
 label<span class="sy0">:</span> <span class="st0">&quot;Simpan&quot;</span>
 <span class="br0">&#125;</span>
 Kekunci <span class="br0">&#123;</span>
 id<span class="sy0">:</span> exitButton
 label<span class="sy0">:</span> <span class="st0">&quot;Keluar&quot;</span>
 buttonColor<span class="sy0">:</span> <span class="st0">&quot;darkgrey&quot;</span>
&#160;
onButtonClick<span class="sy0">:</span> <span class="kw5">Qt</span> . <span class="me1">berhenti</span> <span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Dalam FileMenu.qml, kami menyatakan tiga elemen Button. Mereka dinyatakan di dalam Row elemen, positioner yang akan menempatkan anak-anak dalam sepanjang baris menegak.
</p><p>Perisytiharan Kekunci berada di Button.qml, yang sama dengan Button.qml kita gunakan dalam bahagian sebelumnya. binding hotel baru dapat diisytiharkan dalam mencipta butang baru, berkesan timpa sifat ditetapkan dalam Button.qml. The exitButton disebut butang akan keluar dan menutup tetingkap ketika diklik. Perhatikan bahawa penangan isyarat onButtonClick di Button.qml akan dipanggil di samping handler onButtonClick di exitButton.
</p><p>p=. <a href="../indexf003.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor1_filemenu.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor1 filemenu.png">buttons</a>
</p><p>Perisytiharan Row ini diisytiharkan pada sebuah Rectangle, mencipta bekas persegi panjang untuk baris butang.
</p><p>Persegi panjang tambahan ini mencipta cara tidak langsung menetapkan deretan butang di dalam menu.
</p><p>Deklarasi dari menu edit adalah sangat mirip pada tahap ini. Menu ini mempunyai butang yang mengandungi label:
</p><p>Salin, Tempel, dan Select All.
</p><p>p=. <a href="../indexe0a4.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor1_editmenu.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor1 editmenu.png">edit buttons</a>
</p><p>Berbekal pengetahuan kita mengimport dan menyesuaikan bahagian buat sebelumnya, sekarang kita boleh menggabungkan laman-laman menu untuk membuat menu bar, terdiri daripada butang untuk memilih menu, dan melihat bagaimana kita dapat struktur data menggunakan QML.
</p>
<h3><span class="mw-headline" id="Menerapkan_Menu_Bar">Menerapkan Menu Bar</span></h3>
<p>aplikasi teks editor kita perlu cara untuk memaparkan menu menggunakan menu bar. Menu bar akan mengaktifkan menu yang berbeza dan user boleh memilih menu untuk dipaparkan. Menu switching menyiratkan bahawa struktur menu memerlukan lebih daripada sekadar memaparkan mereka berturut-turut. QML menggunakan model dan pandangan terhadap struktur data dan memaparkan data berstruktur.
</p>
<h4><span class="mw-headline" id="Menggunakan_Model_Data_dan_Tayangan">Menggunakan Model Data dan Tayangan</span></h4>
<p>QML telah berbeza pandangan data yang memaparkan model data . menu bar kami akan memaparkan menu dalam senarai, dengan header yang memaparkan deretan nama-nama menu. Senarai menu yang dinyatakan di dalam VisualItemModel. Para VisualItemModel elemen mengandungi item yang sudah memiliki pandangan seperti elemen Rectangle dan import elemen UI. jenis model lain seperti ListModel elemen perlu mendelegasikan untuk memaparkan data mereka.
</p><p>Kami menyatakan dua item visual di menuListModel tersebut, FileMenu dan EditMenu. Kami menyesuaikan dua menu dan memaparkan mereka menggunakan ListView . File MenuBar.qml mengandungi deklarasi QML dan menu edit sederhana ditakrifkan dalam EditMenu.qml.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> VisualItemModel <span class="br0">&#123;</span>
 id<span class="sy0">:</span> menuListModel
 FileMenu <span class="br0">&#123;</span>
 lebar<span class="sy0">:</span> menuListView.<span class="me1">width</span>
 Tinggi<span class="sy0">:</span> menuBar.<span class="me1">height</span>
 Warna<span class="sy0">:</span> fileColor
 <span class="br0">&#125;</span>
 EditMenu <span class="br0">&#123;</span>
 Warna<span class="sy0">:</span> editColor
 lebar<span class="sy0">:</span> menuListView.<span class="me1">width</span>
 Tinggi<span class="sy0">:</span> menuBar.<span class="me1">height</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Para ListView elemen akan memaparkan model sesuai untuk mendelegasikan. delegasi ini dapat menyatakan item model untuk dipaparkan pada unsur Row atau memaparkan item dalam kotak. menuListModel kami sudah memiliki item terlihat, oleh kerana itu, kita tidak perlu menyatakan delegasi.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> ListView <span class="br0">&#123;</span>
 id<span class="sy0">:</span> menuListView
&#160;
<span class="sy0">/</span> <span class="sy0">/</span> Jangkar ditetapkan untuk bertindak balas terhadap jangkar tetingkap
 anchors.<span class="me1">fill</span><span class="sy0">:</span> orang tua
 anchors.<span class="me1">bottom</span><span class="sy0">:</span> parent.<span class="me1">bottom</span>
 lebar<span class="sy0">:</span> parent.<span class="me1">width</span>
 Tinggi<span class="sy0">:</span> parent.<span class="me1">height</span>
&#160;
<span class="sy0">/</span> <span class="sy0">/</span> Model mengandungi data
 Model<span class="sy0">:</span> menuListModel
&#160;
<span class="sy0">/</span> <span class="sy0">/</span> Mengawal pergerakan menu switching
 snapMode<span class="sy0">:</span> ListView SnapOneItem.
 <span class="me1">orientasi</span><span class="sy0">:</span> ListView . <span class="me1">Horizontal</span>
 boundsBehavior<span class="sy0">:</span> Flickable StopAtBounds.
 <span class="me1">flickDeceleration</span><span class="sy0">:</span> <span class="nu0">5000</span>
 highlightFollowsCurrentItem<span class="sy0">:</span> <span class="kw2">true</span>
 highlightMoveDuration<span class="sy0">:</span> <span class="nu0">240</span>
 highlightRangeMode<span class="sy0">:</span> ListView . <span class="me1">StrictlyEnforceRange</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Selain itu, mewarisi ListView dari Flickable , membuat senarai respon ke mouse mengheret dan gerak tubuh lainnya.
</p><p>Bahagian terakhir dari kod di atas Flickable hotel set untuk membuat gerakan mengibaskan dikehendaki untuk melihat kami. Secara khusus, perubahan highlightMoveDuration hotel tempoh peralihan filem. Nilai hasil highlightMoveDuration lebih tinggi pada switching menu lambat.
</p><p>Para ListView mempertahankan item model melalui indeks dan setiap item visual dalam model ini boleh diakses melalui indeks, dalam urutan deklarasi. Tukar currentIndex secara berkesan perubahan item yang diserlahkan di ListView. Header bar menu kami contoh kesan ini. Ada dua butang berturut-turut, baik menukar menu sekarang saat diklik. fileButton Laman menu semasa ini ke menu file ketika diklik, indeks adalah 0 kerana FileMenu diisytiharkan pertama di menuListModel tersebut. Demikian pula, editButton akan mengubah menu semasa ini ke EditMenu saat diklik.
</p><p>Persegi panjang labelList memiliki nilai z 1, yang menunjukkan bahawa itu ditunjukkan di depan menu bar. Item dengan nilai-nilai yang lebih tinggi z dipaparkan di depan item dengan nilai z lebih rendah. Z standard nilai adalah 0.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Rectangle<span class="br0">&#123;</span>
 id<span class="sy0">:</span> labelList
 …
 z<span class="sy0">:</span> <span class="nu0">1</span>
 Baris <span class="br0">&#123;</span>
 anchors.<span class="me1">centerIn</span><span class="sy0">:</span> orang tua
 Jarak<span class="sy0">:</span> <span class="nu0">40</span>
 Kekunci <span class="br0">&#123;</span>
 label<span class="sy0">:</span> <span class="st0">&quot;File&quot;</span>
 id<span class="sy0">:</span> fileButton
 …
 onButtonClick<span class="sy0">:</span> menuListView.<span class="me1">currentIndex</span> <span class="sy0">=</span> <span class="nu0">0</span>
 <span class="br0">&#125;</span>
 Kekunci <span class="br0">&#123;</span>
 id<span class="sy0">:</span> editButton
 label<span class="sy0">:</span> <span class="st0">&quot;Edit&quot;</span>
 …
 onButtonClick<span class="sy0">:</span> menuListView.<span class="me1">currentIndex</span> <span class="sy0">=</span> <span class="nu0">1</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Menu bar baru saja kita buat dapat menyentil untuk mengakses menu atau dengan mengklik nama-nama menu di atas. paparan menu Switching merasa intuitif dan responsif.
</p><p>p=. <a href="../index9081.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor2_menubar.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor2 menubar.png">menu bar</a>
</p>
<h3><span class="mw-headline" id="Membangun_Editor_Teks">Membangun Editor Teks</span></h3>
<h4><span class="mw-headline" id="Mengisytiharkan_sebuah_Textarea">Mengisytiharkan sebuah Textarea</span></h4>
<p>editor teks kita bukanlah sebuah editor teks jika tidak mengandungi kawasan teks yang boleh diedit. QML's TextEdit elemen membolehkan pembahagian-line diedit kawasan teks multi. TextEdit berbeza dari Teks unsur, yang tidak memungkinkan pengguna untuk langsung mengedit teks.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> TextEdit <span class="br0">&#123;</span>
 id<span class="sy0">:</span> textEditor
 anchors.<span class="me1">fill</span><span class="sy0">:</span> orang tua
 width<span class="sy0">:</span> parent.<span class="me1">width</span><span class="sy0">;</span> quality<span class="sy0">:</span> parent.<span class="me1">height</span>
 warna<span class="sy0">:</span> <span class="st0">&quot;midnightblue&quot;</span>
 Fokus<span class="sy0">:</span> <span class="kw2">true</span>
&#160;
wrapMode<span class="sy0">:</span> TextEdit . <span class="me1">Wrap</span>
&#160;
onCursorRectangleChanged<span class="sy0">:</span> flickArea.<span class="me1">ensureVisible</span> <span class="br0">&#40;</span>cursorRectangle<span class="br0">&#41;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>editor ini memiliki sifat font warna ditetapkan dan diatur untuk membungkus teks. Daerah TextEdit ada di dalam kawasan flickable yang akan menggulung teks jika kursor teks berada di luar kawasan kelihatan. The ensureVisible Fungsi () akan memeriksa sama ada persegi panjang kursor berada di luar batas terlihat dan memindahkan kawasan teks yang sesuai. QML menggunakan sintaks Javascript untuk script, dan seperti yang disebutkan sebelumnya,
</p><p>Javascript fail boleh diimport dan digunakan dalam fail QML.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> fungsi ensureVisible ® <span class="br0">&#123;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>contentX<span class="sy0">&gt;</span> <span class="sy0">=</span> rx<span class="br0">&#41;</span>
 contentX <span class="sy0">=</span> rx<span class="sy0">;</span>
 <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>contentX <span class="sy0">+</span> lebar <span class="sy0">&lt;=</span> r.<span class="me1">x</span> <span class="sy0">+</span> r.<span class="me1">width</span><span class="br0">&#41;</span>
 contentX <span class="sy0">=</span> r.<span class="me1">x</span> <span class="sy0">+</span> r.<span class="me1">width</span><span class="sy0">-</span>lebar<span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>contentY<span class="sy0">&gt;</span> <span class="sy0">=</span> ry<span class="br0">&#41;</span>
 contentY <span class="sy0">=</span> ry<span class="sy0">;</span>
 <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>contentY <span class="sy0">+</span> quality <span class="sy0">&lt;=</span> r.<span class="me1">y</span> <span class="sy0">+</span> r.<span class="me1">height</span><span class="br0">&#41;</span>
 contentY <span class="sy0">=</span> r.<span class="me1">y</span> <span class="sy0">+</span> r.<span class="me1">height</span><span class="sy0">-</span>tinggi<span class="sy0">;</span>
 <span class="br0">&#125;</span></pre></div></div>
<h4><span class="mw-headline" id="Menggabungkan_Komponen_untuk_Editor_Teks">Menggabungkan Komponen untuk Editor Teks</span></h4>
<p>Kami sekarang bersedia untuk membuat tata letak editor teks kita menggunakan QML. Editor teks mempunyai dua komponen, menu bar kita buat dan kawasan teks. QML membolehkan kita untuk menggunakan semula bahagian-bahagian, sehingga membuat kod kita sederhana, dengan mengimport komponen dan menyesuaikan apabila diperlukan. editor teks kami membahagi tetingkap menjadi dua, salah satu pertiga paparan didedikasikan untuk menu bar dan dua-pertiga dari paparan menunjukkan text area. Menu bar dipaparkan di depan unsur-unsur lain.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Rectangle<span class="br0">&#123;</span>
&#160;
id<span class="sy0">:</span> skrin
 width<span class="sy0">:</span> <span class="nu0">1000</span><span class="sy0">;</span> quality<span class="sy0">:</span> <span class="nu0">1000</span>
&#160;
<span class="sy0">/</span> <span class="sy0">/</span> Berwarna yang dibahagi ke dalam menubar dan Textarea. <span class="nu0">1</span> <span class="sy0">/</span> <span class="nu0">3</span> skrin yang diperuntukkan kepada
&#160;
menubar
 <span class="kw4">int</span> hotel partisi<span class="sy0">:</span> quality <span class="sy0">/</span> <span class="nu0">3</span>
&#160;
Menubar <span class="br0">&#123;</span>
 id<span class="sy0">:</span> Menubar
 Tinggi<span class="sy0">:</span> partisi
 lebar<span class="sy0">:</span> parent.<span class="me1">width</span>
 z<span class="sy0">:</span> <span class="nu0">1</span>
 <span class="br0">&#125;</span>
&#160;
Textarea <span class="br0">&#123;</span>
 id<span class="sy0">:</span> textarea
 anchors.<span class="me1">bottom</span><span class="sy0">:</span> parent.<span class="me1">bottom</span>
 y<span class="sy0">:</span> partisi
 warna<span class="sy0">:</span> <span class="st0">&quot;putih&quot;</span>
 Tinggi<span class="sy0">:</span> partisi <span class="sy0">*</span> <span class="nu0">2</span>
 lebar<span class="sy0">:</span> parent.<span class="me1">width</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Dengan mengimport komponen reusable, kami kod TextEditor kelihatan lebih sederhana. Kita kemudian dapat menyesuaikan aplikasi utama, tanpa bimbang tentang hotel yang sudah memiliki ditakrifkan perilaku. Dengan menggunakan pendekatan ini, aplikasi tata letak dan bahagian-bahagian UI boleh dibuat dengan mudah.
</p><p>p=. <a href="../indexbf8c.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor3_texteditor.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor3 texteditor.png">text editor</a>
</p>
<h3><span class="mw-headline" id="Dekorasi_Editor_Teks">Dekorasi Editor Teks</span></h3>
<h4><span class="mw-headline" id="Mengimplementasikan_Interface_Laci">Mengimplementasikan Interface Laci</span></h4>
<p>editor teks kami terlihat sederhana dan kita perlu menghiasnya. Menggunakan QML, kita dapat mengisytiharkan peralihan dan menghidupkan editor teks kita. menu bar kami adalah menduduki pertiga daripada paparan dan akan menyenangkan untuk memilikinya hanya muncul ketika kita menginginkannya.
</p><p>Kita boleh menambah antara muka laci, yang akan kontrak atau memperluaskan menu bar saat diklik. Dalam pelaksanaannya, kami mempunyai persegi panjang tipis yang merespon klik mouse. Laci, dan aplikasi, mempunyai dua sates: ini "laci terbuka" negara dan laci ditutup "negara". Item laci adalah jalur dari persegi panjang dengan ketinggian kecil. Ada bersarang Gambar elemen menyatakan bahawa ikon anak panah akan dipusatkan di dalam laci.
</p><p>laci ini memberikan suatu negara untuk semua aplikasi, dengan identifier paparan, setiap kali pengguna menekan kawasan mouse.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Rectangle<span class="br0">&#123;</span>
 id<span class="sy0">:</span>drawer
 height<span class="sy0">:</span><span class="nu0">15</span>
&#160;
Image<span class="br0">&#123;</span>
 id<span class="sy0">:</span> arrowIcon
 source<span class="sy0">:</span> <span class="st0">&quot;images/arrow.png&quot;</span>
 anchors.<span class="me1">horizontalCenter</span><span class="sy0">:</span> parent.<span class="me1">horizontalCenter</span>
 <span class="br0">&#125;</span>
&#160;
MouseArea<span class="br0">&#123;</span>
 id<span class="sy0">:</span> drawerMouseArea
 anchors.<span class="me1">fill</span><span class="sy0">:</span>parent
 onClicked<span class="sy0">:</span><span class="br0">&#123;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span>screen.<span class="me1">state</span>  <span class="st0">&quot;DRAWER_CLOSED&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
                     screen.<span class="me1">state</span> <span class="sy0">=</span> <span class="st0">&quot;DRAWER_OPEN&quot;</span>
                 <span class="br0">&#125;</span>
                 <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>screen.<span class="me1">state</span>  <span class="st0">&quot;DRAWER_OPEN&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
 screen.<span class="me1">state</span> <span class="sy0">=</span> <span class="st0">&quot;DRAWER_CLOSED&quot;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 …
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>negara adalah hanya kumpulan tatarajah dan dinyatakan dalam Negara elemen. Senarai negara boleh berdaftar dan terikat pada hotel negara. Dalam aplikasi kami, dua negara disebut DRAWER_CLOSED dan DRAWER_OPEN. Item tatarajah dinyatakan dalam PropertyChanges elemen.
</p><p>Dalam keadaan DRAWER_OPEN, ada empat item yang akan menerima perubahan hotel. Sasaran pertama, menubar, akan mengubah hotel y ke 0. Demikian pula, textarea akan lebih rendah untuk kedudukan baru apabila negara adalah DRAWER_OPEN. The textarea, laci, dan laci's ikon akan mengalami perubahan hotel untuk memenuhi keadaan saat ini.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> states<span class="sy0">:</span><span class="br0">&#91;</span>
 State <span class="br0">&#123;</span>
 name<span class="sy0">:</span> <span class="st0">&quot;DRAWER_OPEN&quot;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> menuBar<span class="sy0">;</span> y<span class="sy0">:</span> <span class="nu0">0</span><span class="br0">&#125;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> textArea<span class="sy0">;</span> y<span class="sy0">:</span> partition <span class="sy0">+</span> drawer.<span class="me1">height</span><span class="br0">&#125;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> drawer<span class="sy0">;</span> y<span class="sy0">:</span> partition<span class="br0">&#125;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> arrowIcon<span class="sy0">;</span> rotation<span class="sy0">:</span> <span class="nu0">180</span><span class="br0">&#125;</span>
 <span class="br0">&#125;</span><span class="sy0">,</span>
 State <span class="br0">&#123;</span>
 name<span class="sy0">:</span> <span class="st0">&quot;DRAWER_CLOSED&quot;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> menuBar<span class="sy0">;</span> y<span class="sy0">:-</span>height<span class="sy0">;</span> <span class="br0">&#125;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> textArea<span class="sy0">;</span> y<span class="sy0">:</span> drawer.<span class="me1">height</span><span class="sy0">;</span> height<span class="sy0">:</span> screen.<span class="me1">height</span><span class="sy0">-</span> drawer.<span class="me1">height</span> <span class="br0">&#125;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> drawer<span class="sy0">;</span> y<span class="sy0">:</span> <span class="nu0">0</span> <span class="br0">&#125;</span>
 PropertyChanges <span class="br0">&#123;</span> target<span class="sy0">:</span> arrowIcon<span class="sy0">;</span> rotation<span class="sy0">:</span> <span class="nu0">0</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#93;</span></pre></div></div>
<p>Negara adalah perubahan mendadak dan keperluan peralihan halus. Peralihan antara negara ditakrifkan menggunakan Peralihan elemen, yang kemudian dapat mengikat's peralihan hotel item. editor teks kami mempunyai peralihan ketika terjadi perubahan keadaan negara baik DRAWER_OPEN atau DRAWER_CLOSED. Yang penting, peralihan keperluan dari dan untuk negara tetapi untuk peralihan kita, kita boleh menggunakan kad liar * simbol untuk menunjukkan bahawa peralihan berlaku untuk semua perubahan negara.
</p><p>Selama peralihan, kita boleh menentukan animasi untuk perubahan hotel. menubar kami beralih kedudukan dari y: 0 hingga y:-partisi dan kita boleh menghidupkan peralihan ini dengan menggunakan NumberAnimation elemen. Kami menyatakan bahawa sifat-sifat target 'akan menghidupkan untuk tempoh masa yang tertentu dan menggunakan kurva mengurangkan tertentu. Keluk mengurangkan tingkat kawalan animasi dan perilaku interpolasi selama peralihan negara. Keluk meringankan kita pilih adalah Easing.OutQuint , yang melambatkan gerakan di dekat akhir animasi.
</p><p>Pleae membaca 's Animasi QML rencana.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> transitions<span class="sy0">:</span> <span class="br0">&#91;</span>
 Transition <span class="br0">&#123;</span>
 to<span class="sy0">:</span> <span class="st0">&quot;'''&quot;</span>
 NumberAnimation <span class="br0">&#123;</span> target<span class="sy0">:</span> textArea<span class="sy0">;</span> properties<span class="sy0">:</span> <span class="st0">&quot;y, height&quot;</span><span class="sy0">;</span> duration<span class="sy0">:</span> <span class="nu0">100</span><span class="sy0">;</span> 
&#160;
easing.<span class="me1">type</span><span class="sy0">:</span>Easing.<span class="me1">OutExpo</span> <span class="br0">&#125;</span>
 NumberAnimation <span class="br0">&#123;</span> target<span class="sy0">:</span> menuBar<span class="sy0">;</span> properties<span class="sy0">:</span> <span class="st0">&quot;y&quot;</span><span class="sy0">;</span> duration<span class="sy0">:</span> <span class="nu0">100</span><span class="sy0">;</span> easing.<span class="me1">type</span><span class="sy0">:</span> Easing.<span class="me1">OutExpo</span> <span class="br0">&#125;</span>
 NumberAnimation <span class="br0">&#123;</span> target<span class="sy0">:</span> drawer<span class="sy0">;</span> properties<span class="sy0">:</span> <span class="st0">&quot;y&quot;</span><span class="sy0">;</span> duration<span class="sy0">:</span> <span class="nu0">100</span><span class="sy0">;</span> easing.<span class="me1">type</span><span class="sy0">:</span> Easing.<span class="me1">OutExpo</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#93;</span></pre></div></div>
<p>Cara lain menghidupkan perubahan hotel adalah dengan mengisytiharkan sebuah Kelakuan elemen. Sebuah peralihan hanya bekerja selama perubahan negara dan Kelakuan boleh menetapkan animasi untuk menukar hotel umum. Dalam editor teks, panah mempunyai NumberAnimation menghidupkan hotel putaran bilamana perubahan hotel.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> In TextEditor.<span class="me1">qml</span><span class="sy0">:</span>
&#160;
 Behavior<span class="br0">&#123;</span>
 NumberAnimation<span class="br0">&#123;</span>property<span class="sy0">:</span> <span class="st0">&quot;rotation&quot;</span><span class="sy0">;</span>easing.<span class="me1">type</span><span class="sy0">:</span> Easing.<span class="me1">OutExpo</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Kembali ke bahagian kami dengan pengetahuan tentang negara dan animasi, kita bisa memperbaiki penampilan dari bahagian-bahagian. Dalam Button.qml, kita dapat menambah dan hotel skala perubahan warna ketika butang diklik. 
</p><p>Warna jenis animasi menggunakan ColorAnimation dan nombor animasi menggunakan NumberAnimation . Pada sintaks propertyname dipaparkan di bawah sangat membantu bila menargetkan sebuah hotel tunggal.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam Button.<span class="me1">qml</span><span class="sy0">:</span>
 …
&#160;
 color<span class="sy0">:</span> buttonMouseArea.<span class="me1">pressed</span>&#160;? <span class="kw5">Qt</span>.<span class="me1">darker</span><span class="br0">&#40;</span>buttonColor<span class="sy0">,</span> <span class="nu16">1.5</span><span class="br0">&#41;</span> <span class="sy0">:</span> buttonColor
 Behavior on color <span class="br0">&#123;</span> ColorAnimation<span class="br0">&#123;</span> duration<span class="sy0">:</span> <span class="nu0">55</span><span class="br0">&#125;</span> <span class="br0">&#125;</span>
&#160;
 scale<span class="sy0">:</span> buttonMouseArea.<span class="me1">pressed</span>&#160;? <span class="nu16">1.1</span> <span class="sy0">:</span> <span class="nu16">1.00</span>
 Behavior on scale <span class="br0">&#123;</span> NumberAnimation<span class="br0">&#123;</span> duration<span class="sy0">:</span> <span class="nu0">55</span><span class="br0">&#125;</span> <span class="br0">&#125;</span></pre></div></div>
<p>Selain itu, kami dapat meningkatkan penampilan komponen QML kami dengan menambah kesan warna seperti kecerunan dan kesan opacity. Mengisytiharkan sebuah Gradient elemen akan menimpa milik warna elemen. Anda boleh menyatakan warna dalam kecerunan menggunakan GradientStop elemen. kecerunan diposisikan menggunakan skala, antara 0.0 dan 1.0.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> In MenuBar.<span class="me1">qml</span>
 gradient<span class="sy0">:</span> Gradient <span class="br0">&#123;</span>
 GradientStop <span class="br0">&#123;</span> position<span class="sy0">:</span> <span class="nu16">0.0</span><span class="sy0">;</span> color<span class="sy0">:</span> <span class="st0">&quot;#8C8F8C&quot;</span> <span class="br0">&#125;</span>
 GradientStop <span class="br0">&#123;</span> position<span class="sy0">:</span> <span class="nu16">0.17</span><span class="sy0">;</span> color<span class="sy0">:</span> <span class="st0">&quot;#6A6D6A&quot;</span> <span class="br0">&#125;</span>
 GradientStop <span class="br0">&#123;</span> position<span class="sy0">:</span> <span class="nu16">0.98</span><span class="sy0">;</span>color<span class="sy0">:</span> <span class="st0">&quot;#3F3F3F&quot;</span> <span class="br0">&#125;</span>
 GradientStop <span class="br0">&#123;</span> position<span class="sy0">:</span> <span class="nu16">1.0</span><span class="sy0">;</span> color<span class="sy0">:</span> <span class="st0">&quot;#0e1B20&quot;</span> <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>kecerunan ini digunakan oleh menu bar untuk memaparkan simulasi kecerunan kedalaman. Warna pertama bermula pada 0,0 dan warna terakhir pada 1,0.
</p>
<h4><span class="mw-headline" id="Dimana_Pergi_dari_sini">Dimana Pergi dari sini</span></h4>
<p>Kita sudah selesai membangun user interface sebuah editor teks yang sangat sederhana. Ke depan, user interface selesai, dan kita boleh melaksanakan logik aplikasi menggunakan Qt biasa dan C + <i>. QML bekerja dengan baik sebagai alat prototaip, memisahkan logik aplikasi jauh dari desain UI.</i>
</p><p>p=. <a href="../indexa644.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor4_texteditor.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor4 texteditor.png">text editor</a>
</p>
<h3><span class="mw-headline" id="Memperluas_QML_menggunakan_Qt_C.2B">Memperluas QML menggunakan Qt C<i>+</span></h3></i>
<p>Sekarang kita mempunyai layout teks editor kami, kami kini boleh melaksanakan fungsi teks editor di C+<i>. </i>
</p><p>Menggunakan QML dengan C<i> + membolehkan kita untuk membuat logik aplikasi kita menggunakan Qt. Kita boleh mencipta konteks QML di C + + aplikasi dengan menggunakan Qt's deklaratif kelas dan memaparkan elemen QML menggunakan Scene Graphics. Atau, kita boleh mengeksport C kita + + kod ke sebuah plugin yang qmlviewer alat yang dapat membaca. Untuk aplikasi kita, kita harus melaksanakan beban dan menyimpan fungsi dalam C + + dan mengeksportnya sebagai plugin. Dengan cara ini, kita hanya perlu untuk memuatkan fail QML langsung bukan menjalankan eksekusi.</i>
</p>
<h4><span class="mw-headline" id="Mengekspos_C_.2B_.2B_Kelas_QML">Mengekspos C + + Kelas QML</span></h4>
<p>Kami akan melaksanakan loading fail dan menyimpan menggunakan Qt dan C + <i>. C</i> + kelas dan fungsi boleh digunakan dalam QML dengan mendaftarkan mereka. Kelas juga perlu dikompilasi sebagai Qt plugin dan fail QML perlu tahu di mana plugin berada.
</p><p>Untuk aplikasi kita, kita perlu mencipta hal-hal yang berikut:
</p><p>Direktori kelas yang akan mengendalikan operasi berkaitan Direktori
File kelas yang merupakan QObject , simulasi senarai fail dalam direktori
plugin kelas yang akan mendaftar kelas untuk konteks QML
Qt projek fail yang akan mengkompilasi plugin
Sebuah fail qmldir mengatakan alat qmlviewer di mana mencari plugin
</p>
<h4><span class="mw-headline" id="Membangun_Qt_Plugin">Membangun Qt Plugin</span></h4>
<p>Untuk membina sebuah plugin, kita perlu menetapkan berikut dalam fail projek Qt. Pertama, sumber-sumber yang diperlukan, header, dan Qt modul perlu ditambah ke dalam fail projek kami. Semua C + + kod dan projek file di direktori filedialog.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam cppPlugins.<span class="me1">pro</span><span class="sy0">:</span>
&#160;
 TEMPLATE <span class="sy0">=</span> lib
 CONFIG <span class="sy0">+</span> <span class="sy0">=</span> qt plugin
 QT <span class="sy0">+</span> <span class="sy0">=</span> deklaratif
&#160;
 DESTDIR <span class="sy0">+</span> <span class="sy0">=</span> .. <span class="sy0">/</span> plugins
 OBJECTS_DIR <span class="sy0">=</span> tmp
 MOC_DIR <span class="sy0">=</span> tmp
&#160;
 TARGET <span class="sy0">=</span> FileDialog
&#160;
 HEADERS <span class="sy0">+</span> <span class="sy0">=</span> directory.<span class="me1">h</span>  file.<span class="me1">h</span>  dialogPlugin.<span class="me1">h</span>
&#160;
 SUMBER <span class="sy0">+</span> <span class="sy0">=</span> directory.<span class="me1">cpp</span>  file.<span class="me1">cpp</span>  dialogPlugin.<span class="me1">cpp</span></pre></div></div>
<p>Secara khusus, kami mengkompilasi Qt dengan modul deklaratif dan menyediakan sebagai sebuah plugin, memerlukan template lib. Kita akan meletakkan disusun plugin ke direktori plugin's ibubapa.
</p>
<h4><span class="mw-headline" id="Kelas_Mendaftarkan_ke_dalam_QML">Kelas Mendaftarkan ke dalam QML</span></h4>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam dialogPlugin.<span class="me1">h</span><span class="sy0">:</span>
&#160;
 <span class="co2"># Include &lt;QtDeclarative/QDeclarativeExtensionPlugin&gt;</span>
&#160;
 kelas DialogPlugin<span class="sy0">:</span> awam QDeclarativeExtensionPlugin
 <span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 awam<span class="sy0">:</span>
 registerTypes <span class="kw4">void</span> <span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw4">char</span><span class="st0">''</span><span class="st0">' uri);
&#160;
};</span></pre></div></div>
<p>Kami plugin kelas, DialogPlugin adalah subclass dari QDeclarativeExtensionPlugin . Kami perlu untuk melaksanakan fungsi warisan, registerTypes () . File dialogPlugin.cpp kelihatan seperti ini:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> DialogPlugin.<span class="me1">cpp</span><span class="sy0">:</span>
&#160;
<span class="co2"># Include &quot;dialogPlugin.h&quot;</span>
 <span class="co2"># Include &quot;directory.h&quot;</span>
 <span class="co2"># Include &quot;file.h&quot;</span>
 <span class="co2"># Include &lt;QtDeclarative/qdeclarative.h&gt;</span>
&#160;
<span class="kw4">void</span> DialogPlugin<span class="sy0">::</span> <span class="me2">registerTypes</span> <span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw4">char</span> <span class="sy0">*</span> uri<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
qmlRegisterType <span class="sy0">&lt;</span>Directory<span class="sy0">&gt;</span> <span class="br0">&#40;</span>uri<span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="st0">&quot;Direktori&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 qmlRegisterType <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> <span class="br0">&#40;</span>uri<span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="st0">&quot;File&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
&#160;
Q_EXPORT_PLUGIN2 <span class="br0">&#40;</span>FileDialog<span class="sy0">,</span> DialogPlugin<span class="br0">&#41;</span><span class="sy0">;</span></pre></div></div>
<p>The registerTypes () fungsi register Direktori kami File dan kelas ke QML. Fungsi ini memerlukan nama kelas untuk template-nya, nombor versi mayor, nombor versi minor, dan nama kelas kita.
</p><p>Kita perlu untuk mengeksport plugin menggunakan Q_EXPORT_PLUGIN2 makro. Perhatikan bahawa dalam fail dialogPlugin.h kita, kita memiliki Q_OBJECT makro di bahagian atas kelas kami. Selain itu, kita perlu menjalankan qmake pada fail projek untuk menghasilkan kod meta-objek yang diperlukan.
</p>
<h4><span class="mw-headline" id="Membuat_QML_Properties_di_C_.2B_.2B_class">Membuat QML Properties di C + + class</span></h4>
<p>Kita boleh membuat elemen QML dan hotel menggunakan C + + dan -Objek Qt's Meta System . Kita boleh melaksanakan hotel menggunakan slot dan isyarat, membuat Qt menyedari sifat ini. Property ini kemudian boleh digunakan dalam QML.
</p><p>Untuk editor teks, kita harus mampu untuk memuatkan dan menyimpan fail. Biasanya, ciri-ciri ini terkandung dalam dialog fail. Untungnya, kita boleh menggunakan QDir , QFile , dan QTextStream untuk melaksanakan membaca direktori dan input / output stream.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Direktori kelas<span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QObject</span> <span class="br0">&#123;</span>
&#160;
<span class="kw2">Q_OBJECT</span>
&#160;
Q_PROPERTY <span class="br0">&#40;</span>filesCount <span class="kw4">int</span> READ KONSTAN filesCount<span class="br0">&#41;</span>
 Q_PROPERTY <span class="br0">&#40;</span><span class="kw5">QString</span> nama fail nama fail WRITE READ setFilename notify filenameChanged<span class="br0">&#41;</span>
 Q_PROPERTY <span class="br0">&#40;</span><span class="kw5">QString</span> fileContent READ WRITE fileContent notify setFileContent fileContentChanged<span class="br0">&#41;</span>
 Q_PROPERTY <span class="br0">&#40;</span>QDeclarativeListProperty <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> fail READ fail KONSTAN<span class="br0">&#41;</span>
&#160;
…</pre></div></div>
<p>Kelas Direktori-Objek menggunakan Qt's Meta System untuk mendaftar hotel perlu untuk mencapai pengendalian fail.
</p><p>Kelas Direktori dieksport sebagai plugin dan boleh digunakan di QML sebagai elemen Direktori. Setiap hotel yang disenaraikan dengan menggunakan Q_PROPERTY makro adalah hotel QML.
The Q_PROPERTY menyatakan hotel serta menulis yang membaca dan fungsi ke Qt's Meta-Objek Sistem. Contohnya, nama fail hotel, jenis QString , boleh dibaca dengan menggunakan nama fail () fungsi dan ditulis menggunakan fungsi setFilename (). Selain itu, ada isyarat berkaitan dengan hotel nama fail yang disebut filenameChanged (), yang dipancarkan ketika perubahan hotel.
</p><p>Membaca dan menulis fungsi yang diisytiharkan sebagai awam dalam fail header.
Demikian pula, kita mempunyai hotel yang lain dinyatakan sesuai untuk kegunaan mereka. Property filesCount menunjukkan jumlah gambar dalam direktori. Property nama fail ditetapkan untuk saat ini memilih nama fail dan fail / kandungan yang disimpan dimuat disimpan di hotel fileContent.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Q_PROPERTY <span class="br0">&#40;</span>QDeclarativeListProperty <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> fail READ fail KONSTAN<span class="br0">&#41;</span></pre></div></div>
<p>Property senarai fail adalah senarai semua fail ditapis dalam sebuah direktori. Kelas Direktori dilaksanakan untuk menapis fail teks sah; dengan sebuah fail. Hanya sambungan txt berlaku.
</p><p>Lebih lanjut, QList s boleh digunakan dalam fail QML dengan menyatakan mereka sebagai QDeclarativeListProperty di C + <i>. Objek templated perlu mewarisi daripada QObject , oleh kerana itu, kelas Fail juga harus mewarisi daripada QObject . Di kelas Directory, senarai fail objek disimpan di dalam QList m_fileList disebut.</i>
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw2">class</span> Fail<span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QObject</span> <span class="br0">&#123;</span>
&#160;
 <span class="kw2">Q_OBJECT</span>
 Q_PROPERTY <span class="br0">&#40;</span><span class="kw5">QString</span> nama READ WRITE notify setName nameChanged<span class="br0">&#41;</span>
&#160;
 …
 <span class="br0">&#125;</span><span class="sy0">;</span></pre></div></div>
<p>Sifat kemudian boleh digunakan dalam QML sebagai sebahagian daripada elemen Direktori hotel tersebut. Perhatikan bahawa kita tidak perlu membuat sebuah identifier hotel id di<i> + C kod kita.</i>
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Direktori <span class="br0">&#123;</span>
 id<span class="sy0">:</span> Direktori
&#160;
filesCount
 Nama fail
 fileContent
 fail
&#160;
file <span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>. <span class="me1">Nama</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Kerana QML menggunakan sintaks Javascript dan struktur, kita boleh iterate melalui senarai fail dan mengambil hartanya. Untuk mengambil nama fail property pertama, kita boleh memanggil file [0]. Nama.
</p><p>Regular C + + fungsi juga boleh diakses dari QML. Loading fail dan fungsi tabungan dilaksanakan di C + + dan diisytiharkan menggunakan Q_INVOKABLE makro. Atau, kita dapat menyatakan fungsi sebagai slot dan fungsi akan boleh diakses dari QML.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam Directory.<span class="me1">h</span><span class="sy0">:</span>
&#160;
Q_INVOKABLE savefile <span class="kw4">void</span> <span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> Q_INVOKABLE loadFile <span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></div></div>
<p>Kelas Direktori juga harus memberitahu objek lain jika isi direktori berubah. Ciri-ciri ini dilakukan dengan menggunakan isyarat. Seperti yang disebutkan sebelumnya, isyarat QML mempunyai handler yang sesuai dengan nama-nama mereka didahului dengan on. Isyarat ini disebut directoryChanged dan ini dipancarkan apabila terdapat refresh direktori. refresh itu hanya semula isi direktori dan mengemas kini senarai fail yang sah dalam direktori. item QML kemudian boleh diberitahu dengan melampirkan tindakan penangan isyarat onDirectoryChanged.
</p><p>Sifat senarai perlu digali lebih lanjut. Hal ini kerana sifat senarai menggunakan callback untuk mengakses dan mengubahsuai isi senarai. Property senarai adalah jenis QDeclarativeListProperty &lt;file&gt;. Setiap kali senarai dicapai, fungsi accessor perlu mengembalikan &lt;file&gt; QDeclarativeListProperty. Jenis template, fail, perlu terbitan QObject. Selanjutnya, untuk mencipta QDeclarativeListProperty , senarai's accessor dan pengubah harus diteruskan ke consructor sebagai fungsi pointer. Senarai, sebuah QList dalam kes kami, juga perlu daftar File pointer.
</p><p>Pengeluar dari QDeclarativeListProperty constructor dan pelaksanaan Direktori:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> QDeclarativeListProperty <span class="br0">&#40;</span><span class="kw5">QObject</span> <span class="sy0">*</span> objek<span class="sy0">,</span> <span class="kw4">void</span> <span class="sy0">*</span> data<span class="sy0">,</span> AppendFunction menambah<span class="sy0">,</span> CountFunction count <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span>
&#160;
AtFunction di <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> ClearFunction jelas <span class="sy0">=</span> <span class="nu0">0</span><span class="br0">&#41;</span>
 QDeclarativeListProperty <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> <span class="br0">&#40;</span>ini<span class="sy0">,</span> <span class="sy0">&amp;</span> m_fileList<span class="sy0">,</span> <span class="sy0">&amp;</span> appendFiles<span class="sy0">,</span> <span class="sy0">&amp;</span> filesSize<span class="sy0">,</span> <span class="sy0">&amp;</span> fileAt<span class="sy0">,</span> <span class="sy0">&amp;</span> clearFilesPtr<span class="br0">&#41;</span><span class="sy0">;</span></pre></div></div>
<p>Pengeluar lewat pointer ke fungsi yang akan menambah senarai, menghitung senarai, mengambil item menggunakan indeks, dan senarai kosong. Hanya fungsi append adalah wajib. Perhatikan bahawa fungsi penanda buku harus sesuai dengan definisi AppendFunction , CountFunction , AtFunction , atau ClearFunction .
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw4">void</span> appendFiles <span class="br0">&#40;</span>QDeclarativeListProperty <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> <span class="sy0">*</span> hotel<span class="sy0">,</span> File fail <span class="st0">''</span><span class="st0">')
 File'</span><span class="st0">''</span> fileAt <span class="br0">&#40;</span>QDeclarativeListProperty <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> <span class="sy0">*</span> hotel<span class="sy0">,</span> <span class="kw4">int</span> index<span class="br0">&#41;</span>
 <span class="kw4">int</span> filesSize <span class="br0">&#40;</span>QDeclarativeListProperty <span class="sy0">&lt;</span>file<span class="sy0">&gt;</span> hotel <span class="st0">''</span><span class="st0">')
 void clearFilesPtr (QDeclarativeListProperty &lt;file&gt; hotel'</span><span class="st0">''</span><span class="br0">&#41;</span></pre></div></div>
<p>Untuk mempermudah dialog fail kami, kelas Direktori menapis fail teks tidak sah, yang adalah fail yang tidak mempunyai sambungan txt .. Jika nama fail tidak mempunyai sambungan txt., Maka tidak akan terlihat dalam dialog file kita. Juga, pelaksanaannya memastikan bahawa gambar-gambar yang disimpan mempunyai nama txt. Ekstensi di file. Direktori menggunakan QTextStream untuk membaca fail dan ke output isi fail ke sebuah fail.
</p><p>Dengan elemen Direktori kita, kita boleh mengambil fail sebagai senarai, tahu berapa banyak fail teks dalam direktori aplikasi, mendapatkan nama fail dan kandungan sebagai string, dan diberitahu setiap kali ada perubahan dalam kandungan direktori.
</p><p>Untuk membina plugin, jalankan qmake pada fail projek cppPlugins.pro, lalu jalankan make untuk membina dan mengalihkan plugin ke direktori plugin.
</p>
<h4><span class="mw-headline" id="Mengimport_Plugin_QML">Mengimport Plugin QML</span></h4>
<p>Alat import qmlviewer fail yang berada dalam direktori yang sama dengan aplikasi. Kita juga boleh membuat fail qmldir mengandungi lokasi fail QML kami ingin import. File qmldir juga boleh menyimpan lokasi plugin dan sumber lain.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam qmldir<span class="sy0">:</span>
&#160;
Kekunci. <span class="sy0">/</span> Button.<span class="me1">qml</span>
 FileDialog. <span class="sy0">/</span> FileDialog.<span class="me1">qml</span>
 Textarea. <span class="sy0">/</span> TextArea.<span class="me1">qml</span>
 TextEditor. <span class="sy0">/</span> TextEditor.<span class="me1">qml</span>
 EditMenu. <span class="sy0">/</span> EditMenu.<span class="me1">qml</span>
&#160;
plugin plugin FileDialog</pre></div></div>
<p>Plugin baru saja kita buat disebut FileDialog, seperti yang ditunjukkan oleh medan TARGET dalam fail projek.
</p><p>Tersebut disusun Plugin di direktori plugin.
</p>
<h4><span class="mw-headline" id="Mengintegrasikan_Dialog_Fail_ke_Menu_File">Mengintegrasikan Dialog Fail ke Menu File</span></h4>
<p>FileMenu kami perlu untuk memaparkan elemen FileDialog, yang mengandungi senarai fail teks dalam direktori sehingga membolehkan pengguna untuk memilih fail dengan mengklik senarai. Kita juga perlu menetapkan menyimpan, beban, dan butang baru untuk tindakan masing-masing. Ini
</p><p>FileMenu mengandungi input teks yang boleh diedit untuk membolehkan pengguna untuk menaip nama fail dengan menggunakan keyboard.
</p><p>Unsur Direktori digunakan dalam fail FileMenu.qml dan memberitahu elemen FileDialog bahawa Direktori segar isinya. Notis ini dilakukan dalam penangan isyarat, onDirectoryChanged.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam FileMenu.<span class="me1">qml</span><span class="sy0">:</span>
&#160;
Direktori <span class="br0">&#123;</span>
 id<span class="sy0">:</span> Direktori
 nama fail<span class="sy0">:</span> textInput.<span class="me1">text</span>
 onDirectoryChanged<span class="sy0">:</span> fileDialog.<span class="me1">notifyRefresh</span> <span class="br0">&#40;</span><span class="br0">&#41;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Menjaga dengan kesederhanaan aplikasi kita, dialog fail akan selalu terlihat dan tidak akan menampilkan gambar-gambar teks tidak sah, yang tidak mempunyai nama file txt. Ekstensi mereka.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam FileDialog.<span class="me1">qml</span><span class="sy0">:</span>
&#160;
isyarat notifyRefresh <span class="br0">&#40;</span><span class="br0">&#41;</span>
 onNotifyRefresh<span class="sy0">:</span> dirView.<span class="me1">model</span> <span class="sy0">=</span> directory.<span class="me1">files</span></pre></div></div>
<p>Unsur FileDialog akan memaparkan isi direktori dengan membaca senarai hotel yang disebut fail. File-file yang digunakan sebagai model dari sebuah GridView unsur, yang memaparkan item data dalam kotak sesuai untuk mendelegasikan. delegasi yang menangani penampilan model dan dialog file kita hanya akan membuat tempat dengan teks berpusat di tengah. Mengklik pada nama fail akan menghasilkan paparan persegi panjang untuk menyerlahkan nama fail. FileDialog ini diberitahu setiap kali isyarat notifyRefresh dipancarkan, reload fail dalam direktori.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> Dalam FileMenu.<span class="me1">qml</span><span class="sy0">:</span> Button <span class="br0">&#123;</span>id<span class="sy0">:</span> label newButton<span class="sy0">:</span> <span class="st0">&quot;Baru&quot;</span> onButtonClick<span class="sy0">:</span> <span class="br0">&#123;</span>textArea.<span class="me1">textContent</span> <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#125;</span><span class="br0">&#125;</span> Button <span class="br0">&#123;</span>id<span class="sy0">:</span>
&#160;
label loadButton<span class="sy0">:</span> <span class="st0">&quot;Load&quot;</span> onButtonClick<span class="sy0">:</span> <span class="br0">&#123;</span>directory.<span class="me1">filename</span> textInput.<span class="me1">text</span> directory.<span class="me1">loadFile</span> <span class="sy0">=</span> <span class="br0">&#40;</span> <span class="br0">&#41;</span>
&#160;
textArea.<span class="me1">textContent</span> <span class="sy0">=</span> directory.<span class="me1">fileContent</span><span class="br0">&#125;</span><span class="br0">&#125;</span> Button <span class="br0">&#123;</span>id<span class="sy0">:</span> label saveButton<span class="sy0">:</span> <span class="st0">&quot;Simpan&quot;</span> onButtonClick<span class="sy0">:</span>
&#160;
<span class="br0">&#123;</span>directory.<span class="me1">fileContent</span> <span class="sy0">=</span> textArea.<span class="me1">textContent</span> directory.<span class="me1">filename</span> <span class="sy0">=</span> textInput.<span class="me1">text</span> directory.<span class="me1">saveFile</span> <span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#125;</span><span class="br0">&#125;</span>
&#160;
<span class="br0">&#123;</span>Kekunci id<span class="sy0">:</span> label exitButton <span class="sy0">:</span> <span class="st0">&quot;Keluar&quot;</span> onButtonClick<span class="sy0">:</span> <span class="br0">&#123;</span><span class="kw5">Qt</span>.<span class="me1">quit</span> <span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#125;</span><span class="br0">&#125;</span></pre></div></div>
<p>FileMenu kita sekarang boleh disambungkan ke tindakan masing-masing. saveButton akan memindahkan teks dari TextEdit ke Teman fileContent hotel direktori, lalu copy nama fail dari input teks yang boleh diedit. Akhirnya, butang memanggil savefile () fungsi, menyimpan fail. sloadButton mempunyai eksekusi serupa. Juga, tindakan Baru akan mengosongkan isi dari TextEdit.
</p><p>Selanjutnya, butang EditMenu menyambung ke fungsi TextEdit untuk menyalin, menempel, dan pilih semua teks dalam editor teks.
</p><p>p=. <a href="../index1f73.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor5_filemenu.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor5 filemenu.png">text editor</a>
</p>
<h3><span class="mw-headline" id="Text_Editor_Penyelesaian">Text Editor Penyelesaian</span></h3>
<p>p=. <a href="../index3e9b.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/qml-texteditor5_newfile.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/qml-texteditor5 newfile.png">text editor</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.629 seconds
Real time usage: 0.668 seconds
Preprocessor visited node count: 371/1000000
Preprocessor generated node count: 760/1000000
Post‐expand include size: 1280/2097152 bytes
Template argument size: 415/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1130-0!*!0!!en!2!* and timestamp 20151104140844 and revision id 17370
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="../indexddea.html?title=Malay_translate/my&amp;oldid=17370">http://wiki.qt.io/index.php?title=Malay_translate/my&amp;oldid=17370</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="../Category_Articles_needing_cleanup.html" title="Category:Articles needing cleanup">Articles needing cleanup</a></li><li><a href="../Category_Pages_with_broken_file_links.html?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="../User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="../User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=6e7e80076ae758be&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="my.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="../indexc1c1.php?title=Talk:Malay_translate/my&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="my.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="../index40bb.html?title=Malay_translate/my&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="../indexf09c.html?title=Malay_translate/my&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(../skins/common/images/wiki.png);" href="../Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="../How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/Malay_translate/my.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/Malay_translate/my.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="../index8758-2.html?title=Malay_translate/my&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="../indexddea.html?title=Malay_translate/my&amp;oldid=17370" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="../indexdc3a.html?title=Malay_translate/my&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 26 May 2015, at 11:05.</li>
											<li id="footer-info-viewcount">This page has been accessed 548 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="../load55ad.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":328});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/Malay_translate/my by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:52:05 GMT -->
</html>
