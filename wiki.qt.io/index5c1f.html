<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=RaspberryPi&oldid=18163 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:19:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>RaspberryPi - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"RaspberryPi","wgTitle":"RaspberryPi","wgCurRevisionId":18163,"wgRevisionId":18163,"wgArticleId":1893,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Devices"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"RaspberryPi","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-bash {line-height: normal;}
.source-bash li, .source-bash pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: source-bash, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.bash.source-bash .de1, .bash.source-bash .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.bash.source-bash  {font-family:monospace;}
.bash.source-bash .imp {font-weight: bold; color: red;}
.bash.source-bash li, .bash.source-bash .li1 {font-weight: normal; vertical-align:top;}
.bash.source-bash .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.bash.source-bash .li2 {font-weight: bold; vertical-align:top;}
.bash.source-bash .kw1 {color: #000000; font-weight: bold;}
.bash.source-bash .kw2 {color: #c20cb9; font-weight: bold;}
.bash.source-bash .kw3 {color: #7a0874; font-weight: bold;}
.bash.source-bash .co0 {color: #666666; font-style: italic;}
.bash.source-bash .co1 {color: #800000;}
.bash.source-bash .co2 {color: #cc0000; font-style: italic;}
.bash.source-bash .co3 {color: #000000; font-weight: bold;}
.bash.source-bash .co4 {color: #666666;}
.bash.source-bash .es1 {color: #000099; font-weight: bold;}
.bash.source-bash .es2 {color: #007800;}
.bash.source-bash .es3 {color: #007800;}
.bash.source-bash .es4 {color: #007800;}
.bash.source-bash .es5 {color: #780078;}
.bash.source-bash .es_h {color: #000099; font-weight: bold;}
.bash.source-bash .br0 {color: #7a0874; font-weight: bold;}
.bash.source-bash .sy0 {color: #000000; font-weight: bold;}
.bash.source-bash .st0 {color: #ff0000;}
.bash.source-bash .st_h {color: #ff0000;}
.bash.source-bash .nu0 {color: #000000;}
.bash.source-bash .re0 {color: #007800;}
.bash.source-bash .re1 {color: #007800;}
.bash.source-bash .re2 {color: #007800;}
.bash.source-bash .re4 {color: #007800;}
.bash.source-bash .re5 {color: #660033;}
.bash.source-bash .ln-xtra, .bash.source-bash li.ln-xtra, .bash.source-bash div.ln-xtra {background-color: #ffc;}
.bash.source-bash span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-RaspberryPi skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">RaspberryPi</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><div id="mw-revision-info">Revision as of 18:09, 27 June 2015 by <a href="http://wiki.qt.io/User:Wieland" title="User:Wieland" class="mw-userlink">Wieland</a>  <span class="mw-usertoollinks">(<a href="http://wiki.qt.io/User_talk:Wieland" title="User talk:Wieland">Talk</a> | <a href="http://wiki.qt.io/Special:Contributions/Wieland" title="Special:Contributions/Wieland">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;diff=prev&amp;oldid=18163" title="RaspberryPi">diff</a>) <a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;direction=prev&amp;oldid=18163" title="RaspberryPi">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div style="background:#eeeeee;padding:2px;">
<p><strong class="selflink">En</strong>
<span style="color:#ccc;">Ar</span>
<span style="color:#ccc;">Bg</span>
<span style="color:#ccc;">De</span>
<span style="color:#ccc;">El</span>
<span style="color:#ccc;">Es</span>
<span style="color:#ccc;">Fa</span>
<span style="color:#ccc;">Fi</span>
<span style="color:#ccc;">Fr</span>
<span style="color:#ccc;">Hi</span>
<span style="color:#ccc;">Hu</span>
<span style="color:#ccc;">It</span>
<span style="color:#ccc;">Ja</span>
<span style="color:#ccc;">Kn</span>
<span style="color:#ccc;">Ko</span>
<span style="color:#ccc;">Ms</span>
<span style="color:#ccc;">Nl</span>
<span style="color:#ccc;">Pl</span>
<span style="color:#ccc;">Pt</span>
<span style="color:#ccc;">Ru</span>
<span style="color:#ccc;">Th</span>
<span style="color:#ccc;">Tr</span>
<span style="color:#ccc;">Uk</span>
<span style="color:#ccc;">Zh</span>
</p>
</div>
<ul>
<li> Note: the information on this page is outdated. Updated build and deploy steps coming soon.
</li>
<li> See also: <a href="http://wiki.qt.io/Category:QtonPi" title="Category:QtonPi">QtonPi</a>
</li>
</ul>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Raspberry_Pi_.28BCM2835.29:_Device_Information"><span class="tocnumber">1</span> <span class="toctext">Raspberry Pi (BCM2835): Device Information</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Qt_5_port_functional_state_.28against_Raspbian_Wheezy_.28primary_reference_platform.29.29"><span class="tocnumber">1.1</span> <span class="toctext">Qt 5 port functional state (against Raspbian Wheezy (primary reference platform))</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Additional_information"><span class="tocnumber">1.2</span> <span class="toctext">Additional information</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Hardware_Details"><span class="tocnumber">2</span> <span class="toctext">Hardware Details</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Linux_Platform"><span class="tocnumber">3</span> <span class="toctext">Linux Platform</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Raspbian_.22Wheezy.22_image_.28First_class_citizen.29"><span class="tocnumber">3.1</span> <span class="toctext">Raspbian "Wheezy" image (First class citizen)</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Arch_Linux"><span class="tocnumber">3.2</span> <span class="toctext">Arch Linux</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Buildroot"><span class="tocnumber">3.3</span> <span class="toctext">Buildroot</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Building_Qt_from_scratch"><span class="tocnumber">4</span> <span class="toctext">Building Qt from scratch</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Helper_scripts"><span class="tocnumber">4.1</span> <span class="toctext">Helper scripts</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Adjusting_the_root_filesystem_for_development"><span class="tocnumber">4.2</span> <span class="toctext">Adjusting the root filesystem for development</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Additional_packages"><span class="tocnumber">4.3</span> <span class="toctext">Additional packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Qt_5_on_the_Raspberry_Pi_.28BCM2835.29"><span class="tocnumber">5</span> <span class="toctext">Qt 5 on the Raspberry Pi (BCM2835)</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Installing_Qt_5_nightlies_from_the_repo"><span class="tocnumber">5.1</span> <span class="toctext">Installing Qt 5 nightlies from the repo</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Building_Qt"><span class="tocnumber">5.2</span> <span class="toctext">Building Qt</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#qtbase"><span class="tocnumber">5.3</span> <span class="toctext">qtbase</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Other_modules"><span class="tocnumber">5.4</span> <span class="toctext">Other modules</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Runtime_information"><span class="tocnumber">5.5</span> <span class="toctext">Runtime information</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Building_and_running_qtwayland_.28legacy.29"><span class="tocnumber">5.6</span> <span class="toctext">Building and running qtwayland (legacy)</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Building_and_running_Webkit_.28prone_to_drowning_your_pony_in_a_hazard_of_tentacles.29"><span class="tocnumber">5.7</span> <span class="toctext">Building and running Webkit (prone to drowning your pony in a hazard of tentacles)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Qt_4_on_the_Raspberry_Pi_.28BCM2835.29"><span class="tocnumber">6</span> <span class="toctext">Qt 4 on the Raspberry Pi (BCM2835)</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Raspberry_Pi_.28BCM2835.29:_Device_Information">Raspberry Pi (BCM2835): Device Information</span></h2>
<table class="wikitable">
<tr>
<th style="text-align:left;">Architecture
</th>
<th style="text-align:left;">ARMv6
</th></tr>
<tr>
<td>CPU
</td>
<td>ARM11
</td></tr>
<tr>
<td>RAM
</td>
<td>256MB OR 512MB since October 2012 (shared with GPU)
</td></tr>
<tr>
<td>GPU
</td>
<td>VideoCore IV
</td></tr>
<tr>
<td>OpenGL
</td>
<td>OpenGL ES 2.0
</td></tr>
<tr>
<td>Multimedia
</td>
<td>OpenMax IL 1.1.2
</td></tr>
<tr>
<td>Qt 5.0 (eglfs/QPA)
</td>
<td>Supported, with OpenGL ES 2.0
</td></tr></table>
<h3><span class="mw-headline" id="Qt_5_port_functional_state_.28against_Raspbian_Wheezy_.28primary_reference_platform.29.29">Qt 5 port functional state (against Raspbian Wheezy (primary reference platform))</span></h3>
<table class="wikitable">
<tr>
<th style="text-align:left;">Feature
</th>
<th> State
</th>
<th> Additional info
</th></tr>
<tr>
<td>Hardware accelerated cursor
</td>
<td>Done
</td>
<td>upstream
</td></tr>
<tr>
<td>Wayland support
</td>
<td>Done
</td>
<td>upstream
</td></tr>
<tr>
<td>Hardware decoding of images
</td>
<td>To Do
</td>
<td>
</td></tr>
<tr>
<td>Scenegraph tailoring
</td>
<td>To Do
</td>
<td>
</td></tr>
<tr>
<td>HardFP support
</td>
<td>Done
</td>
<td>Requires v8 patch
</td></tr>
<tr>
<td>Qt Multimedia
</td>
<td>Done
</td>
<td>Requires gst-omx
</td></tr>
<tr>
<td>Webkit integration
</td>
<td>To Do
</td>
<td>webgl, tex mapper
</td></tr></table>
<h3><span class="mw-headline" id="Additional_information">Additional information</span></h3>
<ul>
<li> "The Raspberry Pi is a credit-card sized computer that plugs into your TV and a keyboard. It’s a capable little PC which can be used for many of the things that your desktop PC does, like spreadsheets, word-processing and games. It also plays high-definition video. We want to see it being used by kids all over the world to learn programming."
</li>
</ul>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.raspberrypi.org/faqs">Raspberry Pi Foundation FAQ</a>
</li>
</ul>
<h2><span class="mw-headline" id="Hardware_Details">Hardware Details</span></h2>
<p>Low end ARM11 CPU running at ~700 BogoMIPS. <br />
VideoCore IV GPU is capable of running QtQuick2/SceneGraph at high resolutions. <br />
Both CPU and GPU share main memory. <br />
</p>
<h2><span class="mw-headline" id="Linux_Platform">Linux Platform</span></h2>
<p>If you are not interested in building everything yourself then consider:
</p>
<ul>
<li> the pre-built Raspbian snapshots
</li>
</ul>
<p>The Raspberry Pi Foundation provides a few different distributions which can be downloaded <a rel="nofollow" class="external text" href="http://www.raspberrypi.org/downloads">here</a>
</p><p><b>Please note: Not all platforms are created equal: The <a rel="nofollow" class="external text" href="http://www.raspberrypi.org/downloads">Raspbian Wheezy image</a> is a very functional distro with piping hot firmware and good support on the OS vendor side, so that is the first class citizen when following these instructions. Deviating from its usage will probably introduce additional complexity and will carry you away from the primary testing platform</b>
</p>
<h3><span class="mw-headline" id="Raspbian_.22Wheezy.22_image_.28First_class_citizen.29">Raspbian "Wheezy" image (First class citizen)</span></h3>
<h4><span class="mw-headline" id="My_home_rolled_Linaro_.28crosstool-ng_generated.29_toolchain">My home rolled Linaro (crosstool-ng generated) toolchain</span></h4>
<p>Since the Linaro toolchain is an order of magnitude more charismatic when cross compiling, you will probably want to be reading our <a rel="nofollow" class="external text" href="http://wiki.qt.io/ToolchainInformation">notes</a> on using it. Since I have to bleed profusely in order to get a functioning Linaro toolchain on my Arch install, I have provided it <a rel="nofollow" class="external text" href="http://blueocean.qmh-project.org/gcc-4.7-linaro-rpi-gnueabihf.tbz">here</a>
</p><p><a rel="nofollow" class="external text" href="http://blueocean.qmh-project.org/gcc-4.7-linaro-rpi-gnueabihf.tbz">gcc-4.7-linaro-rpi-gnueabihf</a>
</p>
<h4><span class="mw-headline" id="Required_changes_.28Rolling.2C_should_be_empty.29">Required changes (Rolling, should be empty)</span></h4>
<p>v8 ARMv6 hardfp support:
</p><p><a rel="nofollow" class="external free" href="https://codereview.qt.io/27256">https://codereview.qt.io/27256</a>
</p><p>Undo crippling GL defaults, possibly stemming from my incorrect indication in the Pi hooks that the GLESv2 impl support GL buffer queuing. One thing is for certain, the consistent timer below is not something you want in affect on your Pi. (On the stage at Qt CS, infront of a crowd, one of whom is whistling the Kill Bill theme)
</p><p>[sirspudd@bb|:qt5/qtdeclarative]$ git show <br />
commit 82c9f3187ce79e1aef57479b0cc7b7274c0bd85e <br />
Author: Donald Carr &lt;donald.carr@nokia.com&gt; <br />
Date: Wed Aug 8 09:52:34 2012 <i>0000 <br /></i>
</p><p>Disable fixed animation step before it disables me
diff —git a/src/quick/items/qquickwindowmanager.cpp <br /> b/src/quick/items/qquickwindowmanager.cpp <br />
index 3cced7a..90c2dc9 100644 <br />
— a/src/quick/items/qquickwindowmanager.cpp <br />
++++ b/src/quick/items/qquickwindowmanager.cpp <br />
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">–<span class="nu0">137</span><span class="sy0">,</span><span class="nu0">16</span> <span class="sy0">+</span><span class="nu0">137</span><span class="sy0">,</span><span class="nu0">6</span></pre></div></div>
<p>QQuickWindowManager *QQuickWindowManager::instance()
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>qmlForceThreadedRenderer<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
 fancy <span class="sy0">=</span> true<span class="sy0">;</span>
&#160;
<span class="sy0">-</span> <span class="co1">// Enable fixed animation steps…</span>
<span class="sy0">-</span> <span class="kw5">QByteArray</span> fixed <span class="sy0">=</span> qgetenv<span class="br0">&#40;</span><span class="st0">&quot;QML_FIXED_ANIMATION_STEP&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="sy0">-</span> <span class="kw4">bool</span> fixedAnimationSteps <span class="sy0">=</span> bufferQueuing<span class="sy0">;</span>
<span class="sy0">-</span> <span class="kw1">if</span> <span class="br0">&#40;</span>fixed <span class="sy0">==</span> <span class="st0">&quot;no&quot;</span><span class="br0">&#41;</span>
<span class="sy0">-</span> fixedAnimationSteps <span class="sy0">=</span> false<span class="sy0">;</span>
<span class="sy0">-</span> <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>fixed.<span class="me1">length</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="sy0">-</span> fixedAnimationSteps <span class="sy0">=</span> true<span class="sy0">;</span>
<span class="sy0">-</span> <span class="kw1">if</span> <span class="br0">&#40;</span>fixedAnimationSteps<span class="br0">&#41;</span>
<span class="sy0">-</span> QUnifiedTimer<span class="sy0">::</span><span class="me2">instance</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">setConsistentTiming</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="sy0">-</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>theInstance<span class="br0">&#41;</span> <span class="br0">&#123;</span>
 theInstance <span class="sy0">=</span> fancy
 ? <span class="br0">&#40;</span>QQuickWindowManager<span class="st0">''</span><span class="st0">') new QQuickRenderThreadSingleContextWindowManager</span></pre></div></div>
<h4><span class="mw-headline" id="Toolchain_considerations">Toolchain considerations</span></h4>
<p>This is bleeding edge and carries the latest snapshot of the firmware. Anyone doing active development against the BCM libraries will probably want to be living in this realm. Targeting this system requires a Linaro (Raspbian multiarch cognizant) compiler. Without this, you will find yourself scrambling to indicate that relevant libraries are lurking in $lib/arm-linux-gnueabi paths. If you know how to make this play nice, please feel free to edumicate me (Donald Carr) on the niceties.
</p><p>I built my toolchain by following these instructions:
</p><p><a rel="nofollow" class="external free" href="https://launchpadlibrarian.net/110971284/README.txt">https://launchpadlibrarian.net/110971284/README.txt</a>
</p><p>and an Ubuntu 10.04 schroot. There is no point fighting it, before stooping to this behavior, I was facing spurious build failures all over the show.
</p>
<h4><span class="mw-headline" id="Known_issues">Known issues</span></h4>
<p>For qtjsbackend the following patch is needed:
<a rel="nofollow" class="external text" href="https://codereview.qt.io/#change,27256">usingHardFloat automatic detection faux pas</a>
</p>
<h3><span class="mw-headline" id="Arch_Linux">Arch Linux</span></h3>
<p>Arch has been tested and sommer (just) works. The firmware tends to be bleeding edge, so the Wheezy images firmware notes will possibly be of relevance.
</p>
<h3><span class="mw-headline" id="Buildroot">Buildroot</span></h3>
<p>One of our engineers has been investing time in a home rolled hardfp distribution based on Buildroot. The recipe is available here:
</p><p><a rel="nofollow" class="external free" href="https://github.com/nezticle/RaspberryPi-BuildRoot.git">https://github.com/nezticle/RaspberryPi-BuildRoot.git</a>
</p><p>Given the preponderance of hardfp performance over its register ignorant peers, this will be useful in eking every last drop of performance out of the hardware.
</p><p>A more recent approach to build a basic Qt5 development environment and bootable Linux distribution with Buildroot is here:
</p><p><a rel="nofollow" class="external free" href="https://github.com/pbouda/buildroot-qt-dev">https://github.com/pbouda/buildroot-qt-dev</a>
</p><p>At the moment, this compiles Qt5 with multimedia module, OpenGL and SSL support and gives you access to the running Raspberry via SSH. You will also get a full cross-compilation environment to build your Qt apps and libraries for the Raspberry. More information is available in the README on GitHub.
</p>
<h2><span class="mw-headline" id="Building_Qt_from_scratch">Building Qt from scratch</span></h2>
<h3><span class="mw-headline" id="Helper_scripts">Helper scripts</span></h3>
<p>These <a rel="nofollow" class="external text" href="https://gitorious.org/cross-compile-tools/cross-compile-tools">scripts</a> will be cited at relevant sections and are intended as a rough guide as to the automation of labourious tasks.
</p><p>Use when prompted at your own discretion.
</p><p>We generate the nightly Qt snapshots using the following "scripts":<a rel="nofollow" class="external free" href="git://gitorious.org/packaging-scripts/packaging-scripts.git">git://gitorious.org/packaging-scripts/packaging-scripts.git</a>
</p><p>These are filthy and exist purely to get the job done with as little effort/time expenditure on our part possible.
</p>
<h3><span class="mw-headline" id="Adjusting_the_root_filesystem_for_development">Adjusting the root filesystem for development</span></h3>
<p>Qt 5 has a hard dependency on libudev for hot pluggable hardware detection/support. This mandates the installation of the libudev-devel package. (Or the filthy use of an arbitrary libudev.h and the creation of a libudev.so symlink, which is how we roll in the trenches(When life gives you mustard gas, eat franks!)) (This consideration will fall away with the release of the next Raspbian reference image)
</p><p>In order to use the root filesystem from the SD card, mount the rootfs partition as a loopback device. The offset for mount can change with different images, please query the partition offset with fdisk (see <a rel="nofollow" class="external free" href="http://www.syslinux.org/wiki/index.php/Hard_disk_images">http://www.syslinux.org/wiki/index.php/Hard_disk_images</a> ).
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">eg <span class="br0">&#40;</span>or the official Raspbian image<span class="br0">&#40;</span>s<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">:</span>
&#160;
$ <span class="co2">#mount -o loop,offset=62914560 /opt/stores/broadcom/raspberry-pi/2012-07-15-wheezy-raspbian.img /mnt/rasp-pi-rootfs</span></pre></div></div>
<p>In order to be able to use the <b>—sysroot</b> option during the Qt build process, you have to resolve all absolute library links inside the mounted rootfs, but replacing full qualified symlinks with relative ones, otherwise the linker will pickup your host libraries and promptly barf.
</p><p>The magical fixQualifiedLibraryPaths script in the cross-compile-tools repo above should go some distance to easing this chore. Simply pass it the rootfs and the compiler and it will attempt to fix the symlinks accordingly.
</p><p>You will also need to create several missing symlinks, notably: libstdc.so (/usr/lib) and libgcc_s.so (/lib) (and any other friends of the forest who rear their frothy maws with the earnest intent to munch on you)
</p><p>This might seem hacky but it is important that we pass the reference Raspbian image to the code sourcery toolchain to ensure that we are linking against the right system libraries, and not toolchain libs in conflict with the libraries on the actual device.
</p>
<h3><span class="mw-headline" id="Additional_packages">Additional packages</span></h3>
<p>The additional packages extend the scope of Qt functionality and are optional in as much as the base Raspbian image has all the development files required for GLESv2 and input support.
</p><p>Additional packages are documented <a rel="nofollow" class="external text" href="http://wiki.qt.io/Category:Software-FAQ">here</a> along with the associated ramifications
</p><p>I personally install it on the device, shuttle across the .deb, unarchive it and unpack the data.tar.gz over the original mounted image.
</p>
<h2><span class="mw-headline" id="Qt_5_on_the_Raspberry_Pi_.28BCM2835.29">Qt 5 on the Raspberry Pi (BCM2835)</span></h2>
<h3><span class="mw-headline" id="Installing_Qt_5_nightlies_from_the_repo">Installing Qt 5 nightlies from the repo</span></h3>
<p>We are generating Qt 5 nightlies for the Raspberry PI reference Raspbian image, and these are available here:
</p><p><a rel="nofollow" class="external free" href="http://archive.qmh-project.org/rpi-wheezy/debian">http://archive.qmh-project.org/rpi-wheezy/debian</a>
</p><p>this is not currently shipped as part of the Raspbian reference image, and hence
</p><p>you have to add:
</p><p>deb <a rel="nofollow" class="external free" href="http://archive.qmh-project.org/rpi-wheezy/debian">http://archive.qmh-project.org/rpi-wheezy/debian</a> unstable main
</p><p>to your source list and then you need to do to get piping hot Qt 5 action in your life is:
</p><p>apt-get update
apt-get install qt50-snapshot
</p><p>We generate these packages using <a rel="nofollow" class="external text" href="https://gitorious.org/packaging-scripts">this</a> set of scripts
</p>
<h3><span class="mw-headline" id="Building_Qt">Building Qt</span></h3>
<p>This will build everything in-source, if you want to build out-of-source execute <b>configure</b> and <b>qmake</b> for additional modules from within a separate empty folder.
</p><p>If you use either squeeze or archlinux, you need to provide the distro name as a device option for the <b>configure</b> script:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="sy0">-</span>device<span class="sy0">-</span>option DISTRO<span class="sy0">=</span><span class="br0">&#91;</span>squeeze<span class="sy0">,</span>arch<span class="br0">&#93;</span></pre></div></div>
<h3><span class="mw-headline" id="qtbase">qtbase</span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1">$ <span class="kw3">cd</span> <span class="sy0">&lt;</span>qtbase<span class="sy0">&gt;</span>
$ .<span class="sy0">/</span>configure <span class="re5">-prefix</span> <span class="sy0">&lt;</span>your prefix<span class="sy0">&gt;</span> <span class="re5">-release</span>  <span class="re5">-device</span> linux-rasp-pi-g<span class="st_h">''</span>+ <span class="re5">-make</span> libs  <span class="re5">-device-option</span> <span class="re2">CROSS_COMPILE</span>=<span class="sy0">&lt;</span>your toolchain path<span class="sy0">&gt;</span>
<span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-
 <span class="re5">-sysroot</span> <span class="sy0">&lt;</span>your sysroot path<span class="sy0">&gt;</span>
$ <span class="kw2">make</span> <span class="kw2">install</span></pre></div></div>
<h3><span class="mw-headline" id="Other_modules">Other modules</span></h3>
<p>Depending on your needs/desires you can now use your freshly minted qmake to (shadow) build whatever Qt 5 modules you require, using the following approach:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">$ cd <span class="sy0">&lt;</span>qt_module_dir<span class="sy0">&gt;</span>
$ <span class="sy0">&lt;</span>your prefix<span class="sy0">&gt;/</span>bin<span class="sy0">/</span>qmake
$ make
$ make install</pre></div></div>
<p>At a bare minimum we would recommend: qtjsbackend and qtdeclarative
</p>
<h3><span class="mw-headline" id="Runtime_information">Runtime information</span></h3>
<p>We would like to get Wayland up and running on the Pi but this requires modifications to EGL that need to be provided by the chipset vendor, Broadcom in this case. We therefore explicit set the default plugin to be the eglfs plugin which is ideal for single process use cases like set top boxes. (This can be overridden by explicitly using -platform if you see fit).
</p>
<h3><span class="mw-headline" id="Building_and_running_qtwayland_.28legacy.29">Building and running qtwayland (legacy)</span></h3>
<p><b>Please note: The current Qt Wayland sha1 is shipped as part of the Wheezy image and simply building the qtwayland module against the Wheezy sysroot should succeed. These instructions persist for the sake of anyone strapped to Raspbian Squeeze or any other distribution.</b>
</p><p>These instructions cover how to get qtwayland up and running.
</p><p>First, clone and build qtjsbackend and qtdeclarative per the instructions above.
</p><p>Now we're going to have to cross compile libffi and wayland. First we need to set up our environment with the following environment variables:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw3">export</span> <span class="re2">RPI_SYSROOT</span>=<span class="sy0">/</span>mnt<span class="sy0">/</span>rasp-pi-rootfs
<span class="kw3">export</span> <span class="re2">TOOLCHAIN</span>=<span class="re1">$HOME</span><span class="sy0">/</span>raspberry<span class="sy0">/</span>arm-<span class="nu0">2011.09</span>
<span class="kw3">export</span> <span class="re2">QTDIR</span>=<span class="re1">$HOME</span><span class="sy0">/</span>raspberry<span class="sy0">/</span>qt5<span class="sy0">/</span>qtbase
<span class="kw3">export</span> <span class="re2">PATH</span>=<span class="re1">$QTDIR</span><span class="sy0">/</span>bin:<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin:<span class="re1">$PATH</span>
<span class="kw3">export</span> <span class="re2">PREFIX</span>=<span class="sy0">/</span>opt<span class="sy0">/</span>myqt
<span class="kw3">export</span> <span class="re2">PKG_CONFIG_PATH</span>=<span class="st0">&quot;<span class="es2">$RPI_SYSROOT</span>/usr/lib/pkgconfig:<span class="es2">$RPI_SYSROOT</span>/<span class="es2">$PREFIX</span>/lib/pkgconfig:<span class="es2">$RPI_SYSROOT</span>/<span class="es2">$PREFIX</span>/share/pkgconfig&quot;</span>
<span class="kw3">export</span> <span class="re2">PKG_CONFIG_SYSROOT_DIR</span>=<span class="st0">&quot;<span class="es2">$RPI_SYSROOT</span>&quot;</span>
<span class="kw3">export</span> <span class="re2">PKG_CONFIG_ALLOW_SYSTEM_LIBS</span>=<span class="nu0">1</span>
<span class="kw3">export</span> <span class="re2">PKG_CONFIG_ALLOW_SYSTEM_CFLAGS</span>=<span class="nu0">1</span>
<span class="kw3">export</span> <span class="re2">CPP</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-cpp
<span class="kw3">export</span> <span class="re2">CC</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-gcc
<span class="kw3">export</span> <span class="re2">CXX</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-g++
<span class="kw3">export</span> <span class="re2">CFLAGS</span>=<span class="st0">&quot;—sysroot=<span class="es2">$RPI_SYSROOT</span>&quot;</span>
<span class="kw3">export</span> <span class="re2">CXXFLAGS</span>=<span class="st0">&quot;—sysroot=<span class="es2">$RPI_SYSROOT</span>&quot;</span>
<span class="kw3">export</span> <span class="re2">CPPFLAGS</span>=<span class="st0">&quot;—sysroot=<span class="es2">$RPI_SYSROOT</span>&quot;</span>
<span class="kw3">export</span> <span class="re2">LD</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-ld
<span class="kw3">export</span> <span class="re2">LDFLAGS</span>=<span class="st0">&quot;—sysroot=<span class="es2">$RPI_SYSROOT</span>&quot;</span>
<span class="kw3">export</span> <span class="re2">AS</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-as
<span class="kw3">export</span> <span class="re2">STRIP</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-strip
<span class="kw3">export</span> <span class="re2">AR</span>=<span class="re1">$TOOLCHAIN</span><span class="sy0">/</span>bin<span class="sy0">/</span>arm-none-linux-gnueabi-ar</pre></div></div>
<p>Make sure to replace the RPI_SYSROOT, TOOLCHAIN, and QTDIR variables with your equivalents. PREFIX should be whatever you used when configuring Qt above. Now we're ready to cross compile. First, for libffi:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw2">git clone</span> git:<span class="sy0">//</span>github.com<span class="sy0">/</span>atgreen<span class="sy0">/</span>libffi.git
<span class="kw3">cd</span> libffi
.<span class="sy0">/</span>configure —<span class="re2">host</span>=arm-linux —<span class="re2">prefix</span>=<span class="re1">$RPI_SYSROOT</span><span class="re1">$PREFIX</span>
<span class="kw2">make</span>
<span class="kw2">sudo</span> <span class="kw2">make</span> <span class="kw2">install</span></pre></div></div>
<p>Unfortunately this produces a pkg-config file that has a redundant prefix. Edit $RPI_SYSROOT/$PREFIX/lib/pkgconfig/libffi.pc and remove the $RPI_SYSROOT part from the "prefix=" line, leaving it just as $PREFIX.
</p><p>As for wayland, we first need to build it for the host to get the wayland-scanner binary which reads wayland extension .xml's and produces C interfaces. You might need to install libffi-dev and libexpat-dev on your host as well for this. You also need to set WAYLAND_SHA1 according to the wayland_sha1.txt in the qtwayland repo, so that we get a compatible version.
</p><p>Make sure to run these in a clean environment, not the cross compile environment we set up earlier. You may copy wayland-scanner to anywhere as long as it ends up in the $PATH later on.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw2">git clone</span> git:<span class="sy0">//</span>anongit.freedesktop.org<span class="sy0">/</span>wayland<span class="sy0">/</span>wayland
<span class="kw3">cd</span> wayland
<span class="kw2">git checkout</span> <span class="re1">$WAYLAND_SHA1</span>
.<span class="sy0">/</span>autogen.sh
<span class="kw2">make</span>
<span class="kw2">cp</span> src<span class="sy0">/</span>wayland-scanner <span class="re1">$QTDIR</span><span class="sy0">/</span>bin</pre></div></div>
<p>Now to build wayland for the target. Again make sure the cross compile environment above is sourced. This time we disable the scanner, as we don't want it as an arm binary.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw3">cd</span> wayland
<span class="kw2">git clean</span> <span class="re5">-dxf</span>
.<span class="sy0">/</span>autogen.sh —<span class="re2">host</span>=arm-linux —<span class="re2">prefix</span>=<span class="re1">$RPI_SYSROOT</span><span class="re1">$PREFIX</span> —disable-scanner
<span class="kw2">make</span>
<span class="kw2">sudo</span> <span class="kw2">make</span> <span class="kw2">install</span></pre></div></div>
<p>Again we need to fix some pkgconfig files. Edit $RPI_SYSROOT/$PREFIX/lib/pkgconfig/wayland-client.pc and wayland-server.pc as for libffi.pc above, removing the $RPI_SYSROOT from the prefix variable. This is required for qtwayland to successfully build.
</p><p>Now we get to, as we say in Norway, the raisin in the sausage, namely qtwayland. Since we have a hardware integration / buffer sharing mechanism utilizing eglCreateGlobalImageBRCM, we configure it with brcm_egl. This means both raster and opengl based clients will be able to run. The -lffi addition is necessary for some reason I haven't figured out.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw3">export</span> <span class="re2">QT_WAYLAND_GL_CONFIG</span>=brcm_egl
<span class="kw3">cd</span> qtwayland
<span class="kw3">cd</span> src
qmake
<span class="kw2">make</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sudo</span> <span class="kw2">make</span> <span class="kw2">install</span>
<span class="kw3">cd</span> ..<span class="sy0">/</span>examples<span class="sy0">/</span>
qmake
<span class="kw2">make</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sudo</span> <span class="kw2">make</span> <span class="kw2">install</span></pre></div></div>
<p>I ran into some issues where make failed due to requiring sudo permissions, but following the steps above should give you a working install.
</p><p>Now it's time to test the stuff we've built. I typically do "rsync -av $RPI_SYSROOT/$PREFIX root@rpi:$PREFIX", but whatever floats your boat.
</p><p>ssh into the device, and go to the examples/qtwayland/qml-compositor folder, then do as follows:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw3">export</span> <span class="re2">XDG_RUNTIME_DIR</span>=<span class="sy0">/</span>tmp
.<span class="sy0">/</span>qml-compositor <span class="re5">-platform</span> eglfs</pre></div></div>
<p>The XDG_RUNTIME_DIR is where the wayland socket ends up. You should now have the qml-compositor running in all its glory, time to add some clients.
</p><p>If you've built and installed wiggly from qtbase/examples/widgets/wiggly, here's how to run it:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="bash source-bash"><pre class="de1"><span class="kw3">export</span> <span class="re2">XDG_RUNTIME_DIR</span>=<span class="sy0">/</span>tmp
.<span class="sy0">/</span>wiggly <span class="re5">-platform</span> wayland<span class="sy0">&amp;</span>
.<span class="sy0">/</span>wiggly <span class="re5">-platform</span> wayland<span class="sy0">&amp;</span></pre></div></div>
<p>This launches two beautiful wiggly instances as wayland clients. You may also run "qmlscene -platform wayland" on any QML 2 example, or any other Qt OpenGL / QML 2 based application. Bon Appétit!
</p>
<h3><span class="mw-headline" id="Building_and_running_Webkit_.28prone_to_drowning_your_pony_in_a_hazard_of_tentacles.29">Building and running Webkit (prone to drowning your pony in a hazard of tentacles)</span></h3>
<h4><span class="mw-headline" id="Wheezy">Wheezy</span></h4>
<ul>
<li> Install the additional dependencies noted above
</li>
<li> explicitly export PKG_CONFIG_LIBDIR (eg. export PKG_CONFIG_LIBDIR=/mnt/rasp-pi-rootfs/usr/lib/pkgconfig) as Webkit <i>will</i> use pkg-config
</li>
<li> ./Tools/Scripts/build-webkit —qt —release —no-webgl
</li>
</ul>
<h2><span class="mw-headline" id="Qt_4_on_the_Raspberry_Pi_.28BCM2835.29">Qt 4 on the Raspberry Pi (BCM2835)</span></h2>
<p>Qt 4 runs on the Pi with minor modification and using the following spec:
</p><p><a rel="nofollow" class="external free" href="https://gitorious.org/qt-platform-mkspecs/qt-platform-mkspecs/trees/master/4.8/linux-rasp-pi-g++">https://gitorious.org/qt-platform-mkspecs/qt-platform-mkspecs/trees/master/4.8/linux-rasp-pi-g++</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.237 seconds
Real time usage: 0.258 seconds
Preprocessor visited node count: 317/1000000
Preprocessor generated node count: 959/1000000
Post‐expand include size: 1968/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 23/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1893-0!*!0!!en!*!* and timestamp 20151105082611 and revision id 18163
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;oldid=18163">http://wiki.qt.io/index.php?title=RaspberryPi&amp;oldid=18163</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://wiki.qt.io/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="http://wiki.qt.io/Category:Devices" title="Category:Devices">Devices</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=RaspberryPi" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/RaspberryPi"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:RaspberryPi&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://wiki.qt.io/RaspberryPi" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/RaspberryPi" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/RaspberryPi" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;oldid=18163&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;oldid=18163" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=RaspberryPi&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 27 June 2015, at 18:09.</li>
											<li id="footer-info-viewcount">This page has been accessed 17,804 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":341});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=RaspberryPi&oldid=18163 by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:19:14 GMT -->
</html>
