<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/GettingStartedQtFrench by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 08:03:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>GettingStartedQtFrench - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load771b.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="loadc6d2.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"GettingStartedQtFrench","wgTitle":"GettingStartedQtFrench","wgCurRevisionId":15904,"wgRevisionId":15904,"wgArticleId":853,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup","Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"GettingStartedQtFrench","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-GettingStartedQtFrench skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">GettingStartedQtFrench</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="index9298.html?title=GettingStartedQtFrench&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="Updated_pages.html" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Commencer_.C3.A0_programmer_avec_Qt"><span class="tocnumber">1</span> <span class="toctext">Commencer à programmer avec Qt</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Bonjour_Bloc-Notes"><span class="tocnumber">1.1</span> <span class="toctext">Bonjour Bloc-Notes</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Ajouter_un_bouton_Quitter"><span class="tocnumber">1.2</span> <span class="toctext">Ajouter un bouton Quitter</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#H.C3.A9riter_QWidget"><span class="tocnumber">1.3</span> <span class="toctext">Hériter QWidget</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Cr.C3.A9er_un_fichier_.pro"><span class="tocnumber">1.4</span> <span class="toctext">Créer un fichier .pro</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Utiliser_QMainWindow"><span class="tocnumber">1.5</span> <span class="toctext">Utiliser QMainWindow</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Sauvegarder_et_charger"><span class="tocnumber">1.6</span> <span class="toctext">Sauvegarder et charger</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Commencer_.C3.A0_programmer_avec_Qt">Commencer à programmer avec Qt</span></h1>
<p>Bienvenue dans le monde de Qt - la librairie GUI multiplateforme. Dans ce guide d'introduction, nous apprendrons les bases de Qt en créant un simple Bloc-Notes. Après avoir lu ce guide, vous devrez être prêt à chercher dans nos comptes-rendus et dans la documentation afin de trouver les informations nécessaires à l'application que vous développer.
</p>
<h2><span class="mw-headline" id="Bonjour_Bloc-Notes">Bonjour Bloc-Notes</span></h2>
<p>Dans ce premier exemple, nous créons et affichons un simple champ d'édition de texte dans une fenêtre sur le bureau. C'est le programme le plus simple que l'on puisse faire avec une interface graphique.
</p><p>p=. <a href="index0e93.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs1.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs1.png">http://doc.qt.nokia.com/4.7/images/gs1.png</a>
</p><p>Voici le code&#160;:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QTextEdit&gt;</span>
&#160;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argv<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">**</span>args<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 <span class="kw5">QApplication</span> app<span class="br0">&#40;</span>argv<span class="sy0">,</span> args<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw5">QTextEdit</span> textEdit<span class="sy0">;</span>
 textEdit.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw1">return</span> app.<span class="me1">exec</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Analysons le code ligne par ligne.
Dans les deux premières lignes, nous incluons les fichiers en-têtes <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a> et <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtextedit.html">QTextEdit</a>, qui sont les classes dont nous avons besoin dans cet exemple. Toutes les classes de Qt ont des en-têtes respectifs.
</p><p>À la ligne 6, nous créons un objet <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a>. Cet objet gère les ressources de l'application et est requis pour n'importe quel programme Qt qui a une interface graphique. Il prend les paramètres <i>argv</i> et <i>args</i> car Qt accepte les paramètres en ligne de commande.
</p><p>La ligne 8 crée un objet <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtextedit.html">QTextEdit</a>. Un champ d'édition de texte est un élément graphique dans une interface graphique. Dans Qt, nous les appelons des widgets. Des exemples de widgets sont les barres de défilement, les étiquettes, ou les cases d'options. Un widget peut aussi contenir d'autres widgets; une fenêtre par exemple, est un widget qui en contient d'autres.
</p><p>À la ligne 9, nous affichons le champ d'édition de texte à l'écran dans la propre fenêtre. Puisque les widgets sont aussi des conteneurs (par exemple un objet <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmainwindow.html">QMainWindow</a> qui a des barres d'outils, des menus, une barre de status, et d'autres widgets), il est possible de les afficher dans leur propre fenêtre. Les widgets de sont pas visibles par défaut; la fonction <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qwidget.html#show">show()</a> le rend visible.
</p><p>La ligne 11 fait entrer le <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a> dans un boucle d'évènements. Quand une application Qt est lancée, des évènements sont générés et envoyés aux widgets de l'application. Des exemples d'évènements sont les clics de souris ou les touches de clavier. Quand vous écrivez dans le champ de texte, il reçoit des évènements de touches de claviers appuyées et réagit en écrivant le texte tapé.
</p><p>Pour lancer l'application, lancez une console, allez dans le répertoire où est situé le .cpp du programme. Les commandes suivantes compile le programme.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake <span class="sy0">-</span>project
qmake
make</pre></div></div>
<p>Cela créera un exécutable dans le dossier <i>part1</i> (notez que sous Windows, il faudra peut-être utilisez <i>nmake</i> au lieu de <i>make</i>. L'exécutable créé sera placé dans <i>part1/debug</i> ou <i>part1/release</i>). <i>qmake</i> est l'outil de Qt, qui à partir d'un fichier de configuration .pro, créé avec le paramètre -project, génère un <i>make</i> file qui compilera le programme pour vous. Nous étudierons la création de nos propres .pro plus tard.
</p>
<h3><span class="mw-headline" id="Plus_d.27informations">Plus d'informations</span></h3>
<p>|À propos de|Ici|
|Les widgets et la géométrie des fenêtres|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/application-windows.html%7C">Fenêtres et boites de dialogue</a>
|Les évènements et leur gestion|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/eventsandfilters.html%7C">Le système d'évènement</a>
</p>
<h2><span class="mw-headline" id="Ajouter_un_bouton_Quitter">Ajouter un bouton Quitter</span></h2>
<p>Dans une application normale, vous aurez normalement plus d'un widget. Nous ajouterons un objet <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qpushbutton.html">QPushButton</a> en dessous du champ de texte. Ce bouton quittera le Bloc-Notes lorsqu'il sera cliqué.
</p><p>p=. <a href="indexbfd4.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs2.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs2.png">http://doc.qt.nokia.com/4.7/images/gs2.png</a>
</p><p>Regardons le code.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QtGui&gt;</span>
&#160;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argv<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">**</span>args<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 <span class="kw5">QApplication</span> app<span class="br0">&#40;</span>argv<span class="sy0">,</span> args<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QTextEdit</span> textEdit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span> quitButton<span class="br0">&#40;</span><span class="st0">&quot;Quit&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QObject</span><span class="sy0">::</span><span class="kw2">connect</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>quitButton<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> qApp<span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QVBoxLayout</span> layout<span class="sy0">;</span>
 layout.<span class="me1">addWidget</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>textEdit<span class="br0">&#41;</span><span class="sy0">;</span>
 layout.<span class="me1">addWidget</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>quitButton<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QWidget</span> window<span class="sy0">;</span>
 window.<span class="me1">setLayout</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>layout<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 window.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">return</span> app.<span class="me1">exec</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>À la ligne 1, nous incluons <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtgui.html">QtGui</a>, qui contient toutes les classes graphiques de Qt.
</p><p>À la ligne 10, nous utilisons le système de signaux et de slots de Qt pour quitter l'application quand le bouton <i>Quit</i> est cliqué. Un slot est une fonction qui peut être appelée à l'exécution grâce à son nom. Un signal est une fonction qui lorsqu'elle est appelée appelle les slots qui lui sont connectés. On dit qu'on connecte un slot à un signal et qu'on émet un signal.
</p><p><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qcoreapplication.html#quit">quit()</a> est un slot de <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a>.
<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qabstractbutton.html#clicked">clicked()</a> est un signal qu'un <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qpushbutton.html">QPushButton</a> émet lorsqu'il est cliqué.
La focntion statique <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html#connect">QObject::connect()</a> permet de connecter le slot au signal.
<i>SIGNAL ()_ et _SLOT()</i> sont deux macros qui prennent la signature du signal et du slot à connecter. Il faut aussi donner des pointeurs vers les objets qui envoient et reçoivent le signal.
</p><p>La ligne 12 crée un objet <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qvboxlayout.html">QVBoxLayout</a>. Nous avons dit que les widgets peuvent en contenir d'autres. Il est possible de stipuler les bords de chaque widgets (position et taille), mais il est souvent plus simple d'utiliser un layout. Un layout s'occupe de définir les bords de chaque widget fils. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qvboxlayout.html">QVBoxLayout</a> par exemple, met les widgets fils en rang vertical.
</p><p>Les lignes 13 et 14 ajoute le champ de texte et le bouton au layout. À la ligne 17, nous assignons le layout à un widget, ici la fenêtre.
</p>
<h3><span class="mw-headline" id="Plus_d.27informations_2">Plus d'informations</span></h3>
<p>|À propos de|Ici|
|Les signaux et les slots|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/signalsandslots.html%7C">Signaux &amp; slots</a>
|Les layouts|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/layout.html">Gestion des layouts</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/widgets-and-layouts.html">Widgets et layouts</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/examples-layouts.html%7C">Exemples de layout</a>
|Les différents widgets de Qt|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/gallery.html">Gallerie de widgets Qt</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/examples-widgets.html%7C">Exemples de widgets</a>
</p>
<h2><span class="mw-headline" id="H.C3.A9riter_QWidget">Hériter QWidget</span></h2>
<p>Quand l'utilisateur quitte une application, on peut vouloir ajouter une boite de dialogue pour demander de confirmer avant de quitter.
Dans cet exemple, nous créons une classe qui hérite de <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qwidget.html">QWidget</a>, et nous ajoutons un slot à connecter au bouton pour quitter.
</p><p>p=. <a href="index5f6b.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs3.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs3.png">http://doc.qt.nokia.com/4.7/images/gs3.png</a>
</p><p><br />
Regardons le code&#160;:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> Notepad <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QWidget</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 Notepad<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QTextEdit</span> <span class="sy0">*</span>textEdit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span> <span class="st0">''</span><span class="st0">'quitButton;
};</span></pre></div></div>
<p>La macro Q_OBJECT doit être située en premier dans la classe, et déclare notre classe comme un <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a> (Bien sûr, elle doit aussi héritée de <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a>). Un objet <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a> ajoute quelques possibilités supplémentaires par rapport à une classe normale de C+<i>. Par exemple, le nom de la classe et de ses slots peut être récupéré à l'exécution, ainsi que les paramètres d'un slot.</i>
</p><p>La ligne 13 déclare le slot <i>quit()</i>, avec la macro <i>slots</i>. Le slot <i>quit()</i> peut maintenant être connecter à n'importe quel signal avec la même signature, c'est-à-dire aucuns paramètres.
</p><p>Au lieu de créer l'interface et de connecter le slot dans la fonction <i>main()</i>, nous le faisons dans le constructeur de la classe <i>Notepad</i>.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad<span class="sy0">::</span><span class="me2">Notepad</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 textEdit <span class="sy0">=</span> <span class="kw1">new</span> QTextEdit<span class="sy0">;</span>
 quitButton <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QPushButton</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Quit&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">connect</span><span class="br0">&#40;</span>quitButton<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QVBoxLayout</span> <span class="st0">''</span><span class="st0">'layout = new QVBoxLayout;
 layout-&gt;addWidget(textEdit);
 layout-&gt;addWidget(quitButton);
&#160;
 setLayout(layout);
&#160;
 setWindowTitle(tr(&quot;Notepad&quot;));
}</span></pre></div></div>
<p><br />
Comme vu dans la déclaration de la classe, nous utilisons des pointeurs vers nos <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a> (<i>textEdit</i> et <i>quitButton</i>). Vous devriez toujours allouez des <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a> dynamiquement et ne jamais les copier.
</p><p>Nous utilisons maintenant les fonction <i>tr()</i> pour nos variables textes. Cette fonction est nécessaire pour fournir une traduction à votre application. Nous n'entrerons pas dans les détails, mais vous pouvez vous renseignez avec le lien <i>Qt Linguist</i> dans <i>Plus d'informations</i>
</p>
<h3><span class="mw-headline" id="Plus_d.27informations_3">Plus d'informations</span></h3>
<p>|À propos de|Ici|
|tr() et la traduction|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/linguist-manual.html">Documentation de Qt Linguist</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/i18n-source-translation.html">Écrire du code source pour traduire</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/linguist-hellotr.html">Exemples de tr() avec Hello World</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/internationalization.html%7C">Internationalisation avec Qt</a>
|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtwebkit-bridge.html#qobjects">QObjects</a> et la programmation orientée objet avec Qt (Essentiel pour comprendre Qt)|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/object.html%7C">La programmation orientée objet</a>
|qmake et la compilation avec Qt|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmake-manual.html%7C">Documentation de qmake</a>
</p>
<h2><span class="mw-headline" id="Cr.C3.A9er_un_fichier_.pro">Créer un fichier .pro</span></h2>
<p>Pour cet exemple, nous créons notre propre fichier .pro au lieu d'utiliser l'option -project de <i>qmake</i>.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">HEADERS <span class="sy0">=</span> notepad.<span class="me1">h</span>
SOURCES <span class="sy0">=</span> notepad.<span class="me1">cpp</span> main.<span class="me1">cpp</span></pre></div></div>
<p>Les commandes suivantes compile alors l'exemple.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake
make</pre></div></div>
<h2><span class="mw-headline" id="Utiliser_QMainWindow">Utiliser QMainWindow</span></h2>
<p>Pleins d'applications profiterons de l'utilisation de <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmainwindow.html">QMainWindow</a>, qui a son propre layout qui permet d'ajouter une barre de menu, des barres d'outils, des docks, et une barre de statut. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmainwindow.html">QMainWindow</a> a une partie centrale qui peut être occuper par n'importe quel widget. Pour notre Bloc-Notes, nous placerons notre champ de texte ici.
</p><p>p=. <a href="indexfa9a.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs4.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs4.png">http://doc.qt.nokia.com/4.7/images/gs4.png</a>
</p><p>Regardons la nouvelle déclaration de <i>Notepad</i>
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QtGui&gt;</span>
&#160;
<span class="kw2">class</span> Notepad <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QMainWindow</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
 <span class="kw2">public</span><span class="sy0">:</span>
 Notepad<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> open<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> save<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QTextEdit</span> <span class="sy0">*</span>textEdit<span class="sy0">;</span>
&#160;
 <span class="kw5">QAction</span> <span class="sy0">*</span>openAction<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>saveAction<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>exitAction<span class="sy0">;</span>
&#160;
 <span class="kw5">QMenu</span> <span class="st0">''</span><span class="st0">'fileMenu;
};</span></pre></div></div>
<p>Nous ajoutons deux slots supplémentaires pour sauvegarder et ouvrir un document. Nous les implémenterons après.
</p><p>Souvent, dans une fenêtre, le même slot peut être appelé par plusieurs widgets. Par exemple dans la barre de menus et dans une barre d'outils. Pour rendre ceci plus facile, Qt propose <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qaction.html">QAction</a> qui peut être donné à plusieurs widgets et être connecté à un slot. Par exemple, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmenu.html">QMenu</a> et <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtoolbar.html">QToolBar</a> permettent de créer des menus et des boutons à partir d'une même <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qaction.html">QAction</a>. Nous verrons comment cela fonctionne.
</p><p>Comme précédemment, nous utilisons le constructeur pour mettre en place l'interface graphique.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad<span class="sy0">::</span><span class="me2">Notepad</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 saveAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Open&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
 saveAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Save&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
 exitAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;E&amp;xit&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">connect</span><span class="br0">&#40;</span>openAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>open<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>saveAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>save<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>exitAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> qApp<span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 fileMenu <span class="sy0">=</span> menuBar<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">addMenu</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;File&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>openAction<span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>saveAction<span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addSeparator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>exitAction<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 textEdit <span class="sy0">=</span> <span class="kw1">new</span> QTextEdit<span class="sy0">;</span>
 setCentralWidget<span class="br0">&#40;</span>textEdit<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 setWindowTitle<span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Notepad&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Les <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qaction.html">QAction</a> sont créés à partir du texte à afficher sur les widgets auxquels nous les ajoutons (ici, des éléments de menu ). Si nous voulions les ajoutez à une barre d'outils, nous aurions aussi pu définir des icones.
</p><p>Lorsqu'un élément du menu est cliqué, l'élément déclenchera l'action, et le slot connecté sera appelé.
</p>
<h3><span class="mw-headline" id="Plus_d.27informations_4">Plus d'informations</span></h3>
<p>|À propos de|Ici|
|Les fenêtres principales et leurs sous classes|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/mainwindow.html">Fenêtres principales</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/examples-mainwindow.html%7C">Exemples de fenêtre principales</a>
|Interfaces à plusieurs documents (MDI)|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmdiarea.html">QMdiArea</a>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/mainwindows-mdi.html%7C">Exemples de MDI</a>
</p>
<h2><span class="mw-headline" id="Sauvegarder_et_charger">Sauvegarder et charger</span></h2>
<p>Dans cet exemple, nous implémenterons les fonctionnalités des slots <i>open()</i> et <i>save()</i> que nous avions ajoutés précédemment.
</p><p>p=. <a href="index82e6.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs5.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs5.png">http://doc.qt.nokia.com/4.7/images/gs5.png</a>
</p><p>Commencons avec le slot <i>open()</i>.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw5">QString</span> fileName <span class="sy0">=</span> <span class="kw5">QFileDialog</span><span class="sy0">::</span><span class="me2">getOpenFileName</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Open File&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Text Files ('''.txt);;C++ Files ('''.cpp'''.h)&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">if</span> <span class="br0">&#40;</span>fileName <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>fileName<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">ReadOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">critical</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Error&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Could not open file&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw5">QString</span> contents <span class="sy0">=</span> file.<span class="me1">readAll</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">constData</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 textEdit<span class="sy0">-&gt;</span><span class="me3">setPlainText</span><span class="br0">&#40;</span>contents<span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>La première étape est de demander à l'utilisateur le nom du fichier à ouvrir. Qt propose <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfiledialog.html">QFileDialog</a>, qui est une boite de dialogue pour sélectionner un fichier (Ici sous Kubuntu). La fonction statique <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfiledialog.html#getOpenFileName">getOpenFileName()</a> permet d'en afficher une, et ne se termine pas tant qu'un fichier n'a pas été sélectionné. Elle retourne le chemin vers le fichier sélectionné, ou une chaine vide si l'utilisateur annule l'action.
</p><p>Si nous obtenons un nom de fichier, nous essayons de l'ouvrir avec <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#open">open()</a>, qui retourne <i>true</i> si le fichier a pu être ouvert. Nous ne traiterons pas de la gestion d'erreurs ici, mais des liens sont disponibles dans la section <i>Plus d'informations</i>. Si le fichier ne peut pas être ouvert, nous utilisons un <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmessagebox.html">QMessageBox</a> pour afficher une boite de dialogue avec l'erreur (en anglais, voir la documentation sur <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmessagebox">QMessageBox</a>).
</p><p>Lire les données est simple avec la fonction <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#readAll">readAll()</a>, qui retourne toutes les données dans un <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qbytearray.html">QByteArray</a>. La fonction <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qbytearray.html#constData">constData()</a> retourne ces données dans une chaine en tant que <i>const char*</i>, dont <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qstring.html">QString</a> possède un constructeur pour. Le contenu est ensuite affiché dans le champ de texte.
Enfin, nous fermons le fichier avec la fonction <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#close">close()</a>
</p><p>Maintenant, occupons-nous du slot <i>save()</i>.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="kw5">QString</span> fileName <span class="sy0">=</span> <span class="kw5">QFileDialog</span><span class="sy0">::</span><span class="me2">getSaveFileName</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Save File&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Text Files ('''.txt);;C''+ Files ('''.cpp *.h)&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">if</span> <span class="br0">&#40;</span>fileName <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>fileName<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">WriteOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="co1">// сообщение об ошибке</span>
 <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
 <span class="kw5">QTextStream</span> stream<span class="br0">&#40;</span><span class="sy0">&amp;</span>file<span class="br0">&#41;</span><span class="sy0">;</span>
 stream <span class="sy0">&lt;&lt;</span> textEdit<span class="sy0">-&gt;</span><span class="me3">toPlainText</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 stream.<span class="me1">flush</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="br0">&#125;</span></pre></div></div>
<p>Lorsque nous écrivons le contenu du champ de texte dans le fichier, nous utilisons la classe <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtextstream.html">QTextStream</a>, qui englobe la classe <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfile.html">QFile</a>. Le flux textuel peut écrire des <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7.qstring.html">QString</a> directement dans le fichier, alors que <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfile.html">QFile</a> n'accepte que les données sous forme de <i>char*</i> avec la méthode <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#write">write()</a> de <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html">QIODevice</a>.
</p>
<h3><span class="mw-headline" id="Plus_d.27informations_5">Plus d'informations</span></h3>
<table>
<tr>
<td>À propos de
</td>
<td>Ici
</td></tr></table>

<!-- 
NewPP limit report
CPU time usage: 0.247 seconds
Real time usage: 0.273 seconds
Preprocessor visited node count: 164/1000000
Preprocessor generated node count: 344/1000000
Post‐expand include size: 1296/2097152 bytes
Template argument size: 419/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:853-0!*!0!!en!2!* and timestamp 20151104125617 and revision id 15904
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="index9c43.html?title=GettingStartedQtFrench&amp;oldid=15904">http://wiki.qt.io/index.php?title=GettingStartedQtFrench&amp;oldid=15904</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Articles_needing_cleanup.html" title="Category:Articles needing cleanup">Articles needing cleanup</a></li><li><a href="Category_Pages_with_broken_file_links.html?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=b4bbaa90d2276d26&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="GettingStartedQtFrench.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="Talk_GettingStartedQtFrench.html?title=Talk:GettingStartedQtFrench&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="GettingStartedQtFrench.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="index9298.html?title=GettingStartedQtFrench&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="indexceb6.html?title=GettingStartedQtFrench&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/GettingStartedQtFrench.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/GettingStartedQtFrench.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="indexee4b.html?title=GettingStartedQtFrench&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="index9c43.html?title=GettingStartedQtFrench&amp;oldid=15904" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="indexaae0.html?title=GettingStartedQtFrench&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 17 April 2015, at 12:20.</li>
											<li id="footer-info-viewcount">This page has been accessed 476 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load55ad.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":582});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/GettingStartedQtFrench by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 08:03:57 GMT -->
</html>
