<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Creating_a_new_module_or_tool_for_Qt&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:49:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for Creating a new module or tool for Qt - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Creating_a_new_module_or_tool_for_Qt","wgTitle":"Creating a new module or tool for Qt","wgCurRevisionId":19233,"wgRevisionId":0,"wgArticleId":3059,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Creating_a_new_module_or_tool_for_Qt","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Creating_a_new_module_or_tool_for_Qt skin-vector action-edit vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for Creating a new module or tool for Qt</span></h1>
						<div id="bodyContent">
								<div id="contentSub">‚Üê <a href="http://wiki.qt.io/Creating_a_new_module_or_tool_for_Qt" title="Creating a new module or tool for Qt">Creating a new module or tool for Qt</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="http://wiki.qt.io/index.php?title=Qt_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Qt Wiki:Users (page does not exist)">Users</a>, KnowledgeBase, QtWS.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">[[Category:Developing_Qt]]

'''''Warning: This page is significantly outdated in many details'''''

== Getting started with new ideas on Qt Project's Playground. ==

It's easy to kick off a new module or tool in the Qt project. With the approval of a Qt Maintainer, you can [[Requesting New Repositories|request a new project]] to be added to the Qt Playground area of codereview.qt-project.org. We want to keep the barrier low so please don't hesitate to get started with your new idea in the Playground even if you're not sure whether the project will lead into anything real.

Here are the steps:

# Write a short description of your project
# Choose a descriptive playground project name. The name should not include "Qt". For example "Extra Effects", "Mime Types". The reason for not including the Qt name is that the good descriptive Qt prefixed names are reserved for projects that are actual Qt modules or tools. The playground modules do not have the status of being closely associated with Qt yet.
# Send your request for a new Playground project (including project name and description) to the "Qt Development List":mailto:development@qt-project.org mailing list 
# Get approval from one Qt maintainer for your new playground project on the mailing list
# After a Qt maintainer has confirmed the approval, create a task in the Qt Project bug tracker ([https://bugreports.qt.io/browse/QTQAINFRA/component/19470 QTQAINFRA] project, Gerrit component) requesting a new Gerrit project for you. Refer to the mailing list archives for the approval from a Qt Maintainer
# Keep calm and hack on

In your playground project, you use the &lt;code>Playground&lt;/code> QML import path. If your Playground project is called "Extra Effects", then it is imported by

&lt;code>
import Playground.ExtraEffects 0.1
&lt;/code>

== Moving an existing project to the Qt Project. ==

If your project has already been started outside the Qt Project, it can still be moved to the Qt Project, either as a new Playground project or as a new Qt Add-On module or tool.

If you want to move your existing project to the Qt Project, then follow these steps:

# Send your request for moving an existing project to the Qt Project (including project name and description) to the "Qt Development List":mailto:development@qt.io mailing list 
# If you want the project to be moved to the Playground, then you need to get an approval from one Qt maintainer on the mailing list
# If your project is well established and mature, you can alternatively request the project to be moved to the Qt Project as a new Qt Add-On module or tool. This requires discussion on the "Qt Development List":development@qt.io mailing list and the approval of the Chief Maintainer for the technical fit and spirit fit to Qt. Other technical reviews may be needed as well (TO BE CLARIFIED)
# After you have the approval from the mailing list, create a task in the Qt Project bug tracker ("QTQAINFRA"::https://bugreports.qt.io/browse/QTQAINFRA/component/19470 project, Gerrit component) requesting a new Gerrit project for you. Refer to the mailing list archives for the approval from a Qt Maintainer (for Playground projects) or Chief Maintainer (for new Qt modules and tools). Remember to mention that this is an existing project that will be moved to the Qt Project 
# A special contribution agreement will be created for your project. All existing contributors need to accept the contribution agreement before the project can be moved (see [http://qt.io/legal.html Qt Project Legal Aspects])

== Automated testing for Playground projects. ==

To be added. How to provide automated testing and test results for Playground projects?

== Graduating from the Playground. ==

Once your project becomes more mature, it can be moved out of the playground, and become a Qt module or tool. This decision is done on the qt-development mailing list, based on the technical and spirit fit to Qt, and it requires the approval of the Chief Maintainer.

When your project is moved from the playground to the Qt project area, the playground name needs to be changed to a descriptive Qt module or tool name.

== Guidelines for choosing good module and tool names. ==

Generally, module and tool names should be descriptive. The names describe the core of the function or benefit. Branded names are generally not recommended. Examples of good descriptive names include Qt Designer, Qt Core, Qt Location, Qt Sensors, and Qt Document Gallery.

If a proposed new name is not a simple descriptive term, then Legal and connotation checks are needed. These checks would have to be done on a national level for the regions where Qt is used, so they are complex and expensive. Therefore, names that require such checks are discouraged. If a name that requires Legal and connotation checks is still desired, then the maintainer should escalate to the Chief Maintainer.

General name related criteria:
* Names fit the existing name and terminology range. For example for a new tool, consider following the example of the existing names Qt Designer, Qt Linguist, Qt Creator.
* Difficult terminology is avoided and names are factually correct
* Names should be chosen for long-term use
* Try to avoid acronyms. Do not follow the example of Qt JSON DB. See [http://developer.qt.nokia.com/wiki/Spelling_Module_Names_in_Qt_Documentation this wiki] for the spelling of module names.
* Names work well in documentation and communications
* Names are easy to understand and remember. Prefer short and simple names.
* Names are free of negative meanings and connotations in different cultures and languages
* Names are available (if legal consultation needed please see Qt Project legal contact information from: [http://qt.io/legal.html Qt Project Legal Aspects])

Don't use:
* Third party technology names or trademarks or industry standard names as part of the name. Names such as "Qt V8" do not work. In a possible trademark enforcement action, we might be forced to remove the trademark from our code, which would break compatibility. Therefore, you should avoid using trademarks anywhere in the code (file names, class names, methods and so on). Sometimes, it is necessary to call a 3rd party product or technology with its real name; in these cases, use of a 3rd party trademark may be possible under "fair use" guidelines. In such cases, please discuss with Qt Project Legal ([http://qt.io/legal.html Qt Project Legal Aspects]).
* Any play on names. For example don't alter, derivate, conjugate or combine words to others. Don't follow the example of "ActiveQt" or "Qt MultimediaKit".
* Slang in names

== Using the module name in application code and documentation. ==

Once you have selected a name for your new module, you need to start using the name of the module in the code consistently. Be always consistent with your module name: choose just one name and spell it always in the same way. Use the same name in the C++ context and in QML: talk about the C++ API of your module or the QML API of your module.

In QML, applications should be able to start using any Qt module with the following QML import statement: import &lt;module name>.&lt;extension> &lt;version>

For example:
&lt;code>
import QtContacts 5.0
import QtQuick.Particles 2.0
import QtExample.UseCamelCaseHere 5.0
&lt;/code>

Since the module repository structure should not be exposed to the user of Qt (see below), we use import statements like &lt;code>import QtContacts 5.0&lt;/code> instead of -&lt;code>import QtPim.Contacts 5.0&lt;/code>-.

Qt modules are recommended to wrap their public API in a C++ namespace, to avoid clashes in symbol naming with other Qt libraries. The C++ namespace is the module name in camel-case format, for example: &lt;code>QtFeedback&lt;/code>, &lt;code>QtJsonDb&lt;/code>, &lt;code>QtContacts&lt;/code> and &lt;code>QtBluetooth&lt;/code>. Namespaces are especially recommended for Qt Add-On modules. However, former Qt 4 modules do not use a namespace for source compatibility reasons.

If the module doesn't have a namespace, then the usual conventions for naming classes and functions apply (&lt;code>QMyClass&lt;/code> etc.). When naming classes of a module that uses a namespace, a good practice is use simple non-prefixed class names within the C++ namespace. Naming classes like &lt;code>QMyClass&lt;/code> is also OK within a namespace.

Include directives work similarly for all Qt modules:
&lt;code>
//modules are added to the include path, so these include directives work:
#include &lt;QtFoo> /* include all classes of the module */
#include &lt;QBar> /''' include one class */

//if two modules use the same class name, you can do this:
#include &lt;QtFoo/QBar>
&lt;/code>

Libraries are named libqtfoo.so.5.0, QtFoo5.dll etc. 

The qmake .pro file usage does not change from Qt 4. Both Qt Essentials and Qt Add-On modules need to provide a .pri file so that Qt applications can add the module to a project with the familiar way (more about this below):
&lt;code>
QT += module
&lt;/code>

It is important to be consistent and use the same name for the module in all these places, and in the documentation.

== The structure of a new module repository. ==

A module is a collection of library/-ies, documentation, examples, demos and tests. 

Sometimes several modules share a source code repository. The qtbase, qtsystems, and qtpim repos are examples of such module repositories. In these cases, the name of the module repository is an implementation detail. The modules should be named and treated independently in the documentation.

It is recommended that a module repository follows the following structure:
''' &lt;code>README&lt;/code>
* &lt;code>LICENSE&lt;/code>
* &lt;code>bin/&lt;/code> - Where all binaries of the module is/will be located
* &lt;code>examples/&lt;/code> - Where the examples of the module will be located
* &lt;code>lib/&lt;/code> - Where the libraries of a module will be located (for non-local install prefixes)
* &lt;code>plugins/&lt;/code> - Where the plugins of a module will be located (for non-local install prefixes)
* &lt;code>imports/&lt;/code> - Where the QML imports of a module will be located (for non-local install prefixes)
* &lt;code>src/&lt;/code> - Source code for all libraries of the module
* &lt;code>src/[modulename]/doc/&lt;/code> - Where the documentation of the module will be located. &lt;code>[modulename]&lt;/code> is optional when the repository only contains one module.
* &lt;code>modules/qt_&lt;module>.pri&lt;/code> for all modules
* &lt;code>tests/auto/&lt;/code> - All the auto-tests for all the modules
* &lt;code>tests/benchmarks/&lt;/code> - All the benchmarking tests for all the modules
* &lt;code>&lt;repository>.pro&lt;/code> - A module repository's qmake top-level project file, which is responsible for compiling the complete project, with targets to generate the module's documentation.
* &lt;code>sync.profile&lt;/code>

== The qt_&lt;module>.pri files. ==

&lt;code>qt_&lt;module>.pri&lt;/code> is a module specific file, of which a module repository may have several. The typical location for this file is under the &lt;code>modules/&lt;/code> directory of a repository, but the location can be arbitrary, as it is referred to by the sync.profile file.

The &lt;code>qt_&lt;module>.pri&lt;/code> file is a normal qmake include file, and is loaded before a projects .pro file is parsed. This means that all the variables defined by a module is available to any project. Due to this, the variables should be scoped under
 &lt;code>QT.&lt;module>&lt;/code>

Each module '''requires''' a certain set of variables to be defined:
* &lt;code>QT.&lt;module>.name&lt;/code> - Full name of module, f.ex. QtScriptTools
* &lt;code>QT.&lt;module>.bins&lt;/code> - Path of bin/ directory, typically &lt;code>$$QT_MODULE_BIN_BASE&lt;/code>
* &lt;code>QT.&lt;module>.includes&lt;/code> - Path of include/, typically &lt;code>$$QT_MODULE_INCLUDE_BASE $$QT_MODULE_INCLUDE_BASE/$$QT.&lt;module>.name&lt;/code>
* &lt;code>QT.&lt;module>.private_includes&lt;/code> - Path of private includes. &lt;strike>typically &lt;code>$$QT_MODULE_INCLUDE_BASE/$$QT.&lt;library>.name/private&lt;/code> &lt;/strike>. The [http://qt.gitorious.org/qt/qtlocation/commit/b0ae24095376bf51916f1764a0d48a607bf8bdb2/diffs new sanctioned way is using the version], i.e. &lt;code>$$QT_MODULE_INCLUDE_BASE/&lt;module>/$$QT.&lt;module>.VERSION&lt;/code>
* &lt;code>QT.&lt;module>.sources&lt;/code> - Path of source code, typically &lt;code>$$QT_MODULE_BASE/src&lt;/code>
* &lt;code>QT.&lt;module>.libs&lt;/code> - Path of lib/. typically &lt;code>$$QT_MODULE_LIB_BASE&lt;/code>
* &lt;code>QT.&lt;module>.plugins&lt;/code> - Path of plugins/. typically &lt;code>$$QT_MODULE_PLUGIN_BASE&lt;/code>
* &lt;code>QT.&lt;module>.imports&lt;/code> - Path of imports/. typically &lt;code>$$QT_MODULE_IMPORT_BASE&lt;/code>
* &lt;code>QT.&lt;module>.depends&lt;/code> - The modules listed here should be all dependencies required to use &lt;module>.

A module should be listed here if &lt;module> uses its includes, symbols or macro definitions in its own public API and headers. For example, if public headers of a dependency are used in the public headers of &lt;module>, that dependency should be listed here. Similarly, if a preprocessor macro or compiler flag is required to use the dependency, and that macro is used in the public headers of &lt;module>, then that is a public dependency that should be listed here.

'''Optional:'''
* &lt;code>QT.&lt;module>.CONFIG&lt;/code> - CONFIG Options to add to project when this module is used
* &lt;code>QT.&lt;module>.DEFINES&lt;/code> - Defines to add to the project when this module is used

If Qt is not a system install, syncqt will create forwarding .pri's in &lt;code>mkspecs/modules/&lt;/code>, which populates the variables &lt;code>QT_MODULE_BASE&lt;/code>, &lt;code>QT_MODULE_BIN_BASE&lt;/code>, &lt;code>QT_MODULE_INCLUDE_BASE&lt;/code>, &lt;code>QT_MODULE_LIB_BASE&lt;/code> with the appropriate paths before including the module pri file.

In a system install Qt, the &lt;code>mkspecs/modules/&lt;/code> pri files are the original, and the above variables contain the paths of which Qt has been configured with.

This means that for a developer build of Qt (where prefix points to the build directory), modules can be used without running 'make install' as soon as it's built. However, system install Qt requires you to &lt;code>make install&lt;/code> every time you do a recompile in the module repository.

== The sync.profile script ==

The sync.profile file is a Perl script which contains settings for the module repository. syncqt uses this file to create forward include files, and forwarding qmake-include (pri) files.

The %dependencies variable is also used by build-bots to determine what other module repositories, and at which revision, are needed to build the module repository.

It may contain the following Perl hashes, and arrays.

=== modules ===

* &lt;code>%modules&lt;/code> - contains a module's master include name, and the path for the sources, based on &lt;code>$basedir&lt;/code>, which points to the modules base path.
** ex:
&lt;code>%modules = ( # path to module name map
 "QtScript" => "$basedir/src/script",
 "QtScriptTools" => "$basedir/src/scripttools",
);&lt;/code>

=== moduleheaders ===

* &lt;code>%moduleheaders&lt;/code> - restricts the module headers to only those found in these relative paths.
''Not really used (used by -separate-module command line option), use above variable for individual modules_
* &lt;code>%classnames&lt;/code>- contains a header file, and its C++ filename equivalent. (To be used if the file do not really have a C++ class with that name)
'''''' ex: &lt;code>%classnames = (
 "qglobal.h" => "QtGlobal",
 "qnamespace.h" => "Qt",
 "qdebug.h" => "QtDebug"
);&lt;/code>

=== classnames ===

* Under &lt;code>%classnames&lt;/code>, there is one line like "qtmoduleversion.h" => "QtModuleVersion"
'''''' Here the qtmoduleversion.h was generated by syncqt, just to get a new name based on above rules.
'''''' For this qtmoduleversion.h, it was based on the info from the module .pri file.
* For example:
'''''' for QtDeclarative module in qtdeclarative repo,
'''''' based on &lt;code>QT.declarative.MAJOR_VERSION&lt;/code>, &lt;code>QT.declarative.MINOR_VERSION&lt;/code> and &lt;code>QT.declarative.PATCH_VERSION&lt;/code> in modules/qt_declarative.pri file
'''''' it will generate a src/declarative/qtdeclarativeversion.h
'''''' please remember to add this file in qtdeclarative repo .gitignore file.

=== mastercontent === 

* &lt;code>%mastercontent&lt;/code> - contains extra content for a library's master include.
'''''' ex: &lt;code>%mastercontent = (
 "core" => "#include &lt;QtCore/QtCore>",
 "gui" => "#include &lt;QtGui/QtGui>",
 "scripttools" => "#include &lt;QtScriptTools/QtScriptTools>",
);&lt;/code>

There are a few things going on here that should be explained further. To avoid talking about abstracts, let's use qtsensors as a concrete example.

The qtsensors module repository has a module, QtSensors. The source code of the module lives under src/sensors and the master header is QtSensors/QtSensors. Since this module specifies &lt;code>QT = core&lt;/code> in its .pro file and since sync.profile specifies some mastercontent for core, that content goes into the master header before any of the generated include lines.

&lt;code>
#ifndef QT_QTSENSORS_MODULE_H
#define QT_QTSENSORS_MODULE_H
#include &lt;QtCore/QtCore>
#include "qaccelerometer.h"
‚Ä¶
&lt;/code>

It's not completely clear why this is important. It possibly makes some sense when you have pre-compiled headers in use.

=== modulepris ===

* &lt;code>%modulepris&lt;/code> - contains the module master include name, and the path to the module's qmake include file.
'''''' ex: &lt;code>%modulepris = (
 "QtScript" => "$basedir/modules/qt_script.pri",
 "QtScriptTools" => "$basedir/modules/qt_scripttools.pri",
);&lt;/code>

===  dependencies === 

* &lt;code>%dependencies&lt;/code> - contains the other module repositories that are required to build this module repository, as well as the refs or SHA1s which should be used in them.
Note that this should be all module repos needed to build this module repo, not just direct dependencies.
ex: &lt;code>
%dependencies = (
 "qtbase" => "refs/heads/branchWithExperimentalStuff",
 "qtscript" => "refs/heads/master",
 "qtsvg" => "refs/heads/master",
 "qtxmlpatterns" => "refs/heads/master",
 "qttools" => "01c57f35feac99ce910a56d0d1906717d27e2a62",
);
&lt;/code>

=== other fields ===

* &lt;code>@ignore_for_master_contents&lt;/code> - list of files to not check for any master content.
 ex: &lt;code>@ignore_for_master_contents = ( "qt.h", "qpaintdevicedefs.h" );&lt;/code>
* &lt;code>@ignore_for_include_check&lt;/code> - list of files to not process at all
 ex: &lt;code>@ignore_for_include_check = ( "qatomic.h" );&lt;/code>
* &lt;code>@ignore_for_qt_begin_header_check&lt;/code>- list of files to not check for a begin header
 ex: &lt;code>@ignore_for_qt_begin_header_check = ( "qconfig.h", "qfeatures.h", "qt_windows.h" );&lt;/code>
* &lt;code>@ignore_for_qt_begin_namespace_check&lt;/code> - list of files to not check for begin namespace
 ex: &lt;code>@ignore_for_qt_begin_namespace_check = ( "qconfig.h", "qfeatures.h", "qt_windows.h", "qatomic_arch.h" );&lt;/code>
* &lt;code>@ignore_for_qt_module_check&lt;/code> - list of paths to avoid checking for module
 ex: &lt;code>@ignore_for_qt_module_check = ( "$modules{QtCore}/arch", "$modules{QtSql}/drivers", "$modules{phonon}" );&lt;/code>

== Library specific .pro files ==

A module library/appliction can start its .pro file with a &lt;code>load(qt_module)&lt;/code> to expose critical Qt configuration variables, such as &lt;code>QMAKE_MOC&lt;/code>, &lt;code>QMAKE_LFLAGS&lt;/code>, &lt;code>QT_CFLAGS''&lt;subsystem>&lt;/code>, &lt;code>QMAKESPEC&lt;/code>, etc.

== Getting a module repository integrated with the Qt 5 build and repository system ==

To get your module repository integrated as part of the Qt5 build and repo system follow these steps, and submit the changes.

* Add the new submodule (replace qt-quick3d with your module details):
&lt;code>
cd ~/depot
git clone git@gitorious.org:qt/qt5.git
cd qt5
git submodule add git://gitorious.org/qt-quick3d/qt-quick3d.git qtquick3d
&lt;/code>
'''''' This should create a new directory inside~/depot/qt5 named after your module, and also &lt;code>cat .gitmodule&lt;/code> should show your module.
* Edit &lt;code>qt.pro&lt;/code> and &lt;code>init-repository&lt;/code> scripts
** Do a &lt;code>git show f7225b87a9e9e8379c627c6771ee5b2bc6492f73&lt;/code> for an example
** First add your module to qt.pro so that it can be built by typing &lt;code>make module-qtquick3d&lt;/code> for example, but is not built by default
** Add the gerrit and/or gitorious repos for your module to the list
* Suggest debugging your new qt5 changes to check they work
&lt;code>
mkdir -p ~/test_depot &amp;&amp; cd~/test_depot
git clone ~/depot/qt5 &amp;&amp; cd qt5
./init-repository ‚Äîno-webkit ‚Äînokia-developer ‚Äîbrisbane ‚Äîcodereview-username sarasmit
&lt;/code>
** check that the script successfully checks out your project and the other projects
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="http://wiki.qt.io/Creating_a_new_module_or_tool_for_Qt" title="Creating a new module or tool for Qt">Creating a new module or tool for Qt</a>.</p>
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/Creating_a_new_module_or_tool_for_Qt">http://wiki.qt.io/Creating_a_new_module_or_tool_for_Qt</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=Creating+a+new+module+or+tool+for+Qt" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/Creating_a_new_module_or_tool_for_Qt"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:Creating_a_new_module_or_tool_for_Qt&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="http://wiki.qt.io/Creating_a_new_module_or_tool_for_Qt" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="http://wiki.qt.io/index.php?title=Creating_a_new_module_or_tool_for_Qt&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=Creating_a_new_module_or_tool_for_Qt&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/Creating_a_new_module_or_tool_for_Qt" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/Creating_a_new_module_or_tool_for_Qt" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=Creating_a_new_module_or_tool_for_Qt&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>K√§ytt√∂ehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":221});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Creating_a_new_module_or_tool_for_Qt&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 11:49:49 GMT -->
</html>
