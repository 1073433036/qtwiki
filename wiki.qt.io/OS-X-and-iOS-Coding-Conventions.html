<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/OS-X-and-iOS-Coding-Conventions by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 09:09:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>OS-X-and-iOS-Coding-Conventions - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load771b.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="loadc6d2.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OS-X-and-iOS-Coding-Conventions","wgTitle":"OS-X-and-iOS-Coding-Conventions","wgCurRevisionId":15488,"wgRevisionId":15488,"wgArticleId":1204,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"OS-X-and-iOS-Coding-Conventions","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-OS-X-and-iOS-Coding-Conventions skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">OS-X-and-iOS-Coding-Conventions</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Objective-C"><span class="tocnumber">1</span> <span class="toctext">Objective-C</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#ARC_.28Automated_Reference_Counting.29"><span class="tocnumber">1.1</span> <span class="toctext">ARC (Automated Reference Counting)</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Patching_the_Cocoa_runtime"><span class="tocnumber">1.2</span> <span class="toctext">Patching the Cocoa runtime</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Use_properties_and_dot_notation"><span class="tocnumber">1.3</span> <span class="toctext">Use properties and dot notation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#OS_Versions"><span class="tocnumber">2</span> <span class="toctext">OS Versions</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Xcode_version_support"><span class="tocnumber">3</span> <span class="toctext">Xcode version support</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#OS_X_and_iOS_code_sharing"><span class="tocnumber">4</span> <span class="toctext">OS X and iOS code sharing</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#OS_X_.2F_Cocoa"><span class="tocnumber">5</span> <span class="toctext">OS X / Cocoa</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#NSApp_vs_.5BNSApplication_sharedApplication.5D"><span class="tocnumber">5.1</span> <span class="toctext">NSApp vs [NSApplication sharedApplication]</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Deployment"><span class="tocnumber">5.2</span> <span class="toctext">Deployment</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Objective-C">Objective-C</span></h2>
<h3><span class="mw-headline" id="ARC_.28Automated_Reference_Counting.29">ARC (Automated Reference Counting)</span></h3>
<p>Qt uses manual reference counting, ARC usage is currently prohibited.
</p><p><b>Rationale:</b> ARC requires a 64-bit build. There is little benefit of using ARC for the 64-bit builds only since we still have to maintain the manual reference counting code paths. ARC can be used when Qt no longer support 32-bit builds.
</p>
<h3><span class="mw-headline" id="Patching_the_Cocoa_runtime">Patching the Cocoa runtime</span></h3>
<p>Qt does not patch or polyfill the Cocoa runtime using class_addMethod(). [There are some instances of this in Qt 5.3, but we do not want to expand the usage.]
</p><p><b>Rationale:</b> Using this technique to work around OS version differences would be convenient. However, as a library we want to be conservative and don't change the runtime. We also don't want to introduce another abstraction layer in addition to the version abstraction patterns already in Qt.
</p>
<h3><span class="mw-headline" id="Use_properties_and_dot_notation">Use properties and dot notation</span></h3>
<p>Use that instead of calling getters and setters. Cocoa and UIKit are doing the same. Use them in Qt's own Objective C classes as well. (We need to check which compiler versions, that we support, still need the synthesize directive + ivar declaration. Ideally, we should move away from that too).
</p><p><b>Rationale:</b> This is how Objective C works nowadays. It also adds the possibility of adding properties to classes through categories. Finally, it will ease the transition to ARC when 32-bit support is finally dropped.
</p>
<h2><span class="mw-headline" id="OS_Versions">OS Versions</span></h2>
<p>We want Qt to work on new OS versions, including pre-releases. As platform developers we are not concerned about "official" support in the project, but would rather see Qt work right away. The main restriction is practical difficulties related to developing and testing on pre-release OS versions.
</p><p>Dropping support for old versions is done on a semi-regular basis. Inputs are
</p>
<ul>
<li> Market Share
</li>
<li> Is Apple still security-patching the version?
</li>
<li> Is it a maintenance burden?
</li>
</ul>
<p>There process of dropping support is gradual:
</p>
<ul>
<li> Deploy-only (no binary package support). Compile-from-source is usually not a problem and a good way of testing compatibility.
</li>
<li> New features may not work on the old(est) platforms
</li>
<li> Deprecation in a minor release
</li>
<li> Removal in the next release.
</li>
</ul>
<p>Gradual loss of quality is <i>not</i> a goal.
QWebKit/WebEngine lives its own life depending on upstream support
</p><p>We would like to move to a "the only version is the current version" world. (This is currently more true on iOS than OS X.)
</p>
<h2><span class="mw-headline" id="Xcode_version_support">Xcode version support</span></h2>
<p>In general, if we support a given OS X version as a development platform then we support the most recent Xcode available for that version. Refer to the Xcode <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Xcode">wikipedia article</a> for a versions and requirements overview.
</p>
<h2><span class="mw-headline" id="OS_X_and_iOS_code_sharing">OS X and iOS code sharing</span></h2>
<p><b>Both</b> OS X and iOS set Q_OS_MAC. OS X sets Q_OS_OSX. iOS sets Q_OS_iOS. On the Qmake side this corresponds mac, osx, and ios.
</p><p>Don't use Q_OS_MACX.
</p><p>OS X and iOS share as much code as possible. This is done via the the static platformsupport library.
</p>
<h2><span class="mw-headline" id="OS_X_.2F_Cocoa">OS X / Cocoa</span></h2>
<h3><span class="mw-headline" id="NSApp_vs_.5BNSApplication_sharedApplication.5D">NSApp vs [NSApplication sharedApplication]</span></h3>
<p>Use [NSApplication sharedApplication].
</p><p><b>Rationale</b>: While a little longer to type, [NSApplication sharedApplication] is type-safe an can save us from compiler errors.
</p>
<h3><span class="mw-headline" id="Deployment">Deployment</span></h3>
<p>Qt binaries are <i>forward compatible</i>: Compile on 10.X and run on 10.X+.
</p><p>Qt binaries are <i>backwards compatible</i>: Compile on 10.X and run on prior versions. How far back you can go depends on the Qt version in use. This is accomplished by compile-time and run-time version checks (<i>weak linking</i>). Grep for MAC_OS_X_VERSION_MAX_ALLOWED and QSysInfo::MacintoshVersion in the Qt source code to see the pattern in use.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.013 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 39/1000000
Preprocessor generated node count: 44/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:1204-0!*!*!!en!*!* and timestamp 20151105065547 and revision id 15488
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="indexe7cc.html?title=OS-X-and-iOS-Coding-Conventions&amp;oldid=15488">http://wiki.qt.io/index.php?title=OS-X-and-iOS-Coding-Conventions&amp;oldid=15488</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="index27e4.php?title=Special:QtLogin&amp;returnto=OS-X-and-iOS-Coding-Conventions" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="OS-X-and-iOS-Coding-Conventions.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="index250a.php?title=Talk:OS-X-and-iOS-Coding-Conventions&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="OS-X-and-iOS-Coding-Conventions.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="indexaa6f.php?title=OS-X-and-iOS-Coding-Conventions&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="index415d.html?title=OS-X-and-iOS-Coding-Conventions&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/OS-X-and-iOS-Coding-Conventions" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/OS-X-and-iOS-Coding-Conventions.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="indexff98.php?title=OS-X-and-iOS-Coding-Conventions&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="indexe7cc.html?title=OS-X-and-iOS-Coding-Conventions&amp;oldid=15488" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="indexf0df.html?title=OS-X-and-iOS-Coding-Conventions&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 7 April 2015, at 11:01.</li>
											<li id="footer-info-viewcount">This page has been accessed 460 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load55ad.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":275});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/OS-X-and-iOS-Coding-Conventions by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 09:09:24 GMT -->
</html>
