<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=GettingStartedQtUkrainian&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:58:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>View source for GettingStartedQtUkrainian - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://wiki.qt.io/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qt.io/opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qt.io/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="http://wiki.qt.io/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"GettingStartedQtUkrainian","wgTitle":"GettingStartedQtUkrainian","wgCurRevisionId":15906,"wgRevisionId":0,"wgArticleId":857,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"GettingStartedQtUkrainian","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-GettingStartedQtUkrainian skin-vector action-edit vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for GettingStartedQtUkrainian</span></h1>
						<div id="bodyContent">
								<div id="contentSub">← <a href="http://wiki.qt.io/GettingStartedQtUkrainian" title="GettingStartedQtUkrainian">GettingStartedQtUkrainian</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="http://wiki.qt.io/index.php?title=Qt_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Qt Wiki:Users (page does not exist)">Users</a>, KnowledgeBase, QtWS.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">{{Cleanup | reason=Auto-imported from ExpressionEngine.}}


= Перші кроки з Qt =

Ласкаво просимо до світу Qt — крос-платформного набору інструментів для ГІК (графічного інтерфейсу користувача). В цьому посібнику з перших кроків ми отримаємо базові знання з Qt, реалізовуючи просту програму Нотатник. Після прочитання цього посібника ви маєте бути готові зануритись до наших оглядів та документації з API та знайти потрібну вам інформацію для програми, що ви розробляєте.

== Привіт, Нотатник ==

В цьому першому прикладі ми просто створимо та відобразимо текстовий редактор у вікні на стільниці. Це буде найпростіша можлива програма Qt, що має ГІК.

p=. [[Image:http://doc.qt.nokia.com/4.7/images/gs1.png|http://doc.qt.nokia.com/4.7/images/gs1.png]]

Код програми:

&lt;code>
#include &lt;QApplication>
#include &lt;QTextEdit>

int main(int argc, char *'''argv)
{
 QApplication app(argc, argv);

 QTextEdit textEdit;
 textEdit.show();

 return app.exec();
}
&lt;/code>

p. Давайте переглянемо код рядок за рядком. В перших двох рядках ми підключаємо файли заголовків для [http://doc.qt.nokia.com/4.7/qapplication.html QApplication] та [http://doc.qt.nokia.com/4.7/qtextedit.html QTextEdit], двох класів, що потрібні для цього прикладу. Усі класи Qt мають файл заголовків, названий так само як і клас.

p. В рядку 6 створюється об'єкт [http://doc.qt.nokia.com/4.7/qapplication.html QApplication]. Цей об'єкт керує ресурсами програми і має бути запущений в будь-який програмі Qt, що має ГІК. Йому передаються &lt;code>argc&lt;/code> та &lt;code>argv&lt;/code>, оскільки Qt обробляє деякі параметри командного рядка.

p. В рядку 8 створюється об'єкт [http://doc.qt.nokia.com/4.7/qtextedit.html QTextEdit]. Текстовий редактор є візуальним елементом ГІК. Ми називаємо такі елементи віджетами в Qt. Прикладами інших віджетів є панелі прокрутки, мітки та перемикачі. Віджет також може бути контейнером для інших віджетів, як, наприклад, діалог або головне вікно програми.

p. В рядку 9 текстовий редактор відображується на екрані у його власному вікні. Оскільки віджети також функціонують як контейнери (наприклад, [http://doc.qt.nokia.com/4.7/qmainwindow.html QMainWindow], який має панелі інструментів, меню, рядок статусу та декілька інших віджетів), то можна відобразити один віджет у його власному вікні. Віджети не відображаються за замовчанням; функція [http://doc.qt.nokia.com/4.7/qwidget.html#show show()] робить віджет видимим.

p. В рядку 11 відбувається вхід до циклу подій [http://doc.qt.nokia.com/4.7/qapplication.html QApplication]. Коли програма Qt виконується, генеруються події, що доставляються до віджетів програми. Прикладами подій є натискання на кнопки миші та клавіші клавіатури. Коли ви набираєте текст в віджеті текстового редактора, він отримує події натискання клавіш та реагує промальовуванням тексту, що набирається.

p. Щоб запустити програму, відкрийте командний рядок та перейдіть до теки, в якій знаходиться файл &lt;code>.cpp&lt;/code> програми. Наступні команди оболонки зберуть програму.

&lt;code>
qmake -project
qmake
make
&lt;/code>

p. При цьому виконуваний модуль з'явиться в теці &lt;code>part1&lt;/code> (майте на увазі, що у Windows вам, можливо, потрібно буде використовувати &lt;code>nmake&lt;/code> замість &lt;code>make&lt;/code>. Також, виконуваний модуль буде розміщено в &lt;code>part1/debug&lt;/code> або &lt;code>part1/release&lt;/code>). &lt;code>qmake&lt;/code>- це інструмент збірки з Qt, який використовує конфігураційний файл. &lt;code>qmake&lt;/code> генерує його для нас, коли запускається з аргументом &lt;code>-project&lt;/code>. Коли конфігураційний файл (із суфіксом &lt;code>.pro&lt;/code>) існує, &lt;code>qmake&lt;/code> створює файл збірки, який збирає для вас програму. Ми розглянемо написання власних файлів &lt;code>.pro&lt;/code> пізніше.

=== Дізнайтесь більше ===
table{border:1px solid lightgray}.
{background:lightgray }. |''. Про |''. Тут |
|Віджети та геометрія вікна|'''[http://doc.qt.nokia.com/4.7/application-windows.html'''| Віджети вікна та діалогу]
|Події та обробка подій|'''[http://doc.qt.nokia.com/4.7/eventsandfilters.html'''| Система подій]

== Додаємо кнопку виходу ==
p. В справжній програмі вам, зазвичай, буде потрібен більше ніж один віджет. Зараз ми додамо [http://doc.qt.nokia.com/4.7/qpushbutton.html QPushButton] нижче текстового редактора. Кнопка буде здійснювати вихід з програми Нотатник, коли на неї будуть натискати (наприклад, клацнуть мишею).

p=. [[Image:http://doc.qt.nokia.com/4.7/images/gs2.png|http://doc.qt.nokia.com/4.7/images/gs2.png]]

p. Давайте поглянемо на код.

&lt;code>
#include &lt;QtGui>

int main(int argv, char **args)
{
 QApplication app(argv, args);

 QTextEdit textEdit;
 QPushButton quitButton("Quit");

 QObject::connect(&amp;quitButton, SIGNAL (clicked()), qApp, SLOT (quit()));

 QVBoxLayout layout;
 layout.addWidget(&amp;textEdit);
 layout.addWidget(&amp;quitButton);

 QWidget window;
 window.setLayout(&amp;layout);

 window.show();

 return app.exec();
}
&lt;/code>

p. Рядок 1 включає [http://doc.qt.nokia.com/4.7/qtgui.html QtGui], який містить усі класи ГІК Qt.

p. В рядку 10 використовується механізм сигналів та слотів Qt, щоб завершити програму, коли натискається '''кнопка Вихід'''. Слот- це функція, що може бути викликана під час виконання програми за допомогою її назви (як рядкового літералу). Сигналом є функція, яка під час свого виклику, виконає слоти зареєстровані до неї; ми називаємо це "під'єднати слот до сигналу та видати сигнал".

p. [http://doc.qt.nokia.com/4.7/qcoreapplication.html#quit quit()] є слотом [http://doc.qt.nokia.com/4.7/qapplication.html QApplication], який завершує програму. [http://doc.qt.nokia.com/4.7/qabstractbutton.html#clicked clicked()] є сигналом, який [http://doc.qt.nokia.com/4.7/qpushbutton.html QPushButton] видає, коли натискається. Статична функція [http://doc.qt.nokia.com/4.7/qobject.html#connect QObject::connect]() піклується про з'єднання слота із сигналом. SIGNAL() та SLOT() - це два макроси, що приймають сигнатури функцій сигналу та слота, що з'єднуються. Також ми повинні передати вказівники на об'єкти, що мають надіслати та отримати сигнал.

p. В рядку 12 створюється [http://doc.qt.nokia.com/4.7/qvboxlayout.html QVBoxLayout]. Як вже згадувалось, віджети можуть містити інші віджети. Можна встановити границі (розташування та розмір) дочірніх віджетів безпосередньо, однак, зазвичай легше використати компонувальник. Компонувальник керує границями дочірніх віджетів. Наприклад, [http://doc.qt.nokia.com/4.7/qvboxlayout.html QVBoxLayout] розташовує дітей у вертикальному рядку.

p. Рядки 13 та 14 додають текстовий редактор до компонувальника. В рядку 17 ми встановлюємо конмпонувальник на віджет.

=== Дізнайтесь більше ===
table{border:1px solid lightgray}.
{background:lightgray }. |''. Про |''. Тут |
|Сигнали та слоти|'''[http://doc.qt.nokia.com/4.7/signalsandslots.html*| Сигнали та слоти]
|Компонування|'''[http://doc.qt.nokia.com/4.7/layout.html Управління компонуванням]''', '''[http://doc.qt.nokia.com/4.7/widgets-and-layouts.html Віджети та компонування]''', '''[http://doc.qt.nokia.com/4.7/examples-layouts.html'''| Приклади компонування]
|Віджети, що входять до Qt|'''[http://doc.qt.nokia.com/4.7/gallery.html Галерея віджетів Qt]''', '''[http://doc.qt.nokia.com/4.7/examples-widgets.html'''| Приклади віджетів]

== Успадкування від QWidget ==

Коли користувач бажає завершити програму, ви можете хотіти відобразити діалог, в якому запитаєте чи дійсно він хоче вийти. В цьому прикладі ми успадкуємось від [http://doc.qt.nokia.com/4.7/qwidget.html QWidget] та додамо слот, який під'єднаємо до '''кнопки Вихід'''.

p=. [[Image:http://doc.qt.nokia.com/4.7/images/gs3.png|http://doc.qt.nokia.com/4.7/images/gs3.png]]

Давайте поглянемо на код:

&lt;code>
class Notepad : public QWidget
{
 Q_OBJECT

public:
 Notepad();

private slots:
 void quit();

private:
 QTextEdit *textEdit;
 QPushButton *quitButton;
};
&lt;/code>

Макрос &lt;code>Q_OBJECT&lt;/code> повинен бути першим у визначенні класу, він оголошує наш клас як &lt;code>QObject&lt;/code> (звичайно, він повинен бути успадкованим від [http://doc.qt.nokia.com/4.7/qobject.html QObject]). [http://doc.qt.nokia.com/4.7/qobject.html QObject] додає декілька особливостей до звичайного класу C++. Найважливішим є те, що назва класу та імена слотів можуть бути отримані під час виконання. Також є можливість дізнатись типи параметрів слоту та викликати його.

В рядку 13 оголошено слот &lt;code>quit()&lt;/code>. Це легко зробити завдяки макросу &lt;code>slots&lt;/code>. Слот &lt;code>quit()&lt;/code> тепер може бути під'єднаним до сигналів з відповідними сигнатурами (будь-який сигнал, що не приймає параметрів).

Замість того, щоб встановлювати ГІК та під'єднувати слот в функції &lt;code>main()&lt;/code>, тепер ми використаємо конструктор &lt;code>Notepad&lt;/code>.

&lt;code>
Notepad::Notepad()
{
 textEdit = new QTextEdit;
 quitButton = new QPushButton(tr("Quit"));

connect(quitButton, SIGNAL (clicked()), this, SLOT (quit()));

QVBoxLayout '''layout = new QVBoxLayout;
 layout->addWidget(textEdit);
 layout->addWidget(quitButton);

 setLayout(layout);

 setWindowTitle(tr("Notepad"));
}
&lt;/code>

p. Як видно у визначенні класу, ми використовуємо вказівники на наші [http://doc.qt.nokia.com/4.7/qobject.htmls'и QObject] (&lt;code>textEdit&lt;/code> та &lt;code>quitButton&lt;/code>). Як правило, вам завжди слід виділяти [http://doc.qt.nokia.com/4.7/qobject.htmls'и QObject] в купі та ніколи не копіювати їх.

p. Тепер ми використовуємо функцію [http://doc.qt.nokia.com/4.7/qobject.html#tr tr()] навколо рядків, що відображаються користувачу. Ця функція необхідна, якщо ви хочете надавати вашу програму більше ніж однією мовою (наприклад, англійською та китайською). Ми не будемо розглядати деталі тут, однак ви можете перейти за посиланням з таблиці "Дізнайтесь більше" до &lt;code>Qt Linguist&lt;/code>.

=== Дізнайтесь більше ===
table{border:1px solid lightgray}.
{background:lightgray }. |''. Про |''. Тут |
|tr() та інтернаціоналізація|'''[http://doc.qt.nokia.com/4.7/linguist-manual.html* Посібник з Qt Linguist], '''[http://doc.qt.nokia.com/4.7/i18n-source-translation.html Написання коду для перекладу]''', Приклад '''[http://doc.qt.nokia.com/4.7/linguist-hellotr.html Привіт tr]'''(), '''[http://doc.qt.nokia.com/4.7/internationalization.html'''| Інтернаціоналізація з Qt]
|[http://doc.qt.nokia.com/4.7/qtwebkit-bridge.html#qobjects'и QObject] та об'єктна модель Qt (Це необхідний матеріал, щоб зрозуміти Qt)|'''[http://doc.qt.nokia.com/4.7/object.html'''| Об'єктна модель]
|qmake та система збірки Qt|'''[http://doc.qt.nokia.com/4.7/qmake-manual.html'''| Посібник з qmake]

=== Створення файлу .pro ===

Для цього прикладу ми напишемо наш власний файл &lt;code>.pro&lt;/code> замість використання &lt;code>qmake&lt;/code> з опцією &lt;code>-project&lt;/code>.

&lt;code>
HEADERS = notepad.h
SOURCES = notepad.cpp  main.cpp
&lt;/code>

Наступні команди оболонки збирають приклад.

&lt;code>
qmake
make
&lt;/code>

== Використання QMainWindow ==

Багато програм отримають переваги від використання [http://doc.qt.nokia.com/4.7/qmainwindow.html QMainWindow], який має своє власне компонування, до якого ви можете додавати панель меню, віджети, що прикріплюються, панелі інструментів та рядок статусу. [http://doc.qt.nokia.com/4.7/qmainwindow.html QMainWindow] має центральну область, що може бути зайнята віджетом довільного типу. В нашому випадку ми розташуємо там текстовий редактор.

p=. [[Image:http://doc.qt.nokia.com/4.7/images/gs4.png|http://doc.qt.nokia.com/4.7/images/gs4.png]]

Давайте поглянемо на нове визначення класу &lt;code>Notepad&lt;/code>.

&lt;code>
 #include &lt;QtGui>
class Notepad : public QMainWindow
{
 Q_OBJECT
public:
 Notepad();
private slots:
 void open();
 void save();
 void quit();
private:
 QTextEdit *textEdit;
 QAction *openAction;
 QAction *saveAction;
 QAction *exitAction;
 QMenu '''fileMenu;
};
&lt;/code>

p. Ми включили ще два слоти, які можуть зберігати та відкривати документ. Ми реалізуємо їх в наступній частині.

p. Доволі часто в головному вікні один і той самий слот може бути викликаний декількома різними віджетами. Прикладами є пункти меню та кнопки на панелі інструментів. Щоб полегшити це, Qt надає [http://doc.qt.nokia.com/4.7/qaction.html QAction] (дія), який може бути переданий декільком віджетам та під'єднаний до слота. Наприклад, як [http://doc.qt.nokia.com/4.7/qmenu.html QMenu] так і [http://doc.qt.nokia.com/4.7/qtoolbar.html QToolBar] можуть створювати пункти меню та кнопки на панелі з одного й того ж [http://doc.qt.nokia.com/4.7/qaction.htmls QAction]. Ми скоро побачимо, як це працює.

p. Як і раніше ми використовуємо конструктор &lt;code>Notepad&lt;/code> для встановлення ГІК.

&lt;code>
Notepad::Notepad()
{
 openAction = new QAction(tr("&amp;Open"), this);
 saveAction = new QAction(tr("&amp;Save"), this);
 exitAction = new QAction(tr("E&amp;xit"), this);

 connect(openAction, SIGNAL (triggered()), this, SLOT (open()));
 connect(saveAction, SIGNAL (triggered()), this, SLOT (save()));
 connect(exitAction, SIGNAL (triggered()), qApp, SLOT (quit()));

 fileMenu = menuBar()->addMenu(tr("&amp;File"));
 fileMenu->addAction(openAction);
 fileMenu->addAction(saveAction);
 fileMenu->addSeparator();
 fileMenu->addAction(exitAction);

 textEdit = new QTextEdit;
 setCentralWidget(textEdit);

 setWindowTitle(tr("Notepad"));
}
&lt;/code>

p. [http://doc.qt.nokia.com/4.7/qaction.htmls'и QAction] створюються з текстом, що має з'явитись на віджетах, до яких ми їх додаємо (в нашому випадку це пункти меню). Якщо б ми також хотіли додати їх до панелі інструментів, ми б могли призначити до них [http://doc.qt.nokia.com/4.7/qicon.html піктограми].

p. Коли по пункту меню клацнуть, елемент запустить дію і буде викликано відповідний слот.

=== Дізнайтесь більше ===
table{border:1px solid lightgray}.
{background:lightgray }. |''. Про |''. Тут |
|Головні вікна та класи головного вікна||'''[http://doc.qt.nokia.com/4.7/mainwindow.html* Головне вікно програми], '''[http://doc.qt.nokia.com/4.7/examples-mainwindow.html'''| Приклади головного вікна]
|Програми з MDI|'''[http://doc.qt.nokia.com/4.7/qmdiarea.html QMdiArea]''', '''[http://doc.qt.nokia.com/4.7/mainwindows-mdi.html'''| Приклад MDI]

== Збереження та завантаження ==

В цьому прикладі ми реалізуємо функціональність слотів &lt;code>open()&lt;/code> та &lt;code>save()&lt;/code>, які ми додали в попередньому прикладі.

p=. [[Image:http://doc.qt.nokia.com/4.7/images/gs5.png|http://doc.qt.nokia.com/4.7/images/gs5.png]]

Ми почнемо зі слоту &lt;code>open()&lt;/code>:

&lt;code>
QString fileName = QFileDialog::getOpenFileName(this, tr("Open File"), "",
 tr("Text Files ('''.txt);;C++ Files ('''.cpp '''.h)"));

if (fileName != "") {
 QFile file(fileName);
 if (!file.open(QIODevice::ReadOnly)) {
 QMessageBox::critical(this, tr("Error"),
 tr("Could not open file"));
 return;
 }
 QString contents = file.readAll().constData();
 textEdit->setPlainText(contents);
 file.close();
}
&lt;/code>

p. На першому кроці ми запитаємо у користувача ім'я файлу для відкриття. В Qt є [http://doc.qt.nokia.com/4.7/qfiledialog.html QFileDialog] - діалог, з якого користувач може вибрати файл. На зображенні вище показано цей діалог в Kubuntu. Статична функція [http://doc.qt.nokia.com/4.7/qfiledialog.html#getOpenFileName getOpenFileName()] відображує модальний файловий діалог, а повернення з неї не відбувається, доки користувач не вибере файл. Вона повертає шлях до обраного файлу або порожній рядок, якщо користувач скасував діалог.

p. Якщо в нас є ім'я файлу, ми намагаємось відкрити файл за допомогою функції [http://doc.qt.nokia.com/4.7/qiodevice.html#open open()], яка повертає істинне значення, якщо файл вдалось відкрити. Ми не будемо тут заглиблюватись в обробку помилок, але ви можете перейти за посиланням з частини "Дізнайтесь більше". Якщо файл не вдалось відкрити, ми використовуємо [http://doc.qt.nokia.com/4.7/qmessagebox.html QMessageBox], щоб відобразити діалог з повідомленням про помилку (див. опис класу [http://doc.qt.nokia.com/4.7/qmessagebox.html QMessageBox] для деталей).

p. Реальне читання даних є доволі тривіальним з використанням функції [http://doc.qt.nokia.com/4.7/qiodevice.html#readAll readAll()], яка повертає усі дані з файлу в [http://doc.qt.nokia.com/4.7/qbytearray.html QByteArray]. Метод [http://doc.qt.nokia.com/4.7/qbytearray.html#constData constData()] повертає усі дані з масиву як const char''', для якого у [http://doc.qt.nokia.com/4.7/qstring.html QString] є конструктор. Зміст в подальшому може бути відображено в текстовому редакторі. Потім ми закриваємо файл функцією [http://doc.qt.nokia.com/4.7/qiodevice.html#close close()], щоб повернути файловий дескриптор назад операційній системі.

Тепер, давайте перейдемо до слота &lt;code>save()&lt;/code>.

&lt;code>
QString fileName = QFileDialog::getSaveFileName(this, tr("Save File"), "",
 tr("Text Files ('''.txt);;C++ Files ('''.cpp '''.h)"));

if (fileName != "") {
 QFile file(fileName);
 if (!file.open(QIODevice::WriteOnly)) {
 // повідомлення про помилку
 } else {
 QTextStream stream(&amp;file);
 stream &lt;&lt; textEdit->toPlainText();
 stream.flush();
 file.close();
 }
}
&lt;/code>

p. Коли ми записуємо зміст текстового редактора до файлу, ми використовуємо клас [http://doc.qt.nokia.com/4.7/qtextstream.html QTextStream], який обгортає об'єкт [http://doc.qt.nokia.com/4.7/qfile.html QFile]. Текстовий потік може записувати QString'и безпосередньо до файлу; [http://doc.qt.nokia.com/4.7/qfile.html QFile] приймає лише сирі дані (char''') за допомогою функцій [http://doc.qt.nokia.com/4.7/qiodevice.html#write write()] класу [http://doc.qt.nokia.com/4.7/qiodevice.html QIODevice].

=== Дізнайтесь більше ===

table{border:1px solid lightgray}.
{background:lightgray }. |''. Про |''. Тут |
|Файли та пристрої I/O|'''[http://doc.qt.nokia.com/4.7/qfile.html QFile]''', '''[http://doc.qt.nokia.com/4.7/qiodevice.html'''| QIODevice]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="http://wiki.qt.io/Template:Ambox" title="Template:Ambox">Template:Ambox</a> (<a href="http://wiki.qt.io/index.php?title=Template:Ambox&amp;action=edit" title="Template:Ambox">view source</a>) </li><li><a href="http://wiki.qt.io/Template:Cleanup" title="Template:Cleanup">Template:Cleanup</a> (<a href="http://wiki.qt.io/index.php?title=Template:Cleanup&amp;action=edit" title="Template:Cleanup">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="http://wiki.qt.io/GettingStartedQtUkrainian" title="GettingStartedQtUkrainian">GettingStartedQtUkrainian</a>.</p>
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.qt.io/GettingStartedQtUkrainian">http://wiki.qt.io/GettingStartedQtUkrainian</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="http://wiki.qt.io/User:10.0.113.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="http://wiki.qt.io/User_talk:10.0.113.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="http://wiki.qt.io/index.php?title=Special:QtLogin&amp;returnto=GettingStartedQtUkrainian" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://wiki.qt.io/GettingStartedQtUkrainian"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qt.io/index.php?title=Talk:GettingStartedQtUkrainian&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="http://wiki.qt.io/GettingStartedQtUkrainian" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="http://wiki.qt.io/index.php?title=GettingStartedQtUkrainian&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qt.io/index.php?title=GettingStartedQtUkrainian&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://wiki.qt.io/skins/common/images/wiki.png);" href="http://wiki.qt.io/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://wiki.qt.io/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="http://wiki.qt.io/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://wiki.qt.io/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://wiki.qt.io/Special:WhatLinksHere/GettingStartedQtUkrainian" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://wiki.qt.io/Special:RecentChangesLinked/GettingStartedQtUkrainian" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://wiki.qt.io/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="http://wiki.qt.io/index.php?title=GettingStartedQtUkrainian&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://wiki.qt.io/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.qt.io/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":299});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=GettingStartedQtUkrainian&action=edit by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 10:58:35 GMT -->
</html>
