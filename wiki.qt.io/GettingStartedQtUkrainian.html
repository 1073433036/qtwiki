<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/GettingStartedQtUkrainian by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 08:04:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>GettingStartedQtUkrainian - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load771b.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="loadc6d2.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"GettingStartedQtUkrainian","wgTitle":"GettingStartedQtUkrainian","wgCurRevisionId":15906,"wgRevisionId":15906,"wgArticleId":857,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup","Pages with broken file links"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"GettingStartedQtUkrainian","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-GettingStartedQtUkrainian skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">GettingStartedQtUkrainian</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="indexd59c.html?title=GettingStartedQtUkrainian&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="Updated_pages.html" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9F.D0.B5.D1.80.D1.88.D1.96_.D0.BA.D1.80.D0.BE.D0.BA.D0.B8_.D0.B7_Qt"><span class="tocnumber">1</span> <span class="toctext">Перші кроки з Qt</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.9F.D1.80.D0.B8.D0.B2.D1.96.D1.82.2C_.D0.9D.D0.BE.D1.82.D0.B0.D1.82.D0.BD.D0.B8.D0.BA"><span class="tocnumber">1.1</span> <span class="toctext">Привіт, Нотатник</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.D0.94.D0.BE.D0.B4.D0.B0.D1.94.D0.BC.D0.BE_.D0.BA.D0.BD.D0.BE.D0.BF.D0.BA.D1.83_.D0.B2.D0.B8.D1.85.D0.BE.D0.B4.D1.83"><span class="tocnumber">1.2</span> <span class="toctext">Додаємо кнопку виходу</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.D0.A3.D1.81.D0.BF.D0.B0.D0.B4.D0.BA.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.B2.D1.96.D0.B4_QWidget"><span class="tocnumber">1.3</span> <span class="toctext">Успадкування від QWidget</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.D0.92.D0.B8.D0.BA.D0.BE.D1.80.D0.B8.D1.81.D1.82.D0.B0.D0.BD.D0.BD.D1.8F_QMainWindow"><span class="tocnumber">1.4</span> <span class="toctext">Використання QMainWindow</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#.D0.97.D0.B1.D0.B5.D1.80.D0.B5.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F_.D1.82.D0.B0_.D0.B7.D0.B0.D0.B2.D0.B0.D0.BD.D1.82.D0.B0.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F"><span class="tocnumber">1.5</span> <span class="toctext">Збереження та завантаження</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id=".D0.9F.D0.B5.D1.80.D1.88.D1.96_.D0.BA.D1.80.D0.BE.D0.BA.D0.B8_.D0.B7_Qt">Перші кроки з Qt</span></h1>
<p>Ласкаво просимо до світу Qt — крос-платформного набору інструментів для ГІК (графічного інтерфейсу користувача). В цьому посібнику з перших кроків ми отримаємо базові знання з Qt, реалізовуючи просту програму Нотатник. Після прочитання цього посібника ви маєте бути готові зануритись до наших оглядів та документації з API та знайти потрібну вам інформацію для програми, що ви розробляєте.
</p>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.B2.D1.96.D1.82.2C_.D0.9D.D0.BE.D1.82.D0.B0.D1.82.D0.BD.D0.B8.D0.BA">Привіт, Нотатник</span></h2>
<p>В цьому першому прикладі ми просто створимо та відобразимо текстовий редактор у вікні на стільниці. Це буде найпростіша можлива програма Qt, що має ГІК.
</p><p>p=. <a href="index0e93.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs1.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs1.png">http://doc.qt.nokia.com/4.7/images/gs1.png</a>
</p><p>Код програми:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QApplication&gt;</span>
<span class="co2">#include &lt;QTextEdit&gt;</span>
&#160;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span><span class="st0">''</span><span class="st0">'argv)
{
 QApplication app(argc, argv);
&#160;
 QTextEdit textEdit;
 textEdit.show();
&#160;
 return app.exec();
}</span></pre></div></div>
<p>p. Давайте переглянемо код рядок за рядком. В перших двох рядках ми підключаємо файли заголовків для <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a> та <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtextedit.html">QTextEdit</a>, двох класів, що потрібні для цього прикладу. Усі класи Qt мають файл заголовків, названий так само як і клас.
</p>
p. В рядку 6 створюється об'єкт <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a>. Цей об'єкт керує ресурсами програми і має бути запущений в будь-який програмі Qt, що має ГІК. Йому передаються <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">argc</pre></div></div> та <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">argv</pre></div></div>, оскільки Qt обробляє деякі параметри командного рядка.
<p>p. В рядку 8 створюється об'єкт <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtextedit.html">QTextEdit</a>. Текстовий редактор є візуальним елементом ГІК. Ми називаємо такі елементи віджетами в Qt. Прикладами інших віджетів є панелі прокрутки, мітки та перемикачі. Віджет також може бути контейнером для інших віджетів, як, наприклад, діалог або головне вікно програми.
</p><p>p. В рядку 9 текстовий редактор відображується на екрані у його власному вікні. Оскільки віджети також функціонують як контейнери (наприклад, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmainwindow.html">QMainWindow</a>, який має панелі інструментів, меню, рядок статусу та декілька інших віджетів), то можна відобразити один віджет у його власному вікні. Віджети не відображаються за замовчанням; функція <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qwidget.html#show">show()</a> робить віджет видимим.
</p><p>p. В рядку 11 відбувається вхід до циклу подій <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a>. Коли програма Qt виконується, генеруються події, що доставляються до віджетів програми. Прикладами подій є натискання на кнопки миші та клавіші клавіатури. Коли ви набираєте текст в віджеті текстового редактора, він отримує події натискання клавіш та реагує промальовуванням тексту, що набирається.
</p>
p. Щоб запустити програму, відкрийте командний рядок та перейдіть до теки, в якій знаходиться файл <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">.<span class="me1">cpp</span></pre></div></div> програми. Наступні команди оболонки зберуть програму.
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake <span class="sy0">-</span>project
qmake
make</pre></div></div>
p. При цьому виконуваний модуль з'явиться в теці <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">part1</pre></div></div> (майте на увазі, що у Windows вам, можливо, потрібно буде використовувати <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">nmake</pre></div></div> замість <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">make</pre></div></div>. Також, виконуваний модуль буде розміщено в <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">part1<span class="sy0">/</span>debug</pre></div></div> або <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">part1<span class="sy0">/</span>release</pre></div></div>). <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake</pre></div></div>- це інструмент збірки з Qt, який використовує конфігураційний файл. <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake</pre></div></div> генерує його для нас, коли запускається з аргументом <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="sy0">-</span>project</pre></div></div>. Коли конфігураційний файл (із суфіксом <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">.<span class="me1">pro</span></pre></div></div>) існує, <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake</pre></div></div> створює файл збірки, який збирає для вас програму. Ми розглянемо написання власних файлів <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">.<span class="me1">pro</span></pre></div></div> пізніше.
<h3><span class="mw-headline" id=".D0.94.D1.96.D0.B7.D0.BD.D0.B0.D0.B9.D1.82.D0.B5.D1.81.D1.8C_.D0.B1.D1.96.D0.BB.D1.8C.D1.88.D0.B5">Дізнайтесь більше</span></h3>
<p>table{border:1px solid lightgray}.
{background:lightgray }. |<i>. Про |</i>. Тут |
|Віджети та геометрія вікна|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/application-windows.html">| Віджети вікна та діалогу</a>
|Події та обробка подій|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/eventsandfilters.html">| Система подій</a>
</p>
<h2><span class="mw-headline" id=".D0.94.D0.BE.D0.B4.D0.B0.D1.94.D0.BC.D0.BE_.D0.BA.D0.BD.D0.BE.D0.BF.D0.BA.D1.83_.D0.B2.D0.B8.D1.85.D0.BE.D0.B4.D1.83">Додаємо кнопку виходу</span></h2>
<p>p. В справжній програмі вам, зазвичай, буде потрібен більше ніж один віджет. Зараз ми додамо <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qpushbutton.html">QPushButton</a> нижче текстового редактора. Кнопка буде здійснювати вихід з програми Нотатник, коли на неї будуть натискати (наприклад, клацнуть мишею).
</p><p>p=. <a href="indexbfd4.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs2.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs2.png">http://doc.qt.nokia.com/4.7/images/gs2.png</a>
</p><p>p. Давайте поглянемо на код.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="co2">#include &lt;QtGui&gt;</span>
&#160;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argv<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">**</span>args<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 <span class="kw5">QApplication</span> app<span class="br0">&#40;</span>argv<span class="sy0">,</span> args<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QTextEdit</span> textEdit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span> quitButton<span class="br0">&#40;</span><span class="st0">&quot;Quit&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QObject</span><span class="sy0">::</span><span class="kw2">connect</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>quitButton<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> qApp<span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QVBoxLayout</span> layout<span class="sy0">;</span>
 layout.<span class="me1">addWidget</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>textEdit<span class="br0">&#41;</span><span class="sy0">;</span>
 layout.<span class="me1">addWidget</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>quitButton<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw5">QWidget</span> window<span class="sy0">;</span>
 window.<span class="me1">setLayout</span><span class="br0">&#40;</span><span class="sy0">&amp;</span>layout<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 window.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw1">return</span> app.<span class="me1">exec</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>p. Рядок 1 включає <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtgui.html">QtGui</a>, який містить усі класи ГІК Qt.
</p><p>p. В рядку 10 використовується механізм сигналів та слотів Qt, щоб завершити програму, коли натискається <b>кнопка Вихід</b>. Слот- це функція, що може бути викликана під час виконання програми за допомогою її назви (як рядкового літералу). Сигналом є функція, яка під час свого виклику, виконає слоти зареєстровані до неї; ми називаємо це "під'єднати слот до сигналу та видати сигнал".
</p><p>p. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qcoreapplication.html#quit">quit()</a> є слотом <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qapplication.html">QApplication</a>, який завершує програму. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qabstractbutton.html#clicked">clicked()</a> є сигналом, який <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qpushbutton.html">QPushButton</a> видає, коли натискається. Статична функція <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html#connect">QObject::connect</a>() піклується про з'єднання слота із сигналом. SIGNAL() та SLOT() - це два макроси, що приймають сигнатури функцій сигналу та слота, що з'єднуються. Також ми повинні передати вказівники на об'єкти, що мають надіслати та отримати сигнал.
</p><p>p. В рядку 12 створюється <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qvboxlayout.html">QVBoxLayout</a>. Як вже згадувалось, віджети можуть містити інші віджети. Можна встановити границі (розташування та розмір) дочірніх віджетів безпосередньо, однак, зазвичай легше використати компонувальник. Компонувальник керує границями дочірніх віджетів. Наприклад, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qvboxlayout.html">QVBoxLayout</a> розташовує дітей у вертикальному рядку.
</p><p>p. Рядки 13 та 14 додають текстовий редактор до компонувальника. В рядку 17 ми встановлюємо конмпонувальник на віджет.
</p>
<h3><span class="mw-headline" id=".D0.94.D1.96.D0.B7.D0.BD.D0.B0.D0.B9.D1.82.D0.B5.D1.81.D1.8C_.D0.B1.D1.96.D0.BB.D1.8C.D1.88.D0.B5_2">Дізнайтесь більше</span></h3>
<p>table{border:1px solid lightgray}.
{background:lightgray }. |<i>. Про |</i>. Тут |
|Сигнали та слоти|<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/signalsandslots.html*%7C">Сигнали та слоти</a></b>
|Компонування|<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/layout.html">Управління компонуванням</a></b>, <b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/widgets-and-layouts.html">Віджети та компонування</a></b>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/examples-layouts.html">| Приклади компонування</a>
|Віджети, що входять до Qt|<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/gallery.html">Галерея віджетів Qt</a></b>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/examples-widgets.html">| Приклади віджетів</a>
</p>
<h2><span class="mw-headline" id=".D0.A3.D1.81.D0.BF.D0.B0.D0.B4.D0.BA.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.B2.D1.96.D0.B4_QWidget">Успадкування від QWidget</span></h2>
<p>Коли користувач бажає завершити програму, ви можете хотіти відобразити діалог, в якому запитаєте чи дійсно він хоче вийти. В цьому прикладі ми успадкуємось від <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qwidget.html">QWidget</a> та додамо слот, який під'єднаємо до <b>кнопки Вихід</b>.
</p><p>p=. <a href="index5f6b.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs3.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs3.png">http://doc.qt.nokia.com/4.7/images/gs3.png</a>
</p><p>Давайте поглянемо на код:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">class</span> Notepad <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QWidget</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
&#160;
<span class="kw2">public</span><span class="sy0">:</span>
 Notepad<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">private</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QTextEdit</span> <span class="sy0">*</span>textEdit<span class="sy0">;</span>
 <span class="kw5">QPushButton</span> <span class="sy0">*</span>quitButton<span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></div></div>
Макрос <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">Q_OBJECT</span></pre></div></div> повинен бути першим у визначенні класу, він оголошує наш клас як <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QObject</span></pre></div></div> (звичайно, він повинен бути успадкованим від <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a>). <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html">QObject</a> додає декілька особливостей до звичайного класу C++. Найважливішим є те, що назва класу та імена слотів можуть бути отримані під час виконання. Також є можливість дізнатись типи параметрів слоту та викликати його.
В рядку 13 оголошено слот <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">quit<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>. Це легко зробити завдяки макросу <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw2">slots</span></pre></div></div>. Слот <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">quit<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div> тепер може бути під'єднаним до сигналів з відповідними сигнатурами (будь-який сигнал, що не приймає параметрів).
Замість того, щоб встановлювати ГІК та під'єднувати слот в функції <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">main<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>, тепер ми використаємо конструктор <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad</pre></div></div>.
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad<span class="sy0">::</span><span class="me2">Notepad</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 textEdit <span class="sy0">=</span> <span class="kw1">new</span> QTextEdit<span class="sy0">;</span>
 quitButton <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QPushButton</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Quit&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw2">connect</span><span class="br0">&#40;</span>quitButton<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>clicked<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw5">QVBoxLayout</span> <span class="st0">''</span><span class="st0">'layout = new QVBoxLayout;
 layout-&gt;addWidget(textEdit);
 layout-&gt;addWidget(quitButton);
&#160;
 setLayout(layout);
&#160;
 setWindowTitle(tr(&quot;Notepad&quot;));
}</span></pre></div></div>
p. Як видно у визначенні класу, ми використовуємо вказівники на наші <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.htmls'и">QObject</a> (<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">textEdit</pre></div></div> та <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">quitButton</pre></div></div>). Як правило, вам завжди слід виділяти <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.htmls'и">QObject</a> в купі та ніколи не копіювати їх.
p. Тепер ми використовуємо функцію <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qobject.html#tr">tr()</a> навколо рядків, що відображаються користувачу. Ця функція необхідна, якщо ви хочете надавати вашу програму більше ніж однією мовою (наприклад, англійською та китайською). Ми не будемо розглядати деталі тут, однак ви можете перейти за посиланням з таблиці "Дізнайтесь більше" до <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">Qt</span> Linguist</pre></div></div>.
<h3><span class="mw-headline" id=".D0.94.D1.96.D0.B7.D0.BD.D0.B0.D0.B9.D1.82.D0.B5.D1.81.D1.8C_.D0.B1.D1.96.D0.BB.D1.8C.D1.88.D0.B5_3">Дізнайтесь більше</span></h3>
<p>table{border:1px solid lightgray}.
{background:lightgray }. |<i>. Про |</i>. Тут |
|tr() та інтернаціоналізація|<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/linguist-manual.html*">Посібник з Qt Linguist</a>, </b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/i18n-source-translation.html">Написання коду для перекладу</a><b>, Приклад </b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/linguist-hellotr.html">Привіт tr</a><b>(), </b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/internationalization.html"><b>| Інтернаціоналізація з Qt</b></a>
|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtwebkit-bridge.html#qobjects'и">QObject</a> та об'єктна модель Qt (Це необхідний матеріал, щоб зрозуміти Qt)|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/object.html">| Об'єктна модель</a>
|qmake та система збірки Qt|<a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmake-manual.html">| Посібник з qmake</a>
</p>
<h3><span class="mw-headline" id=".D0.A1.D1.82.D0.B2.D0.BE.D1.80.D0.B5.D0.BD.D0.BD.D1.8F_.D1.84.D0.B0.D0.B9.D0.BB.D1.83_.pro">Створення файлу .pro</span></h3>
Для цього прикладу ми напишемо наш власний файл <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">.<span class="me1">pro</span></pre></div></div> замість використання <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake</pre></div></div> з опцією <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="sy0">-</span>project</pre></div></div>.
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">HEADERS <span class="sy0">=</span> notepad.<span class="me1">h</span>
SOURCES <span class="sy0">=</span> notepad.<span class="me1">cpp</span>  main.<span class="me1">cpp</span></pre></div></div>
<p>Наступні команди оболонки збирають приклад.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">qmake
make</pre></div></div>
<h2><span class="mw-headline" id=".D0.92.D0.B8.D0.BA.D0.BE.D1.80.D0.B8.D1.81.D1.82.D0.B0.D0.BD.D0.BD.D1.8F_QMainWindow">Використання QMainWindow</span></h2>
<p>Багато програм отримають переваги від використання <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmainwindow.html">QMainWindow</a>, який має своє власне компонування, до якого ви можете додавати панель меню, віджети, що прикріплюються, панелі інструментів та рядок статусу. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmainwindow.html">QMainWindow</a> має центральну область, що може бути зайнята віджетом довільного типу. В нашому випадку ми розташуємо там текстовий редактор.
</p><p>p=. <a href="indexfa9a.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs4.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs4.png">http://doc.qt.nokia.com/4.7/images/gs4.png</a>
</p>
Давайте поглянемо на нове визначення класу <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad</pre></div></div>.
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"> <span class="co2">#include &lt;QtGui&gt;</span>
<span class="kw2">class</span> Notepad <span class="sy0">:</span> <span class="kw2">public</span> <span class="kw5">QMainWindow</span>
<span class="br0">&#123;</span>
 <span class="kw2">Q_OBJECT</span>
<span class="kw2">public</span><span class="sy0">:</span>
 Notepad<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw2">private</span> <span class="kw2">slots</span><span class="sy0">:</span>
 <span class="kw4">void</span> open<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> save<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw4">void</span> quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw2">private</span><span class="sy0">:</span>
 <span class="kw5">QTextEdit</span> <span class="sy0">*</span>textEdit<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>openAction<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>saveAction<span class="sy0">;</span>
 <span class="kw5">QAction</span> <span class="sy0">*</span>exitAction<span class="sy0">;</span>
 <span class="kw5">QMenu</span> <span class="st0">''</span><span class="st0">'fileMenu;
};</span></pre></div></div>
<p>p. Ми включили ще два слоти, які можуть зберігати та відкривати документ. Ми реалізуємо їх в наступній частині.
</p><p>p. Доволі часто в головному вікні один і той самий слот може бути викликаний декількома різними віджетами. Прикладами є пункти меню та кнопки на панелі інструментів. Щоб полегшити це, Qt надає <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qaction.html">QAction</a> (дія), який може бути переданий декільком віджетам та під'єднаний до слота. Наприклад, як <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmenu.html">QMenu</a> так і <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtoolbar.html">QToolBar</a> можуть створювати пункти меню та кнопки на панелі з одного й того ж <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qaction.htmls">QAction</a>. Ми скоро побачимо, як це працює.
</p>
p. Як і раніше ми використовуємо конструктор <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad</pre></div></div> для встановлення ГІК.
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">Notepad<span class="sy0">::</span><span class="me2">Notepad</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
 openAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Open&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
 saveAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;Save&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
 exitAction <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw5">QAction</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;E&amp;xit&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 <span class="kw2">connect</span><span class="br0">&#40;</span>openAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>open<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>saveAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">,</span> SLOT <span class="br0">&#40;</span>save<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">connect</span><span class="br0">&#40;</span>exitAction<span class="sy0">,</span> SIGNAL <span class="br0">&#40;</span>triggered<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span> qApp<span class="sy0">,</span> SLOT <span class="br0">&#40;</span>quit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 fileMenu <span class="sy0">=</span> menuBar<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me3">addMenu</span><span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;&amp;File&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>openAction<span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>saveAction<span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addSeparator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 fileMenu<span class="sy0">-&gt;</span><span class="me3">addAction</span><span class="br0">&#40;</span>exitAction<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 textEdit <span class="sy0">=</span> <span class="kw1">new</span> QTextEdit<span class="sy0">;</span>
 setCentralWidget<span class="br0">&#40;</span>textEdit<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
 setWindowTitle<span class="br0">&#40;</span>tr<span class="br0">&#40;</span><span class="st0">&quot;Notepad&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>p. <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qaction.htmls'и">QAction</a> створюються з текстом, що має з'явитись на віджетах, до яких ми їх додаємо (в нашому випадку це пункти меню). Якщо б ми також хотіли додати їх до панелі інструментів, ми б могли призначити до них <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qicon.html">піктограми</a>.
</p><p>p. Коли по пункту меню клацнуть, елемент запустить дію і буде викликано відповідний слот.
</p>
<h3><span class="mw-headline" id=".D0.94.D1.96.D0.B7.D0.BD.D0.B0.D0.B9.D1.82.D0.B5.D1.81.D1.8C_.D0.B1.D1.96.D0.BB.D1.8C.D1.88.D0.B5_4">Дізнайтесь більше</span></h3>
<p>table{border:1px solid lightgray}.
{background:lightgray }. |<i>. Про |</i>. Тут |
|Головні вікна та класи головного вікна||<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/mainwindow.html*">Головне вікно програми</a>, </b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/examples-mainwindow.html"><b>| Приклади головного вікна</b></a>
|Програми з MDI|<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmdiarea.html">QMdiArea</a></b>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/mainwindows-mdi.html">| Приклад MDI</a>
</p>
<h2><span class="mw-headline" id=".D0.97.D0.B1.D0.B5.D1.80.D0.B5.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F_.D1.82.D0.B0_.D0.B7.D0.B0.D0.B2.D0.B0.D0.BD.D1.82.D0.B0.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F">Збереження та завантаження</span></h2>
В цьому прикладі ми реалізуємо функціональність слотів <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">open<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div> та <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">save<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>, які ми додали в попередньому прикладі.
<p>p=. <a href="index82e6.html?title=Special:Upload&amp;wpDestFile=Http://doc.qt.nokia.com/4.7/images/gs5.png" class="new" title="File:Http://doc.qt.nokia.com/4.7/images/gs5.png">http://doc.qt.nokia.com/4.7/images/gs5.png</a>
</p>
Ми почнемо зі слоту <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">open<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>:
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QString</span> fileName <span class="sy0">=</span> <span class="kw5">QFileDialog</span><span class="sy0">::</span><span class="me2">getOpenFileName</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Open File&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Text Files ('''.txt);;C++ Files ('''.cpp '''.h)&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw1">if</span> <span class="br0">&#40;</span>fileName <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>fileName<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">ReadOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QMessageBox</span><span class="sy0">::</span><span class="me2">critical</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Error&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Could not open file&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 return<span class="sy0">;</span>
 <span class="br0">&#125;</span>
 <span class="kw5">QString</span> contents <span class="sy0">=</span> file.<span class="me1">readAll</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">constData</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 textEdit<span class="sy0">-&gt;</span><span class="me3">setPlainText</span><span class="br0">&#40;</span>contents<span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>p. На першому кроці ми запитаємо у користувача ім'я файлу для відкриття. В Qt є <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfiledialog.html">QFileDialog</a> - діалог, з якого користувач може вибрати файл. На зображенні вище показано цей діалог в Kubuntu. Статична функція <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfiledialog.html#getOpenFileName">getOpenFileName()</a> відображує модальний файловий діалог, а повернення з неї не відбувається, доки користувач не вибере файл. Вона повертає шлях до обраного файлу або порожній рядок, якщо користувач скасував діалог.
</p><p>p. Якщо в нас є ім'я файлу, ми намагаємось відкрити файл за допомогою функції <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#open">open()</a>, яка повертає істинне значення, якщо файл вдалось відкрити. Ми не будемо тут заглиблюватись в обробку помилок, але ви можете перейти за посиланням з частини "Дізнайтесь більше". Якщо файл не вдалось відкрити, ми використовуємо <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmessagebox.html">QMessageBox</a>, щоб відобразити діалог з повідомленням про помилку (див. опис класу <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qmessagebox.html">QMessageBox</a> для деталей).
</p><p>p. Реальне читання даних є доволі тривіальним з використанням функції <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#readAll">readAll()</a>, яка повертає усі дані з файлу в <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qbytearray.html">QByteArray</a>. Метод <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qbytearray.html#constData">constData()</a> повертає усі дані з масиву як const char<b>, для якого у <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qstring.html">QString</a> є конструктор. Зміст в подальшому може бути відображено в текстовому редакторі. Потім ми закриваємо файл функцією <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#close">close()</a>, щоб повернути файловий дескриптор назад операційній системі.</b>
</p>
Тепер, давайте перейдемо до слота <div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1">save<span class="br0">&#40;</span><span class="br0">&#41;</span></pre></div></div>.
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QString</span> fileName <span class="sy0">=</span> <span class="kw5">QFileDialog</span><span class="sy0">::</span><span class="me2">getSaveFileName</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">,</span> tr<span class="br0">&#40;</span><span class="st0">&quot;Save File&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="sy0">,</span>
 tr<span class="br0">&#40;</span><span class="st0">&quot;Text Files ('''.txt);;C++ Files ('''.cpp '''.h)&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
<span class="kw1">if</span> <span class="br0">&#40;</span>fileName <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="kw5">QFile</span> file<span class="br0">&#40;</span>fileName<span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>file.<span class="me1">open</span><span class="br0">&#40;</span><span class="kw5">QIODevice</span><span class="sy0">::</span><span class="me2">WriteOnly</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 <span class="co1">// повідомлення про помилку</span>
 <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
 <span class="kw5">QTextStream</span> stream<span class="br0">&#40;</span><span class="sy0">&amp;</span>file<span class="br0">&#41;</span><span class="sy0">;</span>
 stream <span class="sy0">&lt;&lt;</span> textEdit<span class="sy0">-&gt;</span><span class="me3">toPlainText</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 stream.<span class="me1">flush</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 file.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>p. Коли ми записуємо зміст текстового редактора до файлу, ми використовуємо клас <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qtextstream.html">QTextStream</a>, який обгортає об'єкт <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfile.html">QFile</a>. Текстовий потік може записувати QString'и безпосередньо до файлу; <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfile.html">QFile</a> приймає лише сирі дані (char<b>) за допомогою функцій <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html#write">write()</a> класу <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html">QIODevice</a>.</b>
</p>
<h3><span class="mw-headline" id=".D0.94.D1.96.D0.B7.D0.BD.D0.B0.D0.B9.D1.82.D0.B5.D1.81.D1.8C_.D0.B1.D1.96.D0.BB.D1.8C.D1.88.D0.B5_5">Дізнайтесь більше</span></h3>
<p>table{border:1px solid lightgray}.
{background:lightgray }. |<i>. Про |</i>. Тут |
|Файли та пристрої I/O|<b><a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qfile.html">QFile</a></b>, <a rel="nofollow" class="external text" href="http://doc.qt.nokia.com/4.7/qiodevice.html">| QIODevice</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.863 seconds
Real time usage: 0.891 seconds
Preprocessor visited node count: 461/1000000
Preprocessor generated node count: 1004/1000000
Post‐expand include size: 1308/2097152 bytes
Template argument size: 422/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:857-0!*!0!!en!2!* and timestamp 20151105063801 and revision id 15906
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="index0c28.html?title=GettingStartedQtUkrainian&amp;oldid=15906">http://wiki.qt.io/index.php?title=GettingStartedQtUkrainian&amp;oldid=15906</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Articles_needing_cleanup.html" title="Category:Articles needing cleanup">Articles needing cleanup</a></li><li><a href="Category_Pages_with_broken_file_links.html?title=Category:Pages_with_broken_file_links&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with broken file links (page does not exist)">Pages with broken file links</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=3937471dc7ef8201&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="GettingStartedQtUkrainian.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="Talk_GettingStartedQtUkrainian.html?title=Talk:GettingStartedQtUkrainian&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="GettingStartedQtUkrainian.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="indexd59c.html?title=GettingStartedQtUkrainian&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="indexefa8.html?title=GettingStartedQtUkrainian&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/GettingStartedQtUkrainian.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/GettingStartedQtUkrainian.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="index9b37.html?title=GettingStartedQtUkrainian&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="index0c28.html?title=GettingStartedQtUkrainian&amp;oldid=15906" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="index08ff.html?title=GettingStartedQtUkrainian&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 17 April 2015, at 12:20.</li>
											<li id="footer-info-viewcount">This page has been accessed 481 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load55ad.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":1147});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/GettingStartedQtUkrainian by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 08:04:36 GMT -->
</html>
