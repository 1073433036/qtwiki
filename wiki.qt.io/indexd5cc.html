<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.qt.io/index.php?title=Iterators/bg&printable=yes by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:37:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Iterators/bg - Qt Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.3" />
<meta name="robots" content="noindex,follow" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Qt Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Qt Wiki Atom feed" href="apidf90.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load6077.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;printable=1&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load8b5e.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qtio_wiki:resourceloader:filter:minify-css:7:e91d7bc946738c8892a88ad5616a59ba */</style>
<script src="load041f.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Iterators/bg","wgTitle":"Iterators/bg","wgCurRevisionId":15970,"wgRevisionId":15970,"wgArticleId":2660,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing cleanup","QtInternals"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Iterators/bg","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs500":false,"searchNs501":false,"searchNs700":false,"searchNs701":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: qtio_wiki:resourceloader:filter:minify-js:7:9743cb8b8019d46de5946bfe6dfa04d7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp-qt {line-height: normal;}
.source-cpp-qt li, .source-cpp-qt pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp-qt
 * CSS class: source-cpp-qt, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp-qt.source-cpp-qt .de1, .cpp-qt.source-cpp-qt .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp-qt.source-cpp-qt  {font-family:monospace;}
.cpp-qt.source-cpp-qt .imp {font-weight: bold; color: red;}
.cpp-qt.source-cpp-qt li, .cpp-qt.source-cpp-qt .li1 {font-weight: normal; vertical-align:top;}
.cpp-qt.source-cpp-qt .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp-qt.source-cpp-qt .li2 {font-weight: bold; vertical-align:top;}
.cpp-qt.source-cpp-qt .kw1 {color: #000000; font-weight:bold;}
.cpp-qt.source-cpp-qt .kw2 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .kw4 {color: #0057AE;}
.cpp-qt.source-cpp-qt .kw5 {color: #22aadd;}
.cpp-qt.source-cpp-qt .co1 {color: #888888;}
.cpp-qt.source-cpp-qt .co2 {color: #006E28;}
.cpp-qt.source-cpp-qt .coMULTI {color: #888888; font-style: italic;}
.cpp-qt.source-cpp-qt .es0 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es1 {color: #000099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es2 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es3 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es4 {color: #660099; font-weight: bold;}
.cpp-qt.source-cpp-qt .es5 {color: #006699; font-weight: bold;}
.cpp-qt.source-cpp-qt .br0 {color: #006E28;}
.cpp-qt.source-cpp-qt .sy0 {color: #006E28;}
.cpp-qt.source-cpp-qt .st0 {color: #BF0303;}
.cpp-qt.source-cpp-qt .nu0 {color: #B08000;}
.cpp-qt.source-cpp-qt .nu6 {color: #208080;}
.cpp-qt.source-cpp-qt .nu8 {color: #208080;}
.cpp-qt.source-cpp-qt .nu12 {color: #208080;}
.cpp-qt.source-cpp-qt .nu16 {color:#800080;}
.cpp-qt.source-cpp-qt .nu17 {color:#800080;}
.cpp-qt.source-cpp-qt .nu18 {color:#800080;}
.cpp-qt.source-cpp-qt .nu19 {color:#800080;}
.cpp-qt.source-cpp-qt .me1 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me2 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .me3 {color: #2B74C7;}
.cpp-qt.source-cpp-qt .ln-xtra, .cpp-qt.source-cpp-qt li.ln-xtra, .cpp-qt.source-cpp-qt div.ln-xtra {background-color: #ffc;}
.cpp-qt.source-cpp-qt span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Iterators_bg skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Iterators/bg</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From Qt Wiki</div>
								<div id="contentSub"><span class="subpages">&lt; <a href="Iterators.html" title="Iterators">Iterators</a></span></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="center; margin: -1px auto 0px;border: 1px solid rgb(127, 194, 66); border-left: 10px solid rgb(127, 194, 66); background:rgb(250,250,250); width:600px">

<tr>
<td style="padding: 0.25em 0.5em;"> <b>This article may require cleanup to meet the Qt Wiki's quality standards.</b> Reason: Auto-imported from ExpressionEngine.<br /><small>Please <b><a rel="nofollow" class="external text" href="index5a0a.html?title=Iterators/bg&amp;action=edit">improve this article</a></b> if you can. Remove the {{cleanup}} tag and add this page to <b><a href="Updated_pages.html" title="Updated pages">Updated pages</a></b> list after it's clean.</small>
</td></tr></table>
<p><b>Български</b> <a href="QtIterators.html" title="QtIterators" class="mw-redirect">English</a>
</p><p><br />
Написано от: Girish Ramakrishnan, ForwardBias Technologies
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9E.D0.B1.D1.89_.D0.BF.D1.80.D0.B5.D0.B3.D0.BB.D0.B5.D0.B4"><span class="tocnumber">1</span> <span class="toctext">Общ преглед</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.98.D1.82.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B8_.D0.B2_.D1.81.D1.82.D0.B8.D0.BB_STL"><span class="tocnumber">2</span> <span class="toctext">Итератори в стил STL</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.98.D1.82.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B8_.D0.B2_.D1.81.D1.82.D0.B8.D0.BB_.D0.94.D0.B6.D0.B0.D0.B2.D0.B0"><span class="tocnumber">3</span> <span class="toctext">Итератори в стил Джава</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#QT_STRICT_ITERATORS"><span class="tocnumber">4</span> <span class="toctext">QT_STRICT_ITERATORS</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id=".D0.9E.D0.B1.D1.89_.D0.BF.D1.80.D0.B5.D0.B3.D0.BB.D0.B5.D0.B4">Общ преглед</span></h1>
<p>Контейнерните класове в Qt (<a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/qvector.html">QVector</a>, <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/qlist.html">QList</a>, <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/qhash.html">QHash</a> и т.н.) поддържат два вида итератори: В стил STL и в стил Java. Тази статия се задълбава в имплементацията на тези итератори. За въведение в контейнерните класове на Qt, прочетете <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/containers.html">документацията</a> за тях.
</p>
<h1><span class="mw-headline" id=".D0.98.D1.82.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B8_.D0.B2_.D1.81.D1.82.D0.B8.D0.BB_STL">Итератори в стил STL</span></h1>
<p>Итераторите в стил STL са страшно ефективни и бързи, защото те се държат общи линии като указатели. QVector&lt;T&gt;::iterator е просто typedef на T * и е указател към елемент в масив, който QVector използва. Операторите <i>, - и т.н. са просто аритметика с указатели и използването на оператора * върху итератора е просто обръщение към стойността.</i>
</p><p>За контейнери като QList, итератора е указател към вътрешната за QList структура Node. Достатъчно е да кажем, че аритметичните операции и взимането на стойност са много бързи, тъй като те работят дъректно с данните.
</p><p>Контейнерите в Qt са скрито споделени - когато копирате обект, само указател към данните се копира. Когато даден обект се модифицира, първо се създава ново кипие на данните, така че да не се засегнат другите мест, където той се използва. Процеса на създаването на копия на данните се нарича <i>отделяне</i> ( detach )
</p><p>Тъй като, концептуално итераторите в стил STL са просто указатели, те модифицират данните директно. Като последствие от това, неконстантните итератори отделят данните, когато се създават, използвайки Container::begin(), така че другите споделени инстанции да де бъдат модифицирани. За да итерирате през контейнер, без да го модифицирате, трябва да използвате константни итератори.
</p><p>Имплементацията на итератори в стил STL води до някои програмни грешки и клопки:
<b>Първи проблем</b>:. Всяка операция, която променя структурата на вътрешните данни най-вероятно ще направи съществуващите итератори невалидни. На пример, QVector::append() може да накара QVector да създаде на ново вътрешният си масив и така всеки съществуващ вече итератор, ще стане не валиден указател. Дали итератор ще стане не валиден или не, зависи от контейнерния клас и имплементационните детайли. На пример, итератора на QMap остава валиден дори след премахване на елемент, стига да не е този, към който сочи. Същото важи и за QHash::erase(), която не прехешира, за разлика от QHash::remove(). Като цяло, правилото е да не използвате итератор след промяна на контейнера.
</p><p>За пример:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> vector1<span class="sy0">;</span>
vector1 <span class="sy0">&lt;&lt;</span> <span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">2</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">3</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">4</span><span class="sy0">;</span>
<span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;::</span><span class="me2">const_iterator</span> it <span class="sy0">=</span> vector1.<span class="me1">constBegin</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
vector1 <span class="sy0">&lt;&lt;</span> <span class="nu0">5</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">6</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">7</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">8</span><span class="sy0">;</span> <span class="co1">// променяме vector1</span>
<span class="kw2">qDebug</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;&lt;</span> <span class="sy0">*</span>it<span class="sy0">;</span> <span class="co1">// опаа! невалиден указател</span></pre></div></div>
<p><b>Втори проблем</b>. Създаването на копие на контейнерен клас, когато има активен неконстантен итератор, може да има неочаквани странични ефекти.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> vector1<span class="sy0">;</span>
vector1 <span class="sy0">&lt;&lt;</span> <span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">2</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">3</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">4</span><span class="sy0">;</span>
<span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;::</span><span class="me2">iterator</span> it <span class="sy0">=</span> vector1.<span class="me1">begin</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> vector2 <span class="sy0">=</span> vector1<span class="sy0">;</span> <span class="co1">// vector2 вече споделя данни с vector1</span>
<span class="sy0">*</span>it <span class="sy0">=</span> <span class="nu0">10</span><span class="sy0">;</span>
<span class="co1">// не само vector1, но и vector2 също е модифициран!</span></pre></div></div>
<p>Контйнерните класове в Qt са скрито споделени и следователно vector2 и vector1 споделят едни и същи данни. Итератора работи с тези данни директно (поради това, че итератора е просто указател). Това е противно на интуицията и природата на типовете, базирани на стойност, които гарантират, че стойностите никога не се променят зад гърба им.
</p>
<h1><span class="mw-headline" id=".D0.98.D1.82.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B8_.D0.B2_.D1.81.D1.82.D0.B8.D0.BB_.D0.94.D0.B6.D0.B0.D0.B2.D0.B0">Итератори в стил Джава</span></h1>
<p>Основната цел на итераторите в стил Джава(освен стила на писане) е да решат проблемите на тези в стил STL. Вътрешно те използват STL итераторите. Така, че за целите на тази статия, е безопасно да предположим, че итераторите в стил Джава също съдържат указатели, но све пак успяват да предотвратят проблемите на STL-ските.
</p><p><b>Решение на първия проблем</b>. Константните (не-промянеруеми) итератори в стил Джава решават първия проблем като държат в себе си локално <i>копие</i> на контейнера. Вътрешно, те са имплементирани чрез използване на итератори в стил STL, създадени върху това <i>копие</i>. Чрез поддържането на копие, за константният итератор в стил Джава е в безопасност от промени в оригиналния обект, тъй като Qt ще отдели данните, когато койнтейнера се модифицира. Това означава, че вие можете да продължите да обхождате дори след като оригиналния обект е станал невалиден. За да илюстрираме:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> vector1<span class="sy0">;</span>
vector1 <span class="sy0">&lt;&lt;</span> <span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">2</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">3</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">4</span><span class="sy0">;</span>
<span class="kw5">QVectorIterator</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> it<span class="br0">&#40;</span>vector1<span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// 'it' вече съдържа копие на vector1</span>
vector1 <span class="sy0">&lt;&lt;</span> <span class="nu0">5</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">6</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">7</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">8</span><span class="sy0">;</span> <span class="co1">// vector1 се отделя и локалното копие в QVectorIterator остава непокътнато</span>
<span class="kw2">qDebug</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;&lt;</span> it.<span class="me1">value</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// безопасно, ще покаже 1</span></pre></div></div>
<p><b>Решение на втория проблем</b>. Неконстантните итератори в стил Джава решават втория проблем като правят контейнера <i>несподелеруем</i>. Несподелеруемия контейнер е такъв, който не споделя данните си дори с нови обекти, които създават негово копие. За да илюстрираме:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QVector</span> v1<span class="sy0">;</span>
v1 <span class="sy0">&lt;&lt;</span> <span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">2</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">2</span><span class="sy0">;</span>
<span class="kw5">QVector</span> v2 <span class="sy0">=</span> v1<span class="sy0">;</span> <span class="co1">// v1 и v2 споделят едни и същи данни заради скритото споделяне</span>
v1.<span class="me1">setSharable</span><span class="br0">&#40;</span><span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// маркираме v1 като несподелеруем (вътрешно API) и кара контейнера дасе отдели (т.е да си направи реално копие)</span>
<span class="kw5">QVector</span> v3 <span class="sy0">=</span> v1<span class="sy0">;</span> <span class="co1">// v3 получава свое собствено копие на данните тъй като v1 е 'несподелеруем'</span></pre></div></div>
<p>Благодарение на това, вторият проблем е избегнат - писането чрез използване на итератор на един обект не презаписва данните в някой друг обект.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> vector1<span class="sy0">;</span>
vector1 <span class="sy0">&lt;&lt;</span> <span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">2</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">3</span> <span class="sy0">&lt;&lt;</span> <span class="nu0">4</span><span class="sy0">;</span>
<span class="kw5">QMutableVectorIterator</span> it<span class="br0">&#40;</span>vector1<span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// итератора държи указател към данните във vector1 и го прави несподелеруем</span>
<span class="kw5">QVector</span><span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;</span> vector2 <span class="sy0">=</span> vector1<span class="sy0">;</span> <span class="co1">// тъй като vector1 е несподелеруем, vector2 получава свое собствено копие</span>
it.<span class="me1">setValue</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// само vector1 се модифицира</span></pre></div></div>
<h1><span class="mw-headline" id="QT_STRICT_ITERATORS">QT_STRICT_ITERATORS</span></h1>
<p>По подразбиране, понякога е възможно да се приравни неконстантен итератор на константен. Мислете за итератора като typedef на някакъв тип указател, C<i>+ позволява приравняването на неконстантни указатели към константни. За пример:</i>
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp-qt source-cpp-qt"><pre class="de1"><span class="kw5">QMap</span><span class="sy0">&lt;</span><span class="kw5">QString</span><span class="sy0">,</span> <span class="kw5">QString</span><span class="sy0">&gt;</span> map<span class="sy0">;</span>
<span class="kw5">QMap</span><span class="sy0">&lt;</span><span class="kw5">QString</span><span class="sy0">,</span> <span class="kw5">QString</span><span class="sy0">&gt;::</span><span class="me2">const_iterator</span> it <span class="sy0">=</span> map.<span class="me1">find</span><span class="br0">&#40;</span><span class="st0">&quot;girish&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// кода се компилира и работи добре, но find() връща неконстантен QMap::iterator, който отделя данните!</span></pre></div></div>

<!-- 
NewPP limit report
CPU time usage: 0.109 seconds
Real time usage: 0.110 seconds
Preprocessor visited node count: 81/1000000
Preprocessor generated node count: 212/1000000
Post‐expand include size: 1256/2097152 bytes
Template argument size: 409/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qtio_wiki:pcache:idhash:2660-0!*!0!!en!*!* and timestamp 20151105105120 and revision id 15970
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="indexc592.html?title=Iterators/bg&amp;oldid=15970">http://wiki.qt.io/index.php?title=Iterators/bg&amp;oldid=15970</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Articles_needing_cleanup.html" title="Category:Articles needing cleanup">Articles needing cleanup</a></li><li><a href="Category_QtInternals.html" title="Category:QtInternals">QtInternals</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="User_10.0.113.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.0.113.70</a></li><li id="pt-anontalk"><a href="User_talk_10.0.113.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="https://login.qt.io/authorize?client_id=one-qt-server-003&amp;response_type=code&amp;state=c18c721e823fb510&amp;scope=authorizations&amp;redirect_uri=https%3A%2F%2Fwiki.qt.io%2FSpecial%3AQtLogin%2Fcallback" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Sign in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Iterators/bg.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="Talk_Iterators/bg.html?title=Talk:Iterators/bg&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Iterators/bg.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="index5a0a.html?title=Iterators/bg&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="index89b9.html?title=Iterators/bg&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://wiki.qt.io/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search Qt Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(skins/common/images/wiki.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="How_to_create_columns_in_a_QML_ListView.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Iterators/bg.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Iterators/bg.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-permalink"><a href="indexc592.html?title=Iterators/bg&amp;oldid=15970" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="index1115.html?title=Iterators/bg&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 17 April 2015, at 12:24.</li>
											<li id="footer-info-viewcount">This page has been accessed 419 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-terms"><a href='https://developer.qtcloudservices.com/legal/terms'>Käyttöehdot</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="load2f85.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;printable=1&amp;skin=vector&amp;*"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54043535-2', 'auto');
  ga('send', 'pageview');

</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":168});
}</script>
	</body>

<!-- Mirrored from wiki.qt.io/index.php?title=Iterators/bg&printable=yes by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 05 Nov 2015 12:37:02 GMT -->
</html>
